<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Max Lindmark">
<meta name="dcterms.date" content="2023-05-02">

<title>Collate CPUE data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="01-collate-cpue-data-exchange_files/libs/clipboard/clipboard.min.js"></script>
<script src="01-collate-cpue-data-exchange_files/libs/quarto-html/quarto.js"></script>
<script src="01-collate-cpue-data-exchange_files/libs/quarto-html/popper.min.js"></script>
<script src="01-collate-cpue-data-exchange_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="01-collate-cpue-data-exchange_files/libs/quarto-html/anchor.min.js"></script>
<link href="01-collate-cpue-data-exchange_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="01-collate-cpue-data-exchange_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="01-collate-cpue-data-exchange_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="01-collate-cpue-data-exchange_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="01-collate-cpue-data-exchange_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Collate CPUE data</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Max Lindmark </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 2, 2023</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="intro" class="level1">
<h1>Intro</h1>
<p>In this script, I load exchange data from datras and calculate catch of cod and flounder in unit kg/km^2 (with TVL gear) by size group, by correcting for gear dimensions, sweeplength and trawl speed, following Orio et al 2017.</p>
<section id="load-libraries" class="level2">
<h2 class="anchored" data-anchor-id="load-libraries">Load libraries</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidylog)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RCurl)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(icesDatras)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mapdata)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rgdal)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(raster)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rgeos)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(chron)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lattice)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ncdf4)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(marmap)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rnaturalearthdata)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mapplots)</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geosphere)</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelr)</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(devtools)</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(terra)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>world <span class="ot">&lt;-</span> <span class="fu">ne_countries</span>(<span class="at">scale =</span> <span class="st">"medium"</span>, <span class="at">returnclass =</span> <span class="st">"sf"</span>)</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="co"># function to plot proportion zero catches</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>prop_zero <span class="ot">&lt;-</span> <span class="cf">function</span>(.data){</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>  .data <span class="sc">|&gt;</span> </span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">zero_catch =</span> <span class="fu">ifelse</span>(haul_cpue_kg <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"Y"</span>, <span class="st">"N"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(zero_catch) <span class="sc">|&gt;</span> </span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">per =</span> <span class="fu">prop.table</span>(n) <span class="sc">*</span> <span class="dv">100</span>)</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Source code for map plots</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a><span class="fu">source_url</span>(<span class="st">"https://raw.githubusercontent.com/maxlindmark/cod-interactions/main/R/functions/map-plot.R"</span>)</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Source code for lon lat to utm</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a><span class="fu">source_url</span>(<span class="st">"https://raw.githubusercontent.com/maxlindmark/cod-interactions/main/R/functions/lon-lat-utm.R"</span>)</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_plot</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="read-data" class="level2">
<h2 class="anchored" data-anchor-id="read-data">Read data</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data were read in from getDATRAS on 2022.09.06</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Read HH data</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># bits_hh &lt;- getDATRAS(record = "HH", survey = "BITS", years = 1991:2020, quarters = c(1, 4))</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(bits_hh, "data/DATRAS_exchange/bits_hh.csv")</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>bits_hh <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/DATRAS_exchange/bits_hh.csv"</span>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(Year <span class="sc">&gt;</span> <span class="dv">1992</span>) <span class="co"># To match covariates</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Read HL data</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># bits_hl &lt;- getDATRAS(record = "HL", survey = "BITS", years = 1991:2020, quarters = c(1, 4))</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(bits_hl, "data/DATRAS_exchange/bits_hl.csv")</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>bits_hl <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/DATRAS_exchange/bits_hl.csv"</span>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(Year <span class="sc">&gt;</span> <span class="dv">1992</span>) <span class="co"># To match covariates</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Read CA data</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co"># bits_ca &lt;- getDATRAS(record = "CA", survey = "BITS", years = 1991:2020, quarters = c(1, 4))</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(bits_ca, "data/DATRAS_exchange/bits_ca.csv")</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>bits_ca <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/DATRAS_exchange/bits_ca.csv"</span>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(Year <span class="sc">&gt;</span> <span class="dv">1992</span>) <span class="co"># To match covariates</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Read gear standardization data </span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>sweep <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/from_ale/sweep_9116.csv"</span>, <span class="at">sep =</span> <span class="st">";"</span>, <span class="at">dec =</span> <span class="st">","</span>, <span class="at">fileEncoding =</span> <span class="st">"latin1"</span>)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>sweep <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/from_ale/sweep_9118_ml.csv"</span>, <span class="at">sep =</span> <span class="st">";"</span>, <span class="at">fileEncoding =</span> <span class="st">"latin1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="standardize-catch-data" class="level2">
<h2 class="anchored" data-anchor-id="standardize-catch-data">Standardize catch data</h2>
<section id="standardize-ships" class="level4">
<h4 class="anchored" data-anchor-id="standardize-ships">Standardize ships</h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Before creating a a new ID, make sure that countries and ships names use the same format</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">unique</span>(sweep<span class="sc">$</span>Ship))</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] "26HF" "ATL"  "ATLD" "BAL"  "BALL" "BPE"  "CEV"  "CLP"  "CLV"  "COML"</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11] "DAN2" "DANS" "DAR"  "GDY"  "HAF"  "KOH"  "KOOT" "MON"  "MONL" "SOL" </span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [21] "SOL2" "VSH"  "ZBA"</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">unique</span>(bits_hh<span class="sc">$</span>Ship))</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] "06JR" "06S1" "06SL" "26D4" "26HF" "26HI" "67BC" "77AR" "77MA" "77SE"</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11] "AA36" "ESLF" "ESOR" "ESTM" "LAIZ" "LTDA" "RUEK" "RUJB" "RUNT" "RUS6"</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">unique</span>(bits_hl<span class="sc">$</span>Ship))</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] "06JR" "06S1" "06SL" "26D4" "26HF" "26HI" "67BC" "77AR" "77MA" "77SE"</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11] "AA36" "ESLF" "ESOR" "ESTM" "LAIZ" "LTDA" "RUEK" "RUJB" "RUNT" "RUS6"</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Change back to the old Ship name standard...</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co"># https://vocab.ices.dk/?ref=315</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co"># https://vocab.ices.dk/?ref=315</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Assumptions:</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="co"># SOL is Solea on ICES links above, and SOL1 is the older one of the two SOLs (1 and 2)</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="co"># DAN is Dana</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="co"># sweep |&gt; filter(Ship == "DANS") |&gt; distinct(Year, Country)</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="co"># sweep |&gt; filter(Ship == "DAN2") |&gt; distinct(Year)</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="co"># bits_hh |&gt; filter(Ship == "67BC") |&gt; distinct(Year, Country)</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="co"># sweep |&gt; filter(Ship == "DAN2") |&gt; distinct(Year)</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="co"># bits_hh |&gt; filter(Ship == "26D4") |&gt; distinct(Year) # Strange that 26DF doesn't extend far back. Which ship did the Danes use? Ok, I have no Danish data that old.</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="co"># bits_hh |&gt; filter(Country == "DK") |&gt; distinct(Year)</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>bits_hh <span class="ot">&lt;-</span> bits_hh <span class="sc">|&gt;</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Ship2 =</span> <span class="fu">fct_recode</span>(Ship,</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"SOL"</span> <span class="ot">=</span> <span class="st">"06S1"</span>, </span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"SOL2"</span> <span class="ot">=</span> <span class="st">"06SL"</span>,</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"DAN2"</span> <span class="ot">=</span> <span class="st">"26D4"</span>,</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"HAF"</span> <span class="ot">=</span> <span class="st">"26HF"</span>,</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"HAF"</span> <span class="ot">=</span> <span class="st">"26HI"</span>,</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"HAF"</span> <span class="ot">=</span> <span class="st">"67BC"</span>,</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"BAL"</span> <span class="ot">=</span> <span class="st">"67BC"</span>,</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"ARG"</span> <span class="ot">=</span> <span class="st">"77AR"</span>,</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"77SE"</span> <span class="ot">=</span> <span class="st">"77SE"</span>,</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"AA36"</span> <span class="ot">=</span> <span class="st">"AA36"</span>,</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"KOOT"</span> <span class="ot">=</span> <span class="st">"ESLF"</span>,</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"KOH"</span> <span class="ot">=</span> <span class="st">"ESTM"</span>,</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"DAR"</span> <span class="ot">=</span> <span class="st">"LTDA"</span>,</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"ATLD"</span> <span class="ot">=</span> <span class="st">"RUJB"</span>,</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"ATL"</span> <span class="ot">=</span> <span class="st">"RUNT"</span>), </span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>         <span class="at">Ship2 =</span> <span class="fu">as.character</span>(Ship2)) <span class="sc">|&gt;</span> </span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Ship3 =</span> <span class="fu">ifelse</span>(Country <span class="sc">==</span> <span class="st">"LV"</span> <span class="sc">&amp;</span> Ship2 <span class="sc">==</span> <span class="st">"BAL"</span>, <span class="st">"BALL"</span>, Ship2))</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>bits_hl <span class="ot">&lt;-</span> bits_hl <span class="sc">|&gt;</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Ship2 =</span> <span class="fu">fct_recode</span>(Ship,</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"SOL"</span> <span class="ot">=</span> <span class="st">"06S1"</span>, </span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"SOL2"</span> <span class="ot">=</span> <span class="st">"06SL"</span>,</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"DAN2"</span> <span class="ot">=</span> <span class="st">"26D4"</span>,</span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"HAF"</span> <span class="ot">=</span> <span class="st">"26HF"</span>,</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"HAF"</span> <span class="ot">=</span> <span class="st">"26HI"</span>,</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"HAF"</span> <span class="ot">=</span> <span class="st">"67BC"</span>,</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"BAL"</span> <span class="ot">=</span> <span class="st">"67BC"</span>,</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"ARG"</span> <span class="ot">=</span> <span class="st">"77AR"</span>,</span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"77SE"</span> <span class="ot">=</span> <span class="st">"77SE"</span>,</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"AA36"</span> <span class="ot">=</span> <span class="st">"AA36"</span>,</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"KOOT"</span> <span class="ot">=</span> <span class="st">"ESLF"</span>,</span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"KOH"</span> <span class="ot">=</span> <span class="st">"ESTM"</span>,</span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"DAR"</span> <span class="ot">=</span> <span class="st">"LTDA"</span>,</span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"ATLD"</span> <span class="ot">=</span> <span class="st">"RUJB"</span>,</span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"ATL"</span> <span class="ot">=</span> <span class="st">"RUNT"</span>), </span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a>         <span class="at">Ship2 =</span> <span class="fu">as.character</span>(Ship2)) <span class="sc">|&gt;</span> </span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Ship3 =</span> <span class="fu">ifelse</span>(Country <span class="sc">==</span> <span class="st">"LV"</span> <span class="sc">&amp;</span> Ship2 <span class="sc">==</span> <span class="st">"BAL"</span>, <span class="st">"BALL"</span>, Ship2))</span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>bits_ca <span class="ot">&lt;-</span> bits_ca <span class="sc">|&gt;</span></span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Ship2 =</span> <span class="fu">fct_recode</span>(Ship,</span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"SOL"</span> <span class="ot">=</span> <span class="st">"06S1"</span>, </span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"SOL2"</span> <span class="ot">=</span> <span class="st">"06SL"</span>,</span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"DAN2"</span> <span class="ot">=</span> <span class="st">"26D4"</span>,</span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"HAF"</span> <span class="ot">=</span> <span class="st">"26HF"</span>,</span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"HAF"</span> <span class="ot">=</span> <span class="st">"26HI"</span>,</span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"HAF"</span> <span class="ot">=</span> <span class="st">"67BC"</span>,</span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"BAL"</span> <span class="ot">=</span> <span class="st">"67BC"</span>,</span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"ARG"</span> <span class="ot">=</span> <span class="st">"77AR"</span>,</span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"77SE"</span> <span class="ot">=</span> <span class="st">"77SE"</span>,</span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"AA36"</span> <span class="ot">=</span> <span class="st">"AA36"</span>,</span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"KOOT"</span> <span class="ot">=</span> <span class="st">"ESLF"</span>,</span>
<span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"KOH"</span> <span class="ot">=</span> <span class="st">"ESTM"</span>,</span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"DAR"</span> <span class="ot">=</span> <span class="st">"LTDA"</span>,</span>
<span id="cb3-81"><a href="#cb3-81" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"ATLD"</span> <span class="ot">=</span> <span class="st">"RUJB"</span>,</span>
<span id="cb3-82"><a href="#cb3-82" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"ATL"</span> <span class="ot">=</span> <span class="st">"RUNT"</span>), </span>
<span id="cb3-83"><a href="#cb3-83" aria-hidden="true" tabindex="-1"></a>         <span class="at">Ship2 =</span> <span class="fu">as.character</span>(Ship2)) <span class="sc">|&gt;</span> </span>
<span id="cb3-84"><a href="#cb3-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Ship3 =</span> <span class="fu">ifelse</span>(Country <span class="sc">==</span> <span class="st">"LV"</span> <span class="sc">&amp;</span> Ship2 <span class="sc">==</span> <span class="st">"BAL"</span>, <span class="st">"BALL"</span>, Ship2))</span>
<span id="cb3-85"><a href="#cb3-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-86"><a href="#cb3-86" aria-hidden="true" tabindex="-1"></a><span class="co"># Ok, which ships are missing in the exchange data?</span></span>
<span id="cb3-87"><a href="#cb3-87" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(bits_hh<span class="sc">$</span>Ship3)[<span class="sc">!</span><span class="fu">unique</span>(bits_hh<span class="sc">$</span>Ship3) <span class="sc">%in%</span> <span class="fu">unique</span>(sweep<span class="sc">$</span>Ship)]</span>
<span id="cb3-88"><a href="#cb3-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "LAIZ" "AA36" "06JR" "ARG"  "RUEK" "RUS6" "77MA" "77SE" "ESOR"</span></span>
<span id="cb3-89"><a href="#cb3-89" aria-hidden="true" tabindex="-1"></a><span class="co"># Swedish Ships and unidentified ships are NOT in the Sweep data</span></span>
<span id="cb3-90"><a href="#cb3-90" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(sweep<span class="sc">$</span>Ship3)[<span class="sc">!</span><span class="fu">unique</span>(sweep<span class="sc">$</span>Ship3) <span class="sc">%in%</span> <span class="fu">unique</span>(bits_hh<span class="sc">$</span>Ship3)]</span>
<span id="cb3-91"><a href="#cb3-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; NULL</span></span>
<span id="cb3-92"><a href="#cb3-92" aria-hidden="true" tabindex="-1"></a><span class="co"># But all Sweep Ships are in the exchange data</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="standardize-countries" class="level4">
<h4 class="anchored" data-anchor-id="standardize-countries">Standardize countries</h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Now check which country codes are used</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">unique</span>(sweep<span class="sc">$</span>Country))</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "DEN" "EST" "GFR" "LAT" "LTU" "POL" "RUS" "SWE"</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">unique</span>(bits_hh<span class="sc">$</span>Country))</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "DE" "DK" "EE" "LT" "LV" "PL" "RU" "SE"</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># https://www.nationsonline.org/oneworld/country_code_list.htm#E</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>bits_hh <span class="ot">&lt;-</span> bits_hh <span class="sc">|&gt;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country =</span> <span class="fu">fct_recode</span>(Country,</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"DEN"</span> <span class="ot">=</span> <span class="st">"DK"</span>,</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"EST"</span> <span class="ot">=</span> <span class="st">"EE"</span>,</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"GFR"</span> <span class="ot">=</span> <span class="st">"DE"</span>,</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"LAT"</span> <span class="ot">=</span> <span class="st">"LV"</span>,</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"LTU"</span> <span class="ot">=</span> <span class="st">"LT"</span>,</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"POL"</span> <span class="ot">=</span> <span class="st">"PL"</span>,</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"RUS"</span> <span class="ot">=</span> <span class="st">"RU"</span>,</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"SWE"</span> <span class="ot">=</span> <span class="st">"SE"</span>),</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>         <span class="at">Country =</span> <span class="fu">as.character</span>(Country))</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>bits_hl <span class="ot">&lt;-</span> bits_hl <span class="sc">|&gt;</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country =</span> <span class="fu">fct_recode</span>(Country,</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"DEN"</span> <span class="ot">=</span> <span class="st">"DK"</span>,</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"EST"</span> <span class="ot">=</span> <span class="st">"EE"</span>,</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"GFR"</span> <span class="ot">=</span> <span class="st">"DE"</span>,</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"LAT"</span> <span class="ot">=</span> <span class="st">"LV"</span>,</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"LTU"</span> <span class="ot">=</span> <span class="st">"LT"</span>,</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"POL"</span> <span class="ot">=</span> <span class="st">"PL"</span>,</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"RUS"</span> <span class="ot">=</span> <span class="st">"RU"</span>,</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"SWE"</span> <span class="ot">=</span> <span class="st">"SE"</span>),</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">Country =</span> <span class="fu">as.character</span>(Country))</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>bits_ca <span class="ot">&lt;-</span> bits_ca <span class="sc">|&gt;</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country =</span> <span class="fu">fct_recode</span>(Country,</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"DEN"</span> <span class="ot">=</span> <span class="st">"DK"</span>,</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"EST"</span> <span class="ot">=</span> <span class="st">"EE"</span>,</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"GFR"</span> <span class="ot">=</span> <span class="st">"DE"</span>,</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"LAT"</span> <span class="ot">=</span> <span class="st">"LV"</span>,</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"LTU"</span> <span class="ot">=</span> <span class="st">"LT"</span>,</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"POL"</span> <span class="ot">=</span> <span class="st">"PL"</span>,</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"RUS"</span> <span class="ot">=</span> <span class="st">"RU"</span>,</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"SWE"</span> <span class="ot">=</span> <span class="st">"SE"</span>),</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>         <span class="at">Country =</span> <span class="fu">as.character</span>(Country))</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Gear? Are they the same?</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">unique</span>(bits_hh<span class="sc">$</span>Gear))</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] "DT"  "ESB" "EXP" "FOT" "GOV" "GRT" "H20" "HAK" "LBT" "LPT" "P20" "PEL"</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] "SON" "TVL" "TVS"</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">unique</span>(bits_hl<span class="sc">$</span>Gear))</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] "DT"  "ESB" "EXP" "FOT" "GOV" "GRT" "H20" "HAK" "LBT" "P20" "PEL" "SON"</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] "TVL" "TVS"</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">unique</span>(sweep<span class="sc">$</span>Gear))</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] "CAM" "CHP" "DT"  "EGY" "ESB" "EXP" "GRT" "H20" "HAK" "LBT" "LPT" "P20"</span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] "PEL" "SON" "TVL" "TVS"</span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a><span class="co"># Which gears are NOT in the sweep data?</span></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(bits_hl<span class="sc">$</span>Gear)[<span class="sc">!</span><span class="fu">unique</span>(bits_hl<span class="sc">$</span>Gear) <span class="sc">%in%</span> <span class="fu">unique</span>(sweep<span class="sc">$</span>Gear)] </span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "GOV" "FOT"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="create-a-simple-haul-id-that-works-across-all-exchange-data" class="level4">
<h4 class="anchored" data-anchor-id="create-a-simple-haul-id-that-works-across-all-exchange-data">Create a simple haul ID that works across all exchange data</h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create ID column</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>bits_ca <span class="ot">&lt;-</span> bits_ca <span class="sc">|&gt;</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">IDx =</span> <span class="fu">paste</span>(Year, Quarter, Country, Ship, Gear, StNo, HaulNo, <span class="at">sep =</span> <span class="st">"."</span>))</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>bits_hl <span class="ot">&lt;-</span> bits_hl <span class="sc">|&gt;</span> </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">IDx =</span> <span class="fu">paste</span>(Year, Quarter, Country, Ship, Gear, StNo, HaulNo, <span class="at">sep =</span> <span class="st">"."</span>))</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>bits_hh <span class="ot">&lt;-</span> bits_hh <span class="sc">|&gt;</span> </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">IDx =</span> <span class="fu">paste</span>(Year, Quarter, Country, Ship, Gear, StNo, HaulNo, <span class="at">sep =</span> <span class="st">"."</span>))</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Works like a haul-id</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>bits_hh <span class="sc">|&gt;</span> <span class="fu">group_by</span>(IDx) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> <span class="fu">distinct</span>(n)</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 1</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       n</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;int&gt;</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1     1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="create-the-same-unique-haul-id-in-the-cpue-data-that-i-have-in-the-sweep-file" class="level4">
<h4 class="anchored" data-anchor-id="create-the-same-unique-haul-id-in-the-cpue-data-that-i-have-in-the-sweep-file">Create the same unique haul-ID in the cpue data that I have in the sweep-file</h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>bits_hl <span class="ot">&lt;-</span> bits_hl <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">haul.id =</span> <span class="fu">paste</span>(Year, Quarter, Country, Ship3, Gear, StNo, HaulNo, <span class="at">sep =</span> <span class="st">":"</span>)) </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>bits_hh <span class="ot">&lt;-</span> bits_hh <span class="sc">|&gt;</span> </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">haul.id =</span> <span class="fu">paste</span>(Year, Quarter, Country, Ship3, Gear, StNo, HaulNo, <span class="at">sep =</span> <span class="st">":"</span>)) </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>bits_hh <span class="sc">|&gt;</span> <span class="fu">group_by</span>(haul.id) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> <span class="fu">distinct</span>(n)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 1</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       n</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;int&gt;</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1     1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="clean-datras-exchange-data" class="level4">
<h4 class="anchored" data-anchor-id="clean-datras-exchange-data">Clean DATRAS EXCHANGE data</h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select just valid, additional and no oxygen hauls</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>bits_hh <span class="ot">&lt;-</span> bits_hh <span class="sc">|&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">#filter(!Country == "SWE") |&gt; # I'll deal with Sweden later...</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(HaulVal <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"A"</span>,<span class="st">"N"</span>,<span class="st">"V"</span>))</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Add ICES rectangle</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>bits_hh<span class="sc">$</span>Rect <span class="ot">&lt;-</span> mapplots<span class="sc">::</span><span class="fu">ices.rect2</span>(<span class="at">lon =</span> bits_hh<span class="sc">$</span>ShootLong, <span class="at">lat =</span> bits_hh<span class="sc">$</span>ShootLat)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add ICES subdivisions</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>shape <span class="ot">&lt;-</span> <span class="fu">shapefile</span>(<span class="st">"data/ICES_StatRec_mapto_ICES_Areas/StatRec_map_Areas_Full_20170124.shp"</span>)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>pts <span class="ot">&lt;-</span> <span class="fu">SpatialPoints</span>(<span class="fu">cbind</span>(bits_hh<span class="sc">$</span>ShootLong, bits_hh<span class="sc">$</span>ShootLat), </span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>                     <span class="at">proj4string =</span> <span class="fu">CRS</span>(<span class="fu">proj4string</span>(shape)))</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>bits_hh<span class="sc">$</span>sub_div <span class="ot">&lt;-</span> <span class="fu">over</span>(pts, shape)<span class="sc">$</span>Area_27</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename subdivisions to the more common names and do some more filtering (by sub div and area)</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">unique</span>(bits_hh<span class="sc">$</span>sub_div))</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] "3.a.20"   "3.a.21"   "3.b.23"   "3.c.22"   "3.d.24"   "3.d.25"  </span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] "3.d.26"   "3.d.27"   "3.d.28.1" "3.d.28.2" "3.d.29"</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>bits_hh <span class="ot">&lt;-</span> bits_hh <span class="sc">|&gt;</span> </span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sub_div =</span> <span class="fu">factor</span>(sub_div),</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>         <span class="at">sub_div =</span> <span class="fu">fct_recode</span>(sub_div,</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"20"</span> <span class="ot">=</span> <span class="st">"3.a.20"</span>,</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"21"</span> <span class="ot">=</span> <span class="st">"3.a.21"</span>,</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"22"</span> <span class="ot">=</span> <span class="st">"3.c.22"</span>,</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"23"</span> <span class="ot">=</span> <span class="st">"3.b.23"</span>,</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"24"</span> <span class="ot">=</span> <span class="st">"3.d.24"</span>,</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"25"</span> <span class="ot">=</span> <span class="st">"3.d.25"</span>,</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"26"</span> <span class="ot">=</span> <span class="st">"3.d.26"</span>,</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"27"</span> <span class="ot">=</span> <span class="st">"3.d.27"</span>,</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"28"</span> <span class="ot">=</span> <span class="st">"3.d.28.1"</span>,</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"28"</span> <span class="ot">=</span> <span class="st">"3.d.28.2"</span>,</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"29"</span> <span class="ot">=</span> <span class="st">"3.d.29"</span>),</span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>         <span class="at">sub_div =</span> <span class="fu">as.character</span>(sub_div)) </span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Now add the fishing line information from the sweep file (we need that later</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a><span class="co"># to standardize based on gear geometry). We add in the the HH data and then</span></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a><span class="co"># transfer it to the other exchange data files when left_joining.</span></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Check which Fishing lines I have in the sweep data:</span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>fishing_line <span class="ot">&lt;-</span> sweep <span class="sc">|&gt;</span> <span class="fu">group_by</span>(Gear) <span class="sc">|&gt;</span> <span class="fu">distinct</span>(Fishing.line)</span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>bits_hh <span class="ot">&lt;-</span> <span class="fu">left_join</span>(bits_hh, fishing_line)</span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a><span class="co"># sweep |&gt; group_by(Gear) |&gt; distinct(Fishing.line)</span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a><span class="co"># bits_hh |&gt; group_by(Gear) |&gt; distinct(Fishing.line)</span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>bits_hh<span class="sc">$</span>Fishing.line <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(bits_hh<span class="sc">$</span>Fishing.line)</span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Which gears do now have fishing line?</span></span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>bits_hh<span class="sc">$</span>Fishing.line[<span class="fu">is.na</span>(bits_hh<span class="sc">$</span>Fishing.line)] <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">9</span></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a>bits_hh <span class="sc">|&gt;</span> <span class="fu">filter</span>(Fishing.line <span class="sc">==</span> <span class="sc">-</span><span class="dv">9</span>) <span class="sc">|&gt;</span> <span class="fu">distinct</span>(Gear)</span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Gear</span></span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  GRT</span></span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  FOT</span></span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  GOV</span></span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   DT</span></span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  LPT</span></span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  ESB</span></span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7  EXP</span></span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8  HAK</span></span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a><span class="co"># 1  GRT</span></span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a><span class="co"># 2  CAM</span></span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a><span class="co"># 3  EXP</span></span>
<span id="cb7-64"><a href="#cb7-64" aria-hidden="true" tabindex="-1"></a><span class="co"># 4  FOT</span></span>
<span id="cb7-65"><a href="#cb7-65" aria-hidden="true" tabindex="-1"></a><span class="co"># 5  GOV</span></span>
<span id="cb7-66"><a href="#cb7-66" aria-hidden="true" tabindex="-1"></a><span class="co"># 6  EGY</span></span>
<span id="cb7-67"><a href="#cb7-67" aria-hidden="true" tabindex="-1"></a><span class="co"># 7   DT</span></span>
<span id="cb7-68"><a href="#cb7-68" aria-hidden="true" tabindex="-1"></a><span class="co"># 8  ESB</span></span>
<span id="cb7-69"><a href="#cb7-69" aria-hidden="true" tabindex="-1"></a><span class="co"># 9  HAK</span></span>
<span id="cb7-70"><a href="#cb7-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-71"><a href="#cb7-71" aria-hidden="true" tabindex="-1"></a><span class="co"># FROM the index files (Orio, "Research Östersjön 2")</span></span>
<span id="cb7-72"><a href="#cb7-72" aria-hidden="true" tabindex="-1"></a><span class="co"># FOT has 83</span></span>
<span id="cb7-73"><a href="#cb7-73" aria-hidden="true" tabindex="-1"></a><span class="co"># GOV has 160</span></span>
<span id="cb7-74"><a href="#cb7-74" aria-hidden="true" tabindex="-1"></a><span class="co"># ESB ??</span></span>
<span id="cb7-75"><a href="#cb7-75" aria-hidden="true" tabindex="-1"></a><span class="co"># GRT ??</span></span>
<span id="cb7-76"><a href="#cb7-76" aria-hidden="true" tabindex="-1"></a><span class="co"># Rest are unknown and likely not used by Swedish data (therefore their correction</span></span>
<span id="cb7-77"><a href="#cb7-77" aria-hidden="true" tabindex="-1"></a><span class="co"># factors my be in the sweep file)</span></span>
<span id="cb7-78"><a href="#cb7-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-79"><a href="#cb7-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Add these values:</span></span>
<span id="cb7-80"><a href="#cb7-80" aria-hidden="true" tabindex="-1"></a>bits_hh <span class="ot">&lt;-</span> bits_hh <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Fishing.line =</span> <span class="fu">ifelse</span>(Gear <span class="sc">==</span> <span class="st">"FOT"</span>, <span class="dv">83</span>, Fishing.line))</span>
<span id="cb7-81"><a href="#cb7-81" aria-hidden="true" tabindex="-1"></a>bits_hh <span class="ot">&lt;-</span> bits_hh <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Fishing.line =</span> <span class="fu">ifelse</span>(Gear <span class="sc">==</span> <span class="st">"GOV"</span>, <span class="dv">160</span>, Fishing.line))</span>
<span id="cb7-82"><a href="#cb7-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-83"><a href="#cb7-83" aria-hidden="true" tabindex="-1"></a><span class="co"># Now select the hauls in the HH data when subsetting the HL data</span></span>
<span id="cb7-84"><a href="#cb7-84" aria-hidden="true" tabindex="-1"></a>bits_hl <span class="ot">&lt;-</span> bits_hl <span class="sc">|&gt;</span></span>
<span id="cb7-85"><a href="#cb7-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(haul.id <span class="sc">%in%</span> bits_hh<span class="sc">$</span>haul.id)</span>
<span id="cb7-86"><a href="#cb7-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-87"><a href="#cb7-87" aria-hidden="true" tabindex="-1"></a><span class="co"># Match columns from the HH data to the HL and CA data</span></span>
<span id="cb7-88"><a href="#cb7-88" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">unique</span>(bits_hh<span class="sc">$</span>sub_div))</span>
<span id="cb7-89"><a href="#cb7-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] "20" "21" "22" "23" "24" "25" "26" "27" "28" "29"</span></span>
<span id="cb7-90"><a href="#cb7-90" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">colnames</span>(bits_hh))</span>
<span id="cb7-91"><a href="#cb7-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] "BotCurDir"         "BotCurSpeed"       "BotSal"           </span></span>
<span id="cb7-92"><a href="#cb7-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] "BotTemp"           "Buoyancy"          "BySpecRecCode"    </span></span>
<span id="cb7-93"><a href="#cb7-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] "CodendMesh"        "Country"           "DataType"         </span></span>
<span id="cb7-94"><a href="#cb7-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10] "DateofCalculation" "Day"               "DayNight"         </span></span>
<span id="cb7-95"><a href="#cb7-95" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] "Depth"             "DepthStratum"      "Distance"         </span></span>
<span id="cb7-96"><a href="#cb7-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [16] "DoorSpread"        "DoorSurface"       "DoorType"         </span></span>
<span id="cb7-97"><a href="#cb7-97" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [19] "DoorWgt"           "Fishing.line"      "Gear"             </span></span>
<span id="cb7-98"><a href="#cb7-98" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [22] "GearEx"            "GroundSpeed"       "haul.id"          </span></span>
<span id="cb7-99"><a href="#cb7-99" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [25] "HaulDur"           "HaulLat"           "HaulLong"         </span></span>
<span id="cb7-100"><a href="#cb7-100" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [28] "HaulNo"            "HaulVal"           "HydroStNo"        </span></span>
<span id="cb7-101"><a href="#cb7-101" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [31] "IDx"               "KiteDim"           "MaxTrawlDepth"    </span></span>
<span id="cb7-102"><a href="#cb7-102" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [34] "MinTrawlDepth"     "Month"             "Netopening"       </span></span>
<span id="cb7-103"><a href="#cb7-103" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [37] "PelSampType"       "Quarter"           "RecordType"       </span></span>
<span id="cb7-104"><a href="#cb7-104" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [40] "Rect"              "Rigging"           "SecchiDepth"      </span></span>
<span id="cb7-105"><a href="#cb7-105" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [43] "Ship"              "Ship2"             "Ship3"            </span></span>
<span id="cb7-106"><a href="#cb7-106" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [46] "ShootLat"          "ShootLong"         "SpeedWater"       </span></span>
<span id="cb7-107"><a href="#cb7-107" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [49] "StatRec"           "StdSpecRecCode"    "StNo"             </span></span>
<span id="cb7-108"><a href="#cb7-108" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [52] "sub_div"           "SurCurDir"         "SurCurSpeed"      </span></span>
<span id="cb7-109"><a href="#cb7-109" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [55] "SurSal"            "SurTemp"           "Survey"           </span></span>
<span id="cb7-110"><a href="#cb7-110" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [58] "SweepLngt"         "SwellDir"          "SwellHeight"      </span></span>
<span id="cb7-111"><a href="#cb7-111" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [61] "ThClineDepth"      "ThermoCline"       "Tickler"          </span></span>
<span id="cb7-112"><a href="#cb7-112" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [64] "TidePhase"         "TideSpeed"         "TimeShot"         </span></span>
<span id="cb7-113"><a href="#cb7-113" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [67] "TowDir"            "Turbidity"         "WarpDen"          </span></span>
<span id="cb7-114"><a href="#cb7-114" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [70] "Warpdia"           "Warplngt"          "WgtGroundRope"    </span></span>
<span id="cb7-115"><a href="#cb7-115" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [73] "WindDir"           "WindSpeed"         "WingSpread"       </span></span>
<span id="cb7-116"><a href="#cb7-116" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [76] "X"                 "Year"</span></span>
<span id="cb7-117"><a href="#cb7-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-118"><a href="#cb7-118" aria-hidden="true" tabindex="-1"></a><span class="co"># No NAs for the variables going in to the stomach haul ID</span></span>
<span id="cb7-119"><a href="#cb7-119" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(<span class="fu">is.na</span>(bits_hh <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(Year, Quarter, Month, Country, Rect, HaulNo)))</span>
<span id="cb7-120"><a href="#cb7-120" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       Year Quarter Month Country  Rect HaulNo</span></span>
<span id="cb7-121"><a href="#cb7-121" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] FALSE   FALSE FALSE   FALSE FALSE  FALSE</span></span>
<span id="cb7-122"><a href="#cb7-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-123"><a href="#cb7-123" aria-hidden="true" tabindex="-1"></a><span class="co"># Before making the id_haul_stomach variable we need to change the country column so that it actually matches the stomach data</span></span>
<span id="cb7-124"><a href="#cb7-124" aria-hidden="true" tabindex="-1"></a><span class="co"># This is the stomach version:</span></span>
<span id="cb7-125"><a href="#cb7-125" aria-hidden="true" tabindex="-1"></a><span class="co">#[1] "LV" "PL" "SE" "DK"</span></span>
<span id="cb7-126"><a href="#cb7-126" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(bits_hh<span class="sc">$</span>Country)</span>
<span id="cb7-127"><a href="#cb7-127" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "LAT" "POL" "DEN" "GFR" "SWE" "RUS" "EST" "LTU"</span></span>
<span id="cb7-128"><a href="#cb7-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-129"><a href="#cb7-129" aria-hidden="true" tabindex="-1"></a><span class="co"># MAKE SURE THE COUNTRY CODE IS THE SAME! FOR NOW I DON*T USE COUNTRY 2</span></span>
<span id="cb7-130"><a href="#cb7-130" aria-hidden="true" tabindex="-1"></a>bits_hh <span class="ot">&lt;-</span> bits_hh <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Country2 =</span> <span class="cn">NA</span>,</span>
<span id="cb7-131"><a href="#cb7-131" aria-hidden="true" tabindex="-1"></a>                              <span class="at">Country2 =</span> <span class="fu">ifelse</span>(Country <span class="sc">==</span> <span class="st">"LAT"</span>, <span class="st">"LV"</span>, Country2),</span>
<span id="cb7-132"><a href="#cb7-132" aria-hidden="true" tabindex="-1"></a>                              <span class="at">Country2 =</span> <span class="fu">ifelse</span>(Country <span class="sc">==</span> <span class="st">"POL"</span>, <span class="st">"PL"</span>, Country2),</span>
<span id="cb7-133"><a href="#cb7-133" aria-hidden="true" tabindex="-1"></a>                              <span class="at">Country2 =</span> <span class="fu">ifelse</span>(Country <span class="sc">==</span> <span class="st">"SWE"</span>, <span class="st">"SE"</span>, Country2),</span>
<span id="cb7-134"><a href="#cb7-134" aria-hidden="true" tabindex="-1"></a>                              <span class="at">Country2 =</span> <span class="fu">ifelse</span>(Country <span class="sc">==</span> <span class="st">"DEN"</span>, <span class="st">"DK"</span>, Country2))</span>
<span id="cb7-135"><a href="#cb7-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-136"><a href="#cb7-136" aria-hidden="true" tabindex="-1"></a>bits_hh_merge <span class="ot">&lt;-</span> bits_hh <span class="sc">|&gt;</span> </span>
<span id="cb7-137"><a href="#cb7-137" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id_haul_stomach =</span> <span class="fu">paste</span>(Year, Quarter, Month, Country, Rect, HaulNo, <span class="at">sep =</span> <span class="st">"."</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb7-138"><a href="#cb7-138" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(sub_div, Rect, HaulVal, StdSpecRecCode, BySpecRecCode, Fishing.line, Month,</span>
<span id="cb7-139"><a href="#cb7-139" aria-hidden="true" tabindex="-1"></a>                DataType, HaulDur, GroundSpeed, haul.id, IDx, ShootLat, ShootLong, id_haul_stomach)</span>
<span id="cb7-140"><a href="#cb7-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-141"><a href="#cb7-141" aria-hidden="true" tabindex="-1"></a>bits_hl <span class="ot">&lt;-</span> <span class="fu">left_join</span>(dplyr<span class="sc">::</span><span class="fu">select</span>(bits_hl, <span class="sc">-</span>haul.id), bits_hh_merge, <span class="at">by =</span> <span class="st">"IDx"</span>)</span>
<span id="cb7-142"><a href="#cb7-142" aria-hidden="true" tabindex="-1"></a>bits_ca <span class="ot">&lt;-</span> <span class="fu">left_join</span>(bits_ca, bits_hh_merge, <span class="at">by =</span> <span class="st">"IDx"</span>)</span>
<span id="cb7-143"><a href="#cb7-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-144"><a href="#cb7-144" aria-hidden="true" tabindex="-1"></a><span class="co"># Now filter the subdivisions I want from all data sets</span></span>
<span id="cb7-145"><a href="#cb7-145" aria-hidden="true" tabindex="-1"></a>bits_hh <span class="ot">&lt;-</span> bits_hh <span class="sc">|&gt;</span> <span class="fu">filter</span>(sub_div <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">24</span>, <span class="dv">25</span>, <span class="dv">26</span>, <span class="dv">27</span>, <span class="dv">28</span>))</span>
<span id="cb7-146"><a href="#cb7-146" aria-hidden="true" tabindex="-1"></a>bits_hl <span class="ot">&lt;-</span> bits_hl <span class="sc">|&gt;</span> <span class="fu">filter</span>(sub_div <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">24</span>, <span class="dv">25</span>, <span class="dv">26</span>, <span class="dv">27</span>, <span class="dv">28</span>))</span>
<span id="cb7-147"><a href="#cb7-147" aria-hidden="true" tabindex="-1"></a>bits_ca <span class="ot">&lt;-</span> bits_ca <span class="sc">|&gt;</span> <span class="fu">filter</span>(sub_div <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">24</span>, <span class="dv">25</span>, <span class="dv">26</span>, <span class="dv">27</span>, <span class="dv">28</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>bits_hl <span class="sc">|&gt;</span> <span class="fu">filter</span>(Year <span class="sc">==</span> <span class="dv">2016</span> <span class="sc">&amp;</span> Quarter <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> Month <span class="sc">==</span> <span class="dv">2</span> <span class="sc">&amp;</span> Country <span class="sc">==</span> <span class="st">"SWE"</span> <span class="sc">&amp;</span> Rect <span class="sc">==</span> <span class="st">"39G4"</span>) <span class="sc">|&gt;</span> <span class="fu">distinct</span>(HaulNo)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; filter: removed 820,236 rows (&gt;99%), 144 rows remaining</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; distinct: removed 143 rows (99%), one row remaining</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   HaulNo</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1      1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="filter-species" class="level4">
<h4 class="anchored" data-anchor-id="filter-species">Filter species</h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>hlcod <span class="ot">&lt;-</span> bits_hl <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(SpecCode <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"126436"</span>, <span class="st">"164712"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Species =</span> <span class="st">"Gadus morhua"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="prepare-to-add-0-catches" class="level4">
<h4 class="anchored" data-anchor-id="prepare-to-add-0-catches">Prepare to add 0 catches</h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find common columns in the HH and HL data (here already subset by species)</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>comcol <span class="ot">&lt;-</span> <span class="fu">intersect</span>(<span class="fu">names</span>(hlcod), <span class="fu">names</span>(bits_hh))</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># What is the proportion of zero-catch hauls?</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Here we don't have zero catches</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>hlcod <span class="sc">|&gt;</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(haul.id, Year) <span class="sc">|&gt;</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">CPUEun_haul =</span> <span class="fu">sum</span>(HLNoAtLngt)) <span class="sc">|&gt;</span> </span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">zero_catch =</span> <span class="fu">ifelse</span>(CPUEun_haul <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"Y"</span>, <span class="st">"N"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(zero_catch)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 1</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   zero_catch</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;     </span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 N</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Cod: Add 0s and then remove lines with SpecVal = 0 (first NA because we don't have a match in the HH, then make them 0 later)</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>hlcod0 <span class="ot">&lt;-</span> <span class="fu">full_join</span>(hlcod, bits_hh[, comcol], <span class="at">by =</span> comcol)</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="co"># No zeroes yet</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>hlcod0 <span class="sc">|&gt;</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(haul.id, Year) <span class="sc">|&gt;</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">CPUEun_haul =</span> <span class="fu">sum</span>(HLNoAtLngt)) <span class="sc">|&gt;</span> </span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">zero_catch =</span> <span class="fu">ifelse</span>(CPUEun_haul <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"Y"</span>, <span class="st">"N"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(zero_catch) </span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 1</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   zero_catch</span></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;lgl&gt;     </span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 NA</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>hlcod0<span class="sc">$</span>SpecVal[<span class="fu">is.na</span>(hlcod0<span class="sc">$</span>SpecVal)] <span class="ot">&lt;-</span> <span class="st">"zeroCatch"</span></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>hlcod0<span class="sc">$</span>SpecVal <span class="ot">&lt;-</span> <span class="fu">factor</span>(hlcod0<span class="sc">$</span>SpecVal)</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>hlcod0 <span class="ot">&lt;-</span>  hlcod0 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span>SpecVal <span class="sc">==</span> <span class="st">"0"</span>)</span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Add species again after merge</span></span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>hlcod0<span class="sc">$</span>Species <span class="ot">&lt;-</span> <span class="st">"Gadus morhua"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="create-unstandardized-cpue-for-specval1.-if-datatypec-then-cpueunhlnoatlngt-if-datatyper-then-cpueunhlnoatlngthauldur60-if-datatypes-then-cpueunhlnoatlngtsubfactorhauldur60.-if-specvalzerocatch-then-cpueun0-if-specval4-we-need-to-decide-no-length-measurements-only-total-catch.-note-that-here-we-also-add-zero-cpue-if-specvalzerocatch." class="level4">
<h4 class="anchored" data-anchor-id="create-unstandardized-cpue-for-specval1.-if-datatypec-then-cpueunhlnoatlngt-if-datatyper-then-cpueunhlnoatlngthauldur60-if-datatypes-then-cpueunhlnoatlngtsubfactorhauldur60.-if-specvalzerocatch-then-cpueun0-if-specval4-we-need-to-decide-no-length-measurements-only-total-catch.-note-that-here-we-also-add-zero-cpue-if-specvalzerocatch.">Create (unstandardized) CPUE for <code>SpecVal=1</code>. If <code>DataType=C</code> then <code>CPUEun=HLNoAtLngt</code>, if <code>DataType=R</code> then <code>CPUEun=HLNoAtLngt/(HaulDur/60)</code>, if <code>DataType=S</code> then <code>CPUEun=(HLNoAtLngt*SubFactor)/(HaulDur/60)</code>. If <code>SpecVal="zeroCatch"</code> then <code>CPUEun=0</code>, if <code>SpecVal=4</code> we need to decide (no length measurements, only total catch). Note that here we also add zero CPUE if <code>SpecVal=="zeroCatch"</code>.</h4>
<p>Then I will sum for the same haul the CPUE of the same length classes if they were sampled with different subfactors or with different sexes.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cod</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>hlcod0 <span class="ot">&lt;-</span> hlcod0 <span class="sc">|&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CPUEun =</span> <span class="fu">ifelse</span>(SpecVal <span class="sc">==</span> <span class="st">"1"</span> <span class="sc">&amp;</span> DataType <span class="sc">==</span> <span class="st">"C"</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                         HLNoAtLngt,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>                         </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">ifelse</span>(SpecVal <span class="sc">==</span> <span class="st">"1"</span> <span class="sc">&amp;</span> DataType <span class="sc">==</span> <span class="st">"R"</span>,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>                                HLNoAtLngt<span class="sc">/</span>(HaulDur<span class="sc">/</span><span class="dv">60</span>),</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>                                </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">ifelse</span>(SpecVal <span class="sc">==</span> <span class="st">"1"</span> <span class="sc">&amp;</span> DataType <span class="sc">==</span> <span class="st">"S"</span>,</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>                                       (HLNoAtLngt<span class="sc">*</span>SubFactor)<span class="sc">/</span>(HaulDur<span class="sc">/</span><span class="dv">60</span>),</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>                                       </span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>                                       <span class="fu">ifelse</span>(SpecVal <span class="sc">==</span> <span class="st">"zeroCatch"</span>, <span class="dv">0</span>, <span class="cn">NA</span>)))))</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot and fill by zero catch</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>hlcod0 <span class="sc">|&gt;</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(haul.id, Year) <span class="sc">|&gt;</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">CPUEun_haul =</span> <span class="fu">sum</span>(CPUEun)) <span class="sc">|&gt;</span> </span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>CPUEun_haul <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 10,268 × 3</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    haul.id                     Year CPUEun_haul</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;                      &lt;int&gt;       &lt;dbl&gt;</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 1993:1:DEN:DAN2:GRT:105:45  1993          37</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 1993:1:DEN:DAN2:GRT:106:46  1993           2</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 1993:1:DEN:DAN2:GRT:107:47  1993          34</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 1993:1:DEN:DAN2:GRT:108:48  1993           5</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 1993:1:DEN:DAN2:GRT:109:49  1993          24</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 1993:1:DEN:DAN2:GRT:110:50  1993          40</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 1993:1:DEN:DAN2:GRT:112:51  1993          32</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 1993:1:DEN:DAN2:GRT:113:52  1993          12</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 1993:1:DEN:DAN2:GRT:114:53  1993          16</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 1993:1:DEN:DAN2:GRT:115:54  1993           9</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 10,258 more rows</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>hlcod0 <span class="sc">|&gt;</span></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(haul.id, Year) <span class="sc">|&gt;</span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">CPUEun_haul =</span> <span class="fu">sum</span>(CPUEun)) <span class="sc">|&gt;</span> </span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">zero_catch =</span> <span class="fu">ifelse</span>(CPUEun_haul <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"Y"</span>, <span class="st">"N"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year, zero_catch) <span class="sc">|&gt;</span> </span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> n, <span class="at">fill =</span> zero_catch)) <span class="sc">+</span></span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Some rows have multiple rows per combination of length class and haul id, so we need to sum it up </span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>hlcod0 <span class="sc">|&gt;</span> <span class="fu">group_by</span>(LngtClass, haul.id) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> <span class="fu">distinct</span>(n)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 × 1</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       n</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;int&gt;</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1     1</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2     2</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>hlcod0 <span class="sc">|&gt;</span> <span class="fu">group_by</span>(LngtClass, haul.id) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">|&gt;</span> <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">20</span>)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         X RecordType Survey Quarter Country Ship Gear SweepLngt GearEx DoorType</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  205495         HL   BITS       1     RUS RUJB  HAK        NA   &lt;NA&gt;       NA</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  300422         HL   BITS       4     EST ESLF  TVS        NA   &lt;NA&gt;       NA</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  300423         HL   BITS       4     EST ESLF  TVS        NA   &lt;NA&gt;       NA</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4  325369         HL   BITS       4     DEN 26D4  TVL        NA      R       NA</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  325375         HL   BITS       4     DEN 26D4  TVL        NA      R       NA</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  326062         HL   BITS       4     DEN 26D4  TVL        NA      R       NA</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7  326064         HL   BITS       4     DEN 26D4  TVL        NA      R       NA</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8  326065         HL   BITS       4     DEN 26D4  TVL        NA      R       NA</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9  326066         HL   BITS       4     DEN 26D4  TVL        NA      R       NA</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 326067         HL   BITS       4     DEN 26D4  TVL        NA      R       NA</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11 326068         HL   BITS       4     DEN 26D4  TVL        NA      R       NA</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12 326069         HL   BITS       4     DEN 26D4  TVL        NA      R       NA</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13 326071         HL   BITS       4     DEN 26D4  TVL        NA      R       NA</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14 326073         HL   BITS       4     DEN 26D4  TVL        NA      R       NA</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15 326077         HL   BITS       4     DEN 26D4  TVL        NA      R       NA</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16 326079         HL   BITS       4     DEN 26D4  TVL        NA      R       NA</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17 326080         HL   BITS       4     DEN 26D4  TVL        NA      R       NA</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18 326082         HL   BITS       4     DEN 26D4  TVL        NA      R       NA</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19 326083         HL   BITS       4     DEN 26D4  TVL        NA      R       NA</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20 326085         HL   BITS       4     DEN 26D4  TVL        NA      R       NA</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    StNo HaulNo Year SpecCodeType SpecCode SpecVal  Sex TotalNo CatIdentifier</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  &lt;NA&gt;     10 1998            T   164712       4 &lt;NA&gt;      -9             1</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2    14     14 2000            T   164712       1    M       2             1</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3    14     14 2000            T   164712       1    F       4             1</span></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4    63     31 2001            T   164712       1    M       5             1</span></span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5    63     31 2001            T   164712       1    F       7             1</span></span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6    83     37 2001            T   164712       1    M      21             1</span></span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7    83     37 2001            T   164712       1    M      21             1</span></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8    83     37 2001            T   164712       1    M      21             1</span></span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9    83     37 2001            T   164712       1    M      21             1</span></span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10   83     37 2001            T   164712       1    M      21             1</span></span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11   83     37 2001            T   164712       1    M      21             1</span></span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12   83     37 2001            T   164712       1    M      21             1</span></span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13   83     37 2001            T   164712       1    M      21             1</span></span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14   83     37 2001            T   164712       1    M      21             1</span></span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15   83     37 2001            T   164712       1    F      42             1</span></span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16   83     37 2001            T   164712       1    F      42             1</span></span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17   83     37 2001            T   164712       1    F      42             1</span></span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18   83     37 2001            T   164712       1    F      42             1</span></span>
<span id="cb12-50"><a href="#cb12-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19   83     37 2001            T   164712       1    F      42             1</span></span>
<span id="cb12-51"><a href="#cb12-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20   83     37 2001            T   164712       1    F      42             1</span></span>
<span id="cb12-52"><a href="#cb12-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    NoMeas SubFactor SubWgt CatCatchWgt LngtCode LngtClass HLNoAtLngt DevStage</span></span>
<span id="cb12-53"><a href="#cb12-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1      NA         1     NA          NA     &lt;NA&gt;        NA         -9     &lt;NA&gt;</span></span>
<span id="cb12-54"><a href="#cb12-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2       3         1     NA          32        1        35          2     &lt;NA&gt;</span></span>
<span id="cb12-55"><a href="#cb12-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3       3         1     NA          32        1        35          2     &lt;NA&gt;</span></span>
<span id="cb12-56"><a href="#cb12-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4       5         1     NA        3142        1        22          2     &lt;NA&gt;</span></span>
<span id="cb12-57"><a href="#cb12-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5       7         1     NA        3142        1        22          1     &lt;NA&gt;</span></span>
<span id="cb12-58"><a href="#cb12-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6      21         1     NA       64261        1        22          1     &lt;NA&gt;</span></span>
<span id="cb12-59"><a href="#cb12-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7      21         1     NA       64261        1        38          2     &lt;NA&gt;</span></span>
<span id="cb12-60"><a href="#cb12-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8      21         1     NA       64261        1        39          2     &lt;NA&gt;</span></span>
<span id="cb12-61"><a href="#cb12-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9      21         1     NA       64261        1        41          1     &lt;NA&gt;</span></span>
<span id="cb12-62"><a href="#cb12-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10     21         1     NA       64261        1        42          1     &lt;NA&gt;</span></span>
<span id="cb12-63"><a href="#cb12-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11     21         1     NA       64261        1        44          2     &lt;NA&gt;</span></span>
<span id="cb12-64"><a href="#cb12-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12     21         1     NA       64261        1        45          4     &lt;NA&gt;</span></span>
<span id="cb12-65"><a href="#cb12-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13     21         1     NA       64261        1        48          2     &lt;NA&gt;</span></span>
<span id="cb12-66"><a href="#cb12-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14     21         1     NA       64261        1        52          1     &lt;NA&gt;</span></span>
<span id="cb12-67"><a href="#cb12-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15     42         1     NA       64261        1        22          1     &lt;NA&gt;</span></span>
<span id="cb12-68"><a href="#cb12-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16     42         1     NA       64261        1        38          2     &lt;NA&gt;</span></span>
<span id="cb12-69"><a href="#cb12-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17     42         1     NA       64261        1        39          2     &lt;NA&gt;</span></span>
<span id="cb12-70"><a href="#cb12-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18     42         1     NA       64261        1        41          1     &lt;NA&gt;</span></span>
<span id="cb12-71"><a href="#cb12-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19     42         1     NA       64261        1        42          4     &lt;NA&gt;</span></span>
<span id="cb12-72"><a href="#cb12-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20     42         1     NA       64261        1        44          3     &lt;NA&gt;</span></span>
<span id="cb12-73"><a href="#cb12-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    LenMeasType DateofCalculation Valid_Aphia Ship2 Ship3</span></span>
<span id="cb12-74"><a href="#cb12-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1           NA          20140617      126436  ATLD  ATLD</span></span>
<span id="cb12-75"><a href="#cb12-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2           NA          20131112      126436  KOOT  KOOT</span></span>
<span id="cb12-76"><a href="#cb12-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3           NA          20131112      126436  KOOT  KOOT</span></span>
<span id="cb12-77"><a href="#cb12-77" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4           NA          20131113      126436  DAN2  DAN2</span></span>
<span id="cb12-78"><a href="#cb12-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5           NA          20131113      126436  DAN2  DAN2</span></span>
<span id="cb12-79"><a href="#cb12-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6           NA          20131113      126436  DAN2  DAN2</span></span>
<span id="cb12-80"><a href="#cb12-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7           NA          20131113      126436  DAN2  DAN2</span></span>
<span id="cb12-81"><a href="#cb12-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8           NA          20131113      126436  DAN2  DAN2</span></span>
<span id="cb12-82"><a href="#cb12-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9           NA          20131113      126436  DAN2  DAN2</span></span>
<span id="cb12-83"><a href="#cb12-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10          NA          20131113      126436  DAN2  DAN2</span></span>
<span id="cb12-84"><a href="#cb12-84" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11          NA          20131113      126436  DAN2  DAN2</span></span>
<span id="cb12-85"><a href="#cb12-85" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12          NA          20131113      126436  DAN2  DAN2</span></span>
<span id="cb12-86"><a href="#cb12-86" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13          NA          20131113      126436  DAN2  DAN2</span></span>
<span id="cb12-87"><a href="#cb12-87" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14          NA          20131113      126436  DAN2  DAN2</span></span>
<span id="cb12-88"><a href="#cb12-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15          NA          20131113      126436  DAN2  DAN2</span></span>
<span id="cb12-89"><a href="#cb12-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16          NA          20131113      126436  DAN2  DAN2</span></span>
<span id="cb12-90"><a href="#cb12-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17          NA          20131113      126436  DAN2  DAN2</span></span>
<span id="cb12-91"><a href="#cb12-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18          NA          20131113      126436  DAN2  DAN2</span></span>
<span id="cb12-92"><a href="#cb12-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19          NA          20131113      126436  DAN2  DAN2</span></span>
<span id="cb12-93"><a href="#cb12-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20          NA          20131113      126436  DAN2  DAN2</span></span>
<span id="cb12-94"><a href="#cb12-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                          IDx sub_div Rect HaulVal StdSpecRecCode BySpecRecCode</span></span>
<span id="cb12-95"><a href="#cb12-95" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  1998.1.RUS.RUJB.HAK.NA.10      26 38G9       V              1             1</span></span>
<span id="cb12-96"><a href="#cb12-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  2000.4.EST.ESLF.TVS.14.14      28 45H1       V              1             1</span></span>
<span id="cb12-97"><a href="#cb12-97" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  2000.4.EST.ESLF.TVS.14.14      28 45H1       V              1             1</span></span>
<span id="cb12-98"><a href="#cb12-98" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4  2001.4.DEN.26D4.TVL.63.31      26 39G8       V              1             1</span></span>
<span id="cb12-99"><a href="#cb12-99" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  2001.4.DEN.26D4.TVL.63.31      26 39G8       V              1             1</span></span>
<span id="cb12-100"><a href="#cb12-100" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  2001.4.DEN.26D4.TVL.83.37      26 40G8       V              1             1</span></span>
<span id="cb12-101"><a href="#cb12-101" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7  2001.4.DEN.26D4.TVL.83.37      26 40G8       V              1             1</span></span>
<span id="cb12-102"><a href="#cb12-102" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8  2001.4.DEN.26D4.TVL.83.37      26 40G8       V              1             1</span></span>
<span id="cb12-103"><a href="#cb12-103" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9  2001.4.DEN.26D4.TVL.83.37      26 40G8       V              1             1</span></span>
<span id="cb12-104"><a href="#cb12-104" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 2001.4.DEN.26D4.TVL.83.37      26 40G8       V              1             1</span></span>
<span id="cb12-105"><a href="#cb12-105" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11 2001.4.DEN.26D4.TVL.83.37      26 40G8       V              1             1</span></span>
<span id="cb12-106"><a href="#cb12-106" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12 2001.4.DEN.26D4.TVL.83.37      26 40G8       V              1             1</span></span>
<span id="cb12-107"><a href="#cb12-107" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13 2001.4.DEN.26D4.TVL.83.37      26 40G8       V              1             1</span></span>
<span id="cb12-108"><a href="#cb12-108" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14 2001.4.DEN.26D4.TVL.83.37      26 40G8       V              1             1</span></span>
<span id="cb12-109"><a href="#cb12-109" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15 2001.4.DEN.26D4.TVL.83.37      26 40G8       V              1             1</span></span>
<span id="cb12-110"><a href="#cb12-110" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16 2001.4.DEN.26D4.TVL.83.37      26 40G8       V              1             1</span></span>
<span id="cb12-111"><a href="#cb12-111" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17 2001.4.DEN.26D4.TVL.83.37      26 40G8       V              1             1</span></span>
<span id="cb12-112"><a href="#cb12-112" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18 2001.4.DEN.26D4.TVL.83.37      26 40G8       V              1             1</span></span>
<span id="cb12-113"><a href="#cb12-113" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19 2001.4.DEN.26D4.TVL.83.37      26 40G8       V              1             1</span></span>
<span id="cb12-114"><a href="#cb12-114" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20 2001.4.DEN.26D4.TVL.83.37      26 40G8       V              1             1</span></span>
<span id="cb12-115"><a href="#cb12-115" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Fishing.line Month DataType HaulDur GroundSpeed                   haul.id</span></span>
<span id="cb12-116"><a href="#cb12-116" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1         -9.00     3        C      30         3.8 1998:1:RUS:ATLD:HAK:NA:10</span></span>
<span id="cb12-117"><a href="#cb12-117" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2         33.22    11        C      30         3.0 2000:4:EST:KOOT:TVS:14:14</span></span>
<span id="cb12-118"><a href="#cb12-118" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3         33.22    11        C      30         3.0 2000:4:EST:KOOT:TVS:14:14</span></span>
<span id="cb12-119"><a href="#cb12-119" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4         63.46    11        R      30         3.0 2001:4:DEN:DAN2:TVL:63:31</span></span>
<span id="cb12-120"><a href="#cb12-120" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5         63.46    11        R      30         3.0 2001:4:DEN:DAN2:TVL:63:31</span></span>
<span id="cb12-121"><a href="#cb12-121" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6         63.46    11        R      31         3.1 2001:4:DEN:DAN2:TVL:83:37</span></span>
<span id="cb12-122"><a href="#cb12-122" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7         63.46    11        R      31         3.1 2001:4:DEN:DAN2:TVL:83:37</span></span>
<span id="cb12-123"><a href="#cb12-123" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8         63.46    11        R      31         3.1 2001:4:DEN:DAN2:TVL:83:37</span></span>
<span id="cb12-124"><a href="#cb12-124" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9         63.46    11        R      31         3.1 2001:4:DEN:DAN2:TVL:83:37</span></span>
<span id="cb12-125"><a href="#cb12-125" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10        63.46    11        R      31         3.1 2001:4:DEN:DAN2:TVL:83:37</span></span>
<span id="cb12-126"><a href="#cb12-126" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11        63.46    11        R      31         3.1 2001:4:DEN:DAN2:TVL:83:37</span></span>
<span id="cb12-127"><a href="#cb12-127" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12        63.46    11        R      31         3.1 2001:4:DEN:DAN2:TVL:83:37</span></span>
<span id="cb12-128"><a href="#cb12-128" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13        63.46    11        R      31         3.1 2001:4:DEN:DAN2:TVL:83:37</span></span>
<span id="cb12-129"><a href="#cb12-129" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14        63.46    11        R      31         3.1 2001:4:DEN:DAN2:TVL:83:37</span></span>
<span id="cb12-130"><a href="#cb12-130" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15        63.46    11        R      31         3.1 2001:4:DEN:DAN2:TVL:83:37</span></span>
<span id="cb12-131"><a href="#cb12-131" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16        63.46    11        R      31         3.1 2001:4:DEN:DAN2:TVL:83:37</span></span>
<span id="cb12-132"><a href="#cb12-132" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17        63.46    11        R      31         3.1 2001:4:DEN:DAN2:TVL:83:37</span></span>
<span id="cb12-133"><a href="#cb12-133" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18        63.46    11        R      31         3.1 2001:4:DEN:DAN2:TVL:83:37</span></span>
<span id="cb12-134"><a href="#cb12-134" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19        63.46    11        R      31         3.1 2001:4:DEN:DAN2:TVL:83:37</span></span>
<span id="cb12-135"><a href="#cb12-135" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20        63.46    11        R      31         3.1 2001:4:DEN:DAN2:TVL:83:37</span></span>
<span id="cb12-136"><a href="#cb12-136" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    ShootLat ShootLong       id_haul_stomach      Species   CPUEun n</span></span>
<span id="cb12-137"><a href="#cb12-137" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   54.6333   19.6500  1998.1.3.RUS.38G9.10 Gadus morhua       NA 2</span></span>
<span id="cb12-138"><a href="#cb12-138" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   58.0167   21.0833 2000.4.11.EST.45H1.14 Gadus morhua 2.000000 2</span></span>
<span id="cb12-139"><a href="#cb12-139" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   58.0167   21.0833 2000.4.11.EST.45H1.14 Gadus morhua 2.000000 2</span></span>
<span id="cb12-140"><a href="#cb12-140" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   55.4699   18.3116 2001.4.11.DEN.39G8.31 Gadus morhua 4.000000 2</span></span>
<span id="cb12-141"><a href="#cb12-141" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5   55.4699   18.3116 2001.4.11.DEN.39G8.31 Gadus morhua 2.000000 2</span></span>
<span id="cb12-142"><a href="#cb12-142" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6   55.6627   18.0414 2001.4.11.DEN.40G8.37 Gadus morhua 1.935484 2</span></span>
<span id="cb12-143"><a href="#cb12-143" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7   55.6627   18.0414 2001.4.11.DEN.40G8.37 Gadus morhua 3.870968 2</span></span>
<span id="cb12-144"><a href="#cb12-144" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8   55.6627   18.0414 2001.4.11.DEN.40G8.37 Gadus morhua 3.870968 2</span></span>
<span id="cb12-145"><a href="#cb12-145" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9   55.6627   18.0414 2001.4.11.DEN.40G8.37 Gadus morhua 1.935484 2</span></span>
<span id="cb12-146"><a href="#cb12-146" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10  55.6627   18.0414 2001.4.11.DEN.40G8.37 Gadus morhua 1.935484 2</span></span>
<span id="cb12-147"><a href="#cb12-147" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11  55.6627   18.0414 2001.4.11.DEN.40G8.37 Gadus morhua 3.870968 2</span></span>
<span id="cb12-148"><a href="#cb12-148" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12  55.6627   18.0414 2001.4.11.DEN.40G8.37 Gadus morhua 7.741935 2</span></span>
<span id="cb12-149"><a href="#cb12-149" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13  55.6627   18.0414 2001.4.11.DEN.40G8.37 Gadus morhua 3.870968 2</span></span>
<span id="cb12-150"><a href="#cb12-150" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14  55.6627   18.0414 2001.4.11.DEN.40G8.37 Gadus morhua 1.935484 2</span></span>
<span id="cb12-151"><a href="#cb12-151" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15  55.6627   18.0414 2001.4.11.DEN.40G8.37 Gadus morhua 1.935484 2</span></span>
<span id="cb12-152"><a href="#cb12-152" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16  55.6627   18.0414 2001.4.11.DEN.40G8.37 Gadus morhua 3.870968 2</span></span>
<span id="cb12-153"><a href="#cb12-153" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17  55.6627   18.0414 2001.4.11.DEN.40G8.37 Gadus morhua 3.870968 2</span></span>
<span id="cb12-154"><a href="#cb12-154" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18  55.6627   18.0414 2001.4.11.DEN.40G8.37 Gadus morhua 1.935484 2</span></span>
<span id="cb12-155"><a href="#cb12-155" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19  55.6627   18.0414 2001.4.11.DEN.40G8.37 Gadus morhua 7.741935 2</span></span>
<span id="cb12-156"><a href="#cb12-156" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20  55.6627   18.0414 2001.4.11.DEN.40G8.37 Gadus morhua 5.806452 2</span></span>
<span id="cb12-157"><a href="#cb12-157" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> hlcod0 <span class="sc">|&gt;</span> <span class="fu">group_by</span>(LngtClass, haul.id) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">==</span> <span class="dv">2</span>)</span>
<span id="cb12-158"><a href="#cb12-158" aria-hidden="true" tabindex="-1"></a>test_id <span class="ot">&lt;-</span> test<span class="sc">$</span>haul.id[<span class="dv">2</span>]</span>
<span id="cb12-159"><a href="#cb12-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-160"><a href="#cb12-160" aria-hidden="true" tabindex="-1"></a>hlcodL <span class="ot">&lt;-</span> hlcod0 <span class="sc">|&gt;</span> </span>
<span id="cb12-161"><a href="#cb12-161" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(LngtClass, haul.id) <span class="sc">|&gt;</span> </span>
<span id="cb12-162"><a href="#cb12-162" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CPUEun =</span> <span class="fu">sum</span>(CPUEun)) <span class="sc">|&gt;</span></span>
<span id="cb12-163"><a href="#cb12-163" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb12-164"><a href="#cb12-164" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id3 =</span> <span class="fu">paste</span>(haul.id, LngtClass)) <span class="sc">|&gt;</span> </span>
<span id="cb12-165"><a href="#cb12-165" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(id3, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb12-166"><a href="#cb12-166" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>X, <span class="sc">-</span>id3) <span class="co"># Clean up a bit</span></span>
<span id="cb12-167"><a href="#cb12-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-168"><a href="#cb12-168" aria-hidden="true" tabindex="-1"></a><span class="co"># Check with an ID</span></span>
<span id="cb12-169"><a href="#cb12-169" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(hlcod0, haul.id <span class="sc">==</span> test_id)</span>
<span id="cb12-170"><a href="#cb12-170" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        X RecordType Survey Quarter Country Ship Gear SweepLngt GearEx DoorType</span></span>
<span id="cb12-171"><a href="#cb12-171" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 300422         HL   BITS       4     EST ESLF  TVS        NA   &lt;NA&gt;       NA</span></span>
<span id="cb12-172"><a href="#cb12-172" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 300423         HL   BITS       4     EST ESLF  TVS        NA   &lt;NA&gt;       NA</span></span>
<span id="cb12-173"><a href="#cb12-173" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 300424         HL   BITS       4     EST ESLF  TVS        NA   &lt;NA&gt;       NA</span></span>
<span id="cb12-174"><a href="#cb12-174" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   4998         HH   BITS       4     EST ESLF  TVS        NA   &lt;NA&gt;       NA</span></span>
<span id="cb12-175"><a href="#cb12-175" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   StNo HaulNo Year SpecCodeType SpecCode   SpecVal  Sex TotalNo CatIdentifier</span></span>
<span id="cb12-176"><a href="#cb12-176" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   14     14 2000            T   164712         1    M       2             1</span></span>
<span id="cb12-177"><a href="#cb12-177" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   14     14 2000            T   164712         1    F       4             1</span></span>
<span id="cb12-178"><a href="#cb12-178" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   14     14 2000            T   164712         1    F       4             1</span></span>
<span id="cb12-179"><a href="#cb12-179" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   14     14 2000         &lt;NA&gt;       NA zeroCatch &lt;NA&gt;      NA            NA</span></span>
<span id="cb12-180"><a href="#cb12-180" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   NoMeas SubFactor SubWgt CatCatchWgt LngtCode LngtClass HLNoAtLngt DevStage</span></span>
<span id="cb12-181"><a href="#cb12-181" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1      3         1     NA          32        1        35          2     &lt;NA&gt;</span></span>
<span id="cb12-182"><a href="#cb12-182" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2      3         1     NA          32        1        35          2     &lt;NA&gt;</span></span>
<span id="cb12-183"><a href="#cb12-183" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3      3         1     NA          32        1        39          2     &lt;NA&gt;</span></span>
<span id="cb12-184"><a href="#cb12-184" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4     NA        NA     NA          NA     &lt;NA&gt;        NA         NA     &lt;NA&gt;</span></span>
<span id="cb12-185"><a href="#cb12-185" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   LenMeasType DateofCalculation Valid_Aphia Ship2 Ship3</span></span>
<span id="cb12-186"><a href="#cb12-186" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1          NA          20131112      126436  KOOT  KOOT</span></span>
<span id="cb12-187"><a href="#cb12-187" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2          NA          20131112      126436  KOOT  KOOT</span></span>
<span id="cb12-188"><a href="#cb12-188" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3          NA          20131112      126436  KOOT  KOOT</span></span>
<span id="cb12-189"><a href="#cb12-189" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4          NA          20220301          NA  KOOT  KOOT</span></span>
<span id="cb12-190"><a href="#cb12-190" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                         IDx sub_div Rect HaulVal StdSpecRecCode BySpecRecCode</span></span>
<span id="cb12-191"><a href="#cb12-191" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 2000.4.EST.ESLF.TVS.14.14      28 45H1       V              1             1</span></span>
<span id="cb12-192"><a href="#cb12-192" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 2000.4.EST.ESLF.TVS.14.14      28 45H1       V              1             1</span></span>
<span id="cb12-193"><a href="#cb12-193" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 2000.4.EST.ESLF.TVS.14.14      28 45H1       V              1             1</span></span>
<span id="cb12-194"><a href="#cb12-194" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 2000.4.EST.ESLF.TVS.14.14      28 45H1       V              1             1</span></span>
<span id="cb12-195"><a href="#cb12-195" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Fishing.line Month DataType HaulDur GroundSpeed                   haul.id</span></span>
<span id="cb12-196"><a href="#cb12-196" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1        33.22    11        C      30           3 2000:4:EST:KOOT:TVS:14:14</span></span>
<span id="cb12-197"><a href="#cb12-197" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2        33.22    11        C      30           3 2000:4:EST:KOOT:TVS:14:14</span></span>
<span id="cb12-198"><a href="#cb12-198" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3        33.22    11        C      30           3 2000:4:EST:KOOT:TVS:14:14</span></span>
<span id="cb12-199"><a href="#cb12-199" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4        33.22    11        C      30           3 2000:4:EST:KOOT:TVS:14:14</span></span>
<span id="cb12-200"><a href="#cb12-200" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ShootLat ShootLong       id_haul_stomach      Species CPUEun</span></span>
<span id="cb12-201"><a href="#cb12-201" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  58.0167   21.0833 2000.4.11.EST.45H1.14 Gadus morhua      2</span></span>
<span id="cb12-202"><a href="#cb12-202" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  58.0167   21.0833 2000.4.11.EST.45H1.14 Gadus morhua      2</span></span>
<span id="cb12-203"><a href="#cb12-203" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  58.0167   21.0833 2000.4.11.EST.45H1.14 Gadus morhua      2</span></span>
<span id="cb12-204"><a href="#cb12-204" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4  58.0167   21.0833                  &lt;NA&gt; Gadus morhua      0</span></span>
<span id="cb12-205"><a href="#cb12-205" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(hlcodL, haul.id <span class="sc">==</span> test_id) <span class="sc">|&gt;</span> <span class="fu">as.data.frame</span>()</span>
<span id="cb12-206"><a href="#cb12-206" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   RecordType Survey Quarter Country Ship Gear SweepLngt GearEx DoorType StNo</span></span>
<span id="cb12-207"><a href="#cb12-207" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1         HL   BITS       4     EST ESLF  TVS        NA   &lt;NA&gt;       NA   14</span></span>
<span id="cb12-208"><a href="#cb12-208" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2         HL   BITS       4     EST ESLF  TVS        NA   &lt;NA&gt;       NA   14</span></span>
<span id="cb12-209"><a href="#cb12-209" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3         HH   BITS       4     EST ESLF  TVS        NA   &lt;NA&gt;       NA   14</span></span>
<span id="cb12-210"><a href="#cb12-210" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   HaulNo Year SpecCodeType SpecCode   SpecVal  Sex TotalNo CatIdentifier NoMeas</span></span>
<span id="cb12-211"><a href="#cb12-211" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1     14 2000            T   164712         1    M       2             1      3</span></span>
<span id="cb12-212"><a href="#cb12-212" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2     14 2000            T   164712         1    F       4             1      3</span></span>
<span id="cb12-213"><a href="#cb12-213" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3     14 2000         &lt;NA&gt;       NA zeroCatch &lt;NA&gt;      NA            NA     NA</span></span>
<span id="cb12-214"><a href="#cb12-214" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   SubFactor SubWgt CatCatchWgt LngtCode LngtClass HLNoAtLngt DevStage</span></span>
<span id="cb12-215"><a href="#cb12-215" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1         1     NA          32        1        35          2     &lt;NA&gt;</span></span>
<span id="cb12-216"><a href="#cb12-216" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2         1     NA          32        1        39          2     &lt;NA&gt;</span></span>
<span id="cb12-217"><a href="#cb12-217" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3        NA     NA          NA     &lt;NA&gt;        NA         NA     &lt;NA&gt;</span></span>
<span id="cb12-218"><a href="#cb12-218" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   LenMeasType DateofCalculation Valid_Aphia Ship2 Ship3</span></span>
<span id="cb12-219"><a href="#cb12-219" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1          NA          20131112      126436  KOOT  KOOT</span></span>
<span id="cb12-220"><a href="#cb12-220" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2          NA          20131112      126436  KOOT  KOOT</span></span>
<span id="cb12-221"><a href="#cb12-221" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3          NA          20220301          NA  KOOT  KOOT</span></span>
<span id="cb12-222"><a href="#cb12-222" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                         IDx sub_div Rect HaulVal StdSpecRecCode BySpecRecCode</span></span>
<span id="cb12-223"><a href="#cb12-223" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 2000.4.EST.ESLF.TVS.14.14      28 45H1       V              1             1</span></span>
<span id="cb12-224"><a href="#cb12-224" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 2000.4.EST.ESLF.TVS.14.14      28 45H1       V              1             1</span></span>
<span id="cb12-225"><a href="#cb12-225" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 2000.4.EST.ESLF.TVS.14.14      28 45H1       V              1             1</span></span>
<span id="cb12-226"><a href="#cb12-226" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Fishing.line Month DataType HaulDur GroundSpeed                   haul.id</span></span>
<span id="cb12-227"><a href="#cb12-227" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1        33.22    11        C      30           3 2000:4:EST:KOOT:TVS:14:14</span></span>
<span id="cb12-228"><a href="#cb12-228" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2        33.22    11        C      30           3 2000:4:EST:KOOT:TVS:14:14</span></span>
<span id="cb12-229"><a href="#cb12-229" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3        33.22    11        C      30           3 2000:4:EST:KOOT:TVS:14:14</span></span>
<span id="cb12-230"><a href="#cb12-230" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ShootLat ShootLong       id_haul_stomach      Species CPUEun</span></span>
<span id="cb12-231"><a href="#cb12-231" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  58.0167   21.0833 2000.4.11.EST.45H1.14 Gadus morhua      4</span></span>
<span id="cb12-232"><a href="#cb12-232" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  58.0167   21.0833 2000.4.11.EST.45H1.14 Gadus morhua      2</span></span>
<span id="cb12-233"><a href="#cb12-233" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  58.0167   21.0833                  &lt;NA&gt; Gadus morhua      0</span></span>
<span id="cb12-234"><a href="#cb12-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-235"><a href="#cb12-235" aria-hidden="true" tabindex="-1"></a><span class="co"># Do we still have 0 catches?</span></span>
<span id="cb12-236"><a href="#cb12-236" aria-hidden="true" tabindex="-1"></a>hlcodL <span class="sc">|&gt;</span></span>
<span id="cb12-237"><a href="#cb12-237" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(haul.id, Year) <span class="sc">|&gt;</span></span>
<span id="cb12-238"><a href="#cb12-238" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">CPUEun_haul =</span> <span class="fu">sum</span>(CPUEun)) <span class="sc">|&gt;</span> </span>
<span id="cb12-239"><a href="#cb12-239" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb12-240"><a href="#cb12-240" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>CPUEun_haul <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb12-241"><a href="#cb12-241" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 10,268 × 3</span></span>
<span id="cb12-242"><a href="#cb12-242" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    haul.id                     Year CPUEun_haul</span></span>
<span id="cb12-243"><a href="#cb12-243" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;                      &lt;int&gt;       &lt;dbl&gt;</span></span>
<span id="cb12-244"><a href="#cb12-244" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 1993:1:DEN:DAN2:GRT:105:45  1993          37</span></span>
<span id="cb12-245"><a href="#cb12-245" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 1993:1:DEN:DAN2:GRT:106:46  1993           2</span></span>
<span id="cb12-246"><a href="#cb12-246" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 1993:1:DEN:DAN2:GRT:107:47  1993          34</span></span>
<span id="cb12-247"><a href="#cb12-247" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 1993:1:DEN:DAN2:GRT:108:48  1993           5</span></span>
<span id="cb12-248"><a href="#cb12-248" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 1993:1:DEN:DAN2:GRT:109:49  1993          24</span></span>
<span id="cb12-249"><a href="#cb12-249" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 1993:1:DEN:DAN2:GRT:110:50  1993          40</span></span>
<span id="cb12-250"><a href="#cb12-250" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 1993:1:DEN:DAN2:GRT:112:51  1993          32</span></span>
<span id="cb12-251"><a href="#cb12-251" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 1993:1:DEN:DAN2:GRT:113:52  1993          12</span></span>
<span id="cb12-252"><a href="#cb12-252" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 1993:1:DEN:DAN2:GRT:114:53  1993          16</span></span>
<span id="cb12-253"><a href="#cb12-253" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 1993:1:DEN:DAN2:GRT:115:54  1993           9</span></span>
<span id="cb12-254"><a href="#cb12-254" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 10,258 more rows</span></span>
<span id="cb12-255"><a href="#cb12-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-256"><a href="#cb12-256" aria-hidden="true" tabindex="-1"></a>hlcodL <span class="sc">|&gt;</span></span>
<span id="cb12-257"><a href="#cb12-257" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(haul.id, Year) <span class="sc">|&gt;</span></span>
<span id="cb12-258"><a href="#cb12-258" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">CPUEun_haul =</span> <span class="fu">sum</span>(CPUEun)) <span class="sc">|&gt;</span> </span>
<span id="cb12-259"><a href="#cb12-259" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb12-260"><a href="#cb12-260" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">zero_catch =</span> <span class="fu">ifelse</span>(CPUEun_haul <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"Y"</span>, <span class="st">"N"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb12-261"><a href="#cb12-261" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year, zero_catch) <span class="sc">|&gt;</span> </span>
<span id="cb12-262"><a href="#cb12-262" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb12-263"><a href="#cb12-263" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> n, <span class="at">fill =</span> zero_catch)) <span class="sc">+</span></span>
<span id="cb12-264"><a href="#cb12-264" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="get-and-add-annual-weight-length-relationships-from-the-ca-data-for-both-cod-and-flounder-so-that-i-can-calculate-cpue-in-biomass-rather-than-numbers-further-down" class="level4">
<h4 class="anchored" data-anchor-id="get-and-add-annual-weight-length-relationships-from-the-ca-data-for-both-cod-and-flounder-so-that-i-can-calculate-cpue-in-biomass-rather-than-numbers-further-down">Get and add annual weight-length relationships from the CA data for both cod and flounder so that I can calculate CPUE in biomass rather than numbers further down</h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cod</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>bits_ca_cod <span class="ot">&lt;-</span> bits_ca <span class="sc">|&gt;</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(SpecCode <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"164712"</span>, <span class="st">"126436"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">StNo =</span> <span class="fu">as.numeric</span>(StNo)) <span class="sc">|&gt;</span> </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Species =</span> <span class="st">"Cod"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ID =</span> <span class="fu">paste</span>(Year, Quarter, Country, Ship, Gear, StNo, HaulNo, <span class="at">sep =</span> <span class="st">"."</span>))</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: There was 1 warning in `.fun()`.</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ℹ In argument: `StNo = as.numeric(StNo)`.</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Caused by warning:</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ! NAs introduced by coercion</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Now I need to copy rows with NoAtLngt &gt; 1 so that 1 row = 1 ind</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co"># First make a small test</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co"># nrow(bits_ca_cod)</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co"># test_id &lt;- head(filter(bits_ca_cod, CANoAtLngt == 5))$ID[1]</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co"># filter(bits_ca_cod, ID == test_id &amp; CANoAtLngt == 5)</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="co"># magritte pipe here to be able to use "."</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>bits_ca_cod <span class="ot">&lt;-</span> bits_ca_cod <span class="sc">%&gt;%</span> <span class="fu">map_df</span>(., rep, .<span class="sc">$</span>CANoAtLngt)</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a><span class="co"># head(data.frame(filter(bits_ca_cod, ID == test_id &amp; CANoAtLngt == 5)), 20)</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a><span class="co"># nrow(bits_ca_cod)</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Looks ok!</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize length and drop NA weights (need that for condition)</span></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>bits_ca_cod <span class="ot">&lt;-</span> bits_ca_cod <span class="sc">|&gt;</span> </span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(IndWgt) <span class="sc">|&gt;</span> </span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(LngtClass) <span class="sc">|&gt;</span> </span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(IndWgt <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> LngtClass <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span>  <span class="co"># Filter positive length and weight</span></span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">weight_kg =</span> IndWgt<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">length_cm =</span> <span class="fu">ifelse</span>(LngtCode <span class="sc">==</span> <span class="st">"."</span>, </span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>                            LngtClass<span class="sc">/</span><span class="dv">10</span>,</span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>                            LngtClass)) <span class="co"># Standardize length ((https://vocab.ices.dk/?ref=18))</span></span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(bits_ca_cod, <span class="fu">aes</span>(IndWgt, length_cm)) <span class="sc">+</span></span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Now extract the coefficients for each year (not bothering with outliers at the moment)</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>cod_intercept <span class="ot">&lt;-</span> bits_ca_cod <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split</span>(.<span class="sc">$</span>Year) <span class="sc">%&gt;%</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">map</span>(<span class="sc">~</span><span class="fu">lm</span>(<span class="fu">log</span>(IndWgt) <span class="sc">~</span> <span class="fu">log</span>(length_cm), <span class="at">data =</span> .x)) <span class="sc">%&gt;%</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">map_df</span>(broom<span class="sc">::</span>tidy, <span class="at">.id =</span> <span class="st">'Year'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"(Intercept)"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">a =</span> <span class="fu">exp</span>(estimate)) <span class="sc">%&gt;%</span> </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.integer</span>(Year)) <span class="sc">%&gt;%</span> </span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Year, a)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>cod_slope <span class="ot">&lt;-</span> bits_ca_cod <span class="sc">%&gt;%</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split</span>(.<span class="sc">$</span>Year) <span class="sc">%&gt;%</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">map</span>(<span class="sc">~</span><span class="fu">lm</span>(<span class="fu">log</span>(IndWgt) <span class="sc">~</span> <span class="fu">log</span>(length_cm), <span class="at">data =</span> .x)) <span class="sc">%&gt;%</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">map_df</span>(broom<span class="sc">::</span>tidy, <span class="at">.id =</span> <span class="st">'Year'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"log(length_cm)"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.integer</span>(Year)) <span class="sc">%&gt;%</span> </span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"b"</span> <span class="ot">=</span> <span class="st">"estimate"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Year, b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="join-the-annual-l-w-relationships-to-the-respective-catch-data-to-calculate-cpue-in-biomass-not-abundance" class="level4">
<h4 class="anchored" data-anchor-id="join-the-annual-l-w-relationships-to-the-respective-catch-data-to-calculate-cpue-in-biomass-not-abundance">Join the annual L-W relationships to the respective catch data to calculate CPUE in biomass not abundance</h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># These are the haul-data</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># hlcodL</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>hlcodL <span class="ot">&lt;-</span> <span class="fu">left_join</span>(hlcodL, cod_intercept, <span class="at">by =</span> <span class="st">"Year"</span>)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>hlcodL <span class="ot">&lt;-</span> <span class="fu">left_join</span>(hlcodL, cod_slope, <span class="at">by =</span> <span class="st">"Year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="convert-from-cpue-in-numbers-to-kg" class="level4">
<h4 class="anchored" data-anchor-id="convert-from-cpue-in-numbers-to-kg">Convert from CPUE in numbers to kg</h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First standardize length to cm and then check how zero-catches are implemented at this stage</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>hlcodL <span class="ot">&lt;-</span> hlcodL <span class="sc">|&gt;</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">length_cm =</span> <span class="fu">ifelse</span>(LngtCode <span class="sc">==</span> <span class="st">"."</span>, </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>                            LngtClass<span class="sc">/</span><span class="dv">10</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>                            LngtClass)) <span class="co"># Standardize length ((https://vocab.ices.dk/?ref=18))</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(hlcodL, length_cm <span class="sc">==</span> <span class="dv">0</span>) <span class="co"># No such thing</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 0 × 51</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 51 variables: RecordType &lt;chr&gt;, Survey &lt;chr&gt;, Quarter &lt;int&gt;, Country &lt;chr&gt;,</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   Ship &lt;chr&gt;, Gear &lt;chr&gt;, SweepLngt &lt;int&gt;, GearEx &lt;chr&gt;, DoorType &lt;lgl&gt;,</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   StNo &lt;chr&gt;, HaulNo &lt;int&gt;, Year &lt;int&gt;, SpecCodeType &lt;chr&gt;, SpecCode &lt;int&gt;,</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   SpecVal &lt;fct&gt;, Sex &lt;chr&gt;, TotalNo &lt;dbl&gt;, CatIdentifier &lt;int&gt;, NoMeas &lt;int&gt;,</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   SubFactor &lt;dbl&gt;, SubWgt &lt;int&gt;, CatCatchWgt &lt;int&gt;, LngtCode &lt;chr&gt;,</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   LngtClass &lt;int&gt;, HLNoAtLngt &lt;dbl&gt;, DevStage &lt;chr&gt;, LenMeasType &lt;int&gt;,</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   DateofCalculation &lt;int&gt;, Valid_Aphia &lt;int&gt;, Ship2 &lt;chr&gt;, Ship3 &lt;chr&gt;, …</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Now check if all rows where length is NA are the ones with zero catch!</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>hlcodL <span class="sc">|&gt;</span> </span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">length2 =</span> <span class="fu">replace_na</span>(length_cm, <span class="sc">-</span><span class="dv">9</span>),</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>         <span class="at">no_length =</span> <span class="fu">ifelse</span>(length2 <span class="sc">&lt;</span> <span class="dv">0</span>, <span class="st">"T"</span>, <span class="st">"F"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(length2, CPUEun, <span class="at">color =</span> no_length)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>no_length)</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Removed 1 rows containing missing values (`geom_point()`).</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>hlcodL <span class="sc">|&gt;</span> <span class="fu">filter</span>(CPUEun <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> <span class="fu">distinct</span>(length_cm)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 1</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   length_cm</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       &lt;dbl&gt;</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1        NA</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Right, so all hauls with zero catch have NA length_cm. I don't have any NA catches</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> hlcodL <span class="sc">|&gt;</span> <span class="fu">drop_na</span>(CPUEun)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> hlcodL <span class="sc">|&gt;</span> <span class="fu">filter</span>(CPUEun <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> hlcodL <span class="sc">|&gt;</span> <span class="fu">drop_na</span>(length_cm)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="co"># In other words, a zero catch is when the catch is zero and length_cm is NA</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="co"># In order to not get any NA CPUEs in unit biomass because length is NA (I want them instead</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="co"># to be 0, as the numbers-CPUE is), I will replace length_cm == NA with length_cm == 0 before</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="co"># calculating biomass CPUE</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>hlcodL <span class="ot">&lt;-</span> hlcodL <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">length_cm2 =</span> <span class="fu">replace_na</span>(length_cm, <span class="dv">0</span>))</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize length in the haul-data and calculate weight</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>hlcodL <span class="ot">&lt;-</span> hlcodL <span class="sc">|&gt;</span> </span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">weight_kg =</span> (a<span class="sc">*</span>length_cm2<span class="sc">^</span>b)<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CPUEun_kg =</span> weight_kg<span class="sc">*</span>CPUEun)</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot and check it's correct also in this data</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hlcodL, <span class="fu">aes</span>(weight_kg, length_cm2)) <span class="sc">+</span></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-13-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Hmm, some unrealistic weights actually</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>hlcodL <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(weight_kg)) <span class="sc">|&gt;</span> <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">20</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    RecordType Survey Quarter Country Ship Gear SweepLngt GearEx DoorType StNo</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1          HL   BITS       1     DEN 26D4  GRT        NA      S       NA   83</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2          HL   BITS       1     DEN 26D4  GRT        NA      S       NA   83</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3          HL   BITS       1     DEN 26D4  GRT        NA      S       NA   83</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4          HL   BITS       1     DEN 26D4  GRT        NA      S       NA   83</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5          HL   BITS       1     DEN 26D4  GRT        NA      S       NA   83</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6          HL   BITS       1     DEN 26D4  GRT        NA      S       NA   83</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7          HL   BITS       1     DEN 26D4  GRT        NA      S       NA   83</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8          HL   BITS       1     DEN 26D4  GRT        NA      S       NA   83</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9          HL   BITS       1     DEN 26D4  GRT        NA      S       NA   83</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10         HL   BITS       1     DEN 26D4  GRT        NA      S       NA   83</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11         HL   BITS       1     DEN 26D4  GRT        NA      S       NA   83</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12         HL   BITS       1     DEN 26D4  GRT        NA   &lt;NA&gt;       NA   45</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13         HL   BITS       1     SWE 77AR  FOT       185   &lt;NA&gt;       NA   80</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14         HL   BITS       1     DEN 26D4  GRT        NA      S       NA   83</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15         HL   BITS       1     DEN 26D4  GRT        60   &lt;NA&gt;       NA   43</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16         HL   BITS       1     DEN 26D4  GRT        NA   &lt;NA&gt;       NA    9</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17         HL   BITS       1     SWE 77AR  FOT       225   &lt;NA&gt;       NA  191</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18         HL   BITS       1     DEN 26D4  TVL        75      S       NA   71</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19         HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   46</span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20         HL   BITS       1     DEN 26D4  GRT        60   &lt;NA&gt;       NA  117</span></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    HaulNo Year SpecCodeType SpecCode SpecVal  Sex TotalNo CatIdentifier NoMeas</span></span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1      40 1998            T   164712       1 &lt;NA&gt;      17             1     17</span></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2      40 1998            T   164712       1 &lt;NA&gt;      17             1     17</span></span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3      40 1998            T   164712       1 &lt;NA&gt;      17             1     17</span></span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4      40 1998            T   164712       1 &lt;NA&gt;      17             1     17</span></span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5      40 1998            T   164712       1 &lt;NA&gt;      17             1     17</span></span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6      40 1998            T   164712       1 &lt;NA&gt;      17             1     17</span></span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7      40 1998            T   164712       1 &lt;NA&gt;      17             1     17</span></span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8      40 1998            T   164712       1 &lt;NA&gt;      17             1     17</span></span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9      40 1998            T   164712       1 &lt;NA&gt;      17             1     17</span></span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10     40 1998            T   164712       1 &lt;NA&gt;      17             1     17</span></span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11     40 1998            T   164712       1 &lt;NA&gt;      17             1     17</span></span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12     25 1996            W   126436       1 &lt;NA&gt;      93             1     93</span></span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13     32 1993            W   126436       1 &lt;NA&gt;     454             1    454</span></span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14     40 1998            T   164712       1 &lt;NA&gt;      17             1     17</span></span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15     22 1994            T   164712       1 &lt;NA&gt;      37             1     37</span></span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16      5 1996            W   126436       1 &lt;NA&gt;     406             1    406</span></span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17      3 1998            T   164712       1 &lt;NA&gt;     546             1    273</span></span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18     36 2003            T   164712       1 &lt;NA&gt;     255             1    255</span></span>
<span id="cb18-44"><a href="#cb18-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19     20 1993            W   126436       1 &lt;NA&gt;     326             1    163</span></span>
<span id="cb18-45"><a href="#cb18-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20     50 1994            T   164712       1 &lt;NA&gt;     775             1    775</span></span>
<span id="cb18-46"><a href="#cb18-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    SubFactor SubWgt CatCatchWgt LngtCode LngtClass HLNoAtLngt DevStage</span></span>
<span id="cb18-47"><a href="#cb18-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1          1     NA       13275        0       335          1     &lt;NA&gt;</span></span>
<span id="cb18-48"><a href="#cb18-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2          1     NA       13275        0       285          1     &lt;NA&gt;</span></span>
<span id="cb18-49"><a href="#cb18-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3          1     NA       13275        0       225          2     &lt;NA&gt;</span></span>
<span id="cb18-50"><a href="#cb18-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4          1     NA       13275        0       220          1     &lt;NA&gt;</span></span>
<span id="cb18-51"><a href="#cb18-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5          1     NA       13275        0       215          1     &lt;NA&gt;</span></span>
<span id="cb18-52"><a href="#cb18-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6          1     NA       13275        0       180          1     &lt;NA&gt;</span></span>
<span id="cb18-53"><a href="#cb18-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7          1     NA       13275        0       175          1     &lt;NA&gt;</span></span>
<span id="cb18-54"><a href="#cb18-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8          1     NA       13275        0       160          1     &lt;NA&gt;</span></span>
<span id="cb18-55"><a href="#cb18-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9          1     NA       13275        0       150          2     &lt;NA&gt;</span></span>
<span id="cb18-56"><a href="#cb18-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10         1     NA       13275        0       145          3     &lt;NA&gt;</span></span>
<span id="cb18-57"><a href="#cb18-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11         1     NA       13275        0       140          1     &lt;NA&gt;</span></span>
<span id="cb18-58"><a href="#cb18-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12         1 113900      113900        .      1360          1     &lt;NA&gt;</span></span>
<span id="cb18-59"><a href="#cb18-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13         1     NA      234500        1       127          1     &lt;NA&gt;</span></span>
<span id="cb18-60"><a href="#cb18-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14         1     NA       13275        0       130          2     &lt;NA&gt;</span></span>
<span id="cb18-61"><a href="#cb18-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15         1     NA        1033        1       127          1     &lt;NA&gt;</span></span>
<span id="cb18-62"><a href="#cb18-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16         1 257280      257280        .      1230          1     &lt;NA&gt;</span></span>
<span id="cb18-63"><a href="#cb18-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17         1     NA      484399        1       121          2     &lt;NA&gt;</span></span>
<span id="cb18-64"><a href="#cb18-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18         1     NA      158200        1       121          1     &lt;NA&gt;</span></span>
<span id="cb18-65"><a href="#cb18-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19         1     NA        2190        1       116          2     &lt;NA&gt;</span></span>
<span id="cb18-66"><a href="#cb18-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20         1     NA        5718        1       118          1     &lt;NA&gt;</span></span>
<span id="cb18-67"><a href="#cb18-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    LenMeasType DateofCalculation Valid_Aphia Ship2 Ship3</span></span>
<span id="cb18-68"><a href="#cb18-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1           NA          20140617      126436  DAN2  DAN2</span></span>
<span id="cb18-69"><a href="#cb18-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2           NA          20140617      126436  DAN2  DAN2</span></span>
<span id="cb18-70"><a href="#cb18-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3           NA          20140617      126436  DAN2  DAN2</span></span>
<span id="cb18-71"><a href="#cb18-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4           NA          20140617      126436  DAN2  DAN2</span></span>
<span id="cb18-72"><a href="#cb18-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5           NA          20140617      126436  DAN2  DAN2</span></span>
<span id="cb18-73"><a href="#cb18-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6           NA          20140617      126436  DAN2  DAN2</span></span>
<span id="cb18-74"><a href="#cb18-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7           NA          20140617      126436  DAN2  DAN2</span></span>
<span id="cb18-75"><a href="#cb18-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8           NA          20140617      126436  DAN2  DAN2</span></span>
<span id="cb18-76"><a href="#cb18-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9           NA          20140617      126436  DAN2  DAN2</span></span>
<span id="cb18-77"><a href="#cb18-77" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10          NA          20140617      126436  DAN2  DAN2</span></span>
<span id="cb18-78"><a href="#cb18-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11          NA          20140617      126436  DAN2  DAN2</span></span>
<span id="cb18-79"><a href="#cb18-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12          NA          20190208      126436  DAN2  DAN2</span></span>
<span id="cb18-80"><a href="#cb18-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13          NA          20211203      126436   ARG   ARG</span></span>
<span id="cb18-81"><a href="#cb18-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14          NA          20140617      126436  DAN2  DAN2</span></span>
<span id="cb18-82"><a href="#cb18-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15          NA          20161213      126436  DAN2  DAN2</span></span>
<span id="cb18-83"><a href="#cb18-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16          NA          20190208      126436  DAN2  DAN2</span></span>
<span id="cb18-84"><a href="#cb18-84" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17          NA          20140617      126436   ARG   ARG</span></span>
<span id="cb18-85"><a href="#cb18-85" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18          NA          20131108      126436  DAN2  DAN2</span></span>
<span id="cb18-86"><a href="#cb18-86" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19          NA          20211203      126436   SOL   SOL</span></span>
<span id="cb18-87"><a href="#cb18-87" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20          NA          20161213      126436  DAN2  DAN2</span></span>
<span id="cb18-88"><a href="#cb18-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                           IDx sub_div Rect HaulVal StdSpecRecCode BySpecRecCode</span></span>
<span id="cb18-89"><a href="#cb18-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   1998.1.DEN.26D4.GRT.83.40      25 38G5       V              1             1</span></span>
<span id="cb18-90"><a href="#cb18-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   1998.1.DEN.26D4.GRT.83.40      25 38G5       V              1             1</span></span>
<span id="cb18-91"><a href="#cb18-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   1998.1.DEN.26D4.GRT.83.40      25 38G5       V              1             1</span></span>
<span id="cb18-92"><a href="#cb18-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   1998.1.DEN.26D4.GRT.83.40      25 38G5       V              1             1</span></span>
<span id="cb18-93"><a href="#cb18-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5   1998.1.DEN.26D4.GRT.83.40      25 38G5       V              1             1</span></span>
<span id="cb18-94"><a href="#cb18-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6   1998.1.DEN.26D4.GRT.83.40      25 38G5       V              1             1</span></span>
<span id="cb18-95"><a href="#cb18-95" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7   1998.1.DEN.26D4.GRT.83.40      25 38G5       V              1             1</span></span>
<span id="cb18-96"><a href="#cb18-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8   1998.1.DEN.26D4.GRT.83.40      25 38G5       V              1             1</span></span>
<span id="cb18-97"><a href="#cb18-97" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9   1998.1.DEN.26D4.GRT.83.40      25 38G5       V              1             1</span></span>
<span id="cb18-98"><a href="#cb18-98" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10  1998.1.DEN.26D4.GRT.83.40      25 38G5       V              1             1</span></span>
<span id="cb18-99"><a href="#cb18-99" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11  1998.1.DEN.26D4.GRT.83.40      25 38G5       V              1             1</span></span>
<span id="cb18-100"><a href="#cb18-100" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12  1996.1.DEN.26D4.GRT.45.25      26 41H0       V              1             1</span></span>
<span id="cb18-101"><a href="#cb18-101" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13  1993.1.SWE.77AR.FOT.80.32      25 39G5       V              1             1</span></span>
<span id="cb18-102"><a href="#cb18-102" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14  1998.1.DEN.26D4.GRT.83.40      25 38G5       V              1             1</span></span>
<span id="cb18-103"><a href="#cb18-103" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15  1994.1.DEN.26D4.GRT.43.22      26 41H0       V              1             1</span></span>
<span id="cb18-104"><a href="#cb18-104" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16    1996.1.DEN.26D4.GRT.9.5      25 38G5       V              1             1</span></span>
<span id="cb18-105"><a href="#cb18-105" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17  1998.1.SWE.77AR.FOT.191.3      25 40G5       V              1             1</span></span>
<span id="cb18-106"><a href="#cb18-106" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18  2003.1.DEN.26D4.TVL.71.36      25 39G5       V              1             1</span></span>
<span id="cb18-107"><a href="#cb18-107" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19  1993.1.GFR.06S1.H20.46.20      24 39G4       V              1             1</span></span>
<span id="cb18-108"><a href="#cb18-108" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20 1994.1.DEN.26D4.GRT.117.50      25 38G5       V              1             1</span></span>
<span id="cb18-109"><a href="#cb18-109" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Fishing.line Month DataType HaulDur GroundSpeed                    haul.id</span></span>
<span id="cb18-110"><a href="#cb18-110" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1         -9.00     3        R      60         3.0  1998:1:DEN:DAN2:GRT:83:40</span></span>
<span id="cb18-111"><a href="#cb18-111" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2         -9.00     3        R      60         3.0  1998:1:DEN:DAN2:GRT:83:40</span></span>
<span id="cb18-112"><a href="#cb18-112" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3         -9.00     3        R      60         3.0  1998:1:DEN:DAN2:GRT:83:40</span></span>
<span id="cb18-113"><a href="#cb18-113" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4         -9.00     3        R      60         3.0  1998:1:DEN:DAN2:GRT:83:40</span></span>
<span id="cb18-114"><a href="#cb18-114" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5         -9.00     3        R      60         3.0  1998:1:DEN:DAN2:GRT:83:40</span></span>
<span id="cb18-115"><a href="#cb18-115" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6         -9.00     3        R      60         3.0  1998:1:DEN:DAN2:GRT:83:40</span></span>
<span id="cb18-116"><a href="#cb18-116" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7         -9.00     3        R      60         3.0  1998:1:DEN:DAN2:GRT:83:40</span></span>
<span id="cb18-117"><a href="#cb18-117" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8         -9.00     3        R      60         3.0  1998:1:DEN:DAN2:GRT:83:40</span></span>
<span id="cb18-118"><a href="#cb18-118" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9         -9.00     3        R      60         3.0  1998:1:DEN:DAN2:GRT:83:40</span></span>
<span id="cb18-119"><a href="#cb18-119" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10        -9.00     3        R      60         3.0  1998:1:DEN:DAN2:GRT:83:40</span></span>
<span id="cb18-120"><a href="#cb18-120" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11        -9.00     3        R      60         3.0  1998:1:DEN:DAN2:GRT:83:40</span></span>
<span id="cb18-121"><a href="#cb18-121" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12        -9.00     2        R      60         3.4  1996:1:DEN:DAN2:GRT:45:25</span></span>
<span id="cb18-122"><a href="#cb18-122" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13        83.00     3        C      60         3.0   1993:1:SWE:ARG:FOT:80:32</span></span>
<span id="cb18-123"><a href="#cb18-123" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14        -9.00     3        R      60         3.0  1998:1:DEN:DAN2:GRT:83:40</span></span>
<span id="cb18-124"><a href="#cb18-124" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15        -9.00     3        C      60        -9.0  1994:1:DEN:DAN2:GRT:43:22</span></span>
<span id="cb18-125"><a href="#cb18-125" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16        -9.00     2        R      60         3.6    1996:1:DEN:DAN2:GRT:9:5</span></span>
<span id="cb18-126"><a href="#cb18-126" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17        83.00     2        C      30         3.3   1998:1:SWE:ARG:FOT:191:3</span></span>
<span id="cb18-127"><a href="#cb18-127" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18        63.46     3        R      30         3.0  2003:1:DEN:DAN2:TVL:71:36</span></span>
<span id="cb18-128"><a href="#cb18-128" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19        36.00     2        C      30         4.0   1993:1:GFR:SOL:H20:46:20</span></span>
<span id="cb18-129"><a href="#cb18-129" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20        -9.00     3        C      60        -9.0 1994:1:DEN:DAN2:GRT:117:50</span></span>
<span id="cb18-130"><a href="#cb18-130" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    ShootLat ShootLong      id_haul_stomach      Species CPUEun           a</span></span>
<span id="cb18-131"><a href="#cb18-131" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   54.8150   15.3217 1998.1.3.DEN.38G5.40 Gadus morhua      1 0.007345618</span></span>
<span id="cb18-132"><a href="#cb18-132" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   54.8150   15.3217 1998.1.3.DEN.38G5.40 Gadus morhua      1 0.007345618</span></span>
<span id="cb18-133"><a href="#cb18-133" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   54.8150   15.3217 1998.1.3.DEN.38G5.40 Gadus morhua      2 0.007345618</span></span>
<span id="cb18-134"><a href="#cb18-134" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   54.8150   15.3217 1998.1.3.DEN.38G5.40 Gadus morhua      1 0.007345618</span></span>
<span id="cb18-135"><a href="#cb18-135" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5   54.8150   15.3217 1998.1.3.DEN.38G5.40 Gadus morhua      1 0.007345618</span></span>
<span id="cb18-136"><a href="#cb18-136" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6   54.8150   15.3217 1998.1.3.DEN.38G5.40 Gadus morhua      1 0.007345618</span></span>
<span id="cb18-137"><a href="#cb18-137" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7   54.8150   15.3217 1998.1.3.DEN.38G5.40 Gadus morhua      1 0.007345618</span></span>
<span id="cb18-138"><a href="#cb18-138" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8   54.8150   15.3217 1998.1.3.DEN.38G5.40 Gadus morhua      1 0.007345618</span></span>
<span id="cb18-139"><a href="#cb18-139" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9   54.8150   15.3217 1998.1.3.DEN.38G5.40 Gadus morhua      2 0.007345618</span></span>
<span id="cb18-140"><a href="#cb18-140" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10  54.8150   15.3217 1998.1.3.DEN.38G5.40 Gadus morhua      3 0.007345618</span></span>
<span id="cb18-141"><a href="#cb18-141" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11  54.8150   15.3217 1998.1.3.DEN.38G5.40 Gadus morhua      1 0.007345618</span></span>
<span id="cb18-142"><a href="#cb18-142" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12  56.3700   20.0666 1996.1.2.DEN.41H0.25 Gadus morhua      1 0.008380383</span></span>
<span id="cb18-143"><a href="#cb18-143" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13  55.4120   15.3205 1993.1.3.SWE.39G5.32 Gadus morhua      1 0.007244481</span></span>
<span id="cb18-144"><a href="#cb18-144" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14  54.8150   15.3217 1998.1.3.DEN.38G5.40 Gadus morhua      2 0.007345618</span></span>
<span id="cb18-145"><a href="#cb18-145" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15  56.4500   20.2000 1994.1.3.DEN.41H0.22 Gadus morhua      1 0.008339286</span></span>
<span id="cb18-146"><a href="#cb18-146" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16  54.5750   15.3200  1996.1.2.DEN.38G5.5 Gadus morhua      1 0.008380383</span></span>
<span id="cb18-147"><a href="#cb18-147" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17  55.8218   15.4220  1998.1.2.SWE.40G5.3 Gadus morhua      2 0.007345618</span></span>
<span id="cb18-148"><a href="#cb18-148" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18  55.3709   15.5140 2003.1.3.DEN.39G5.36 Gadus morhua      2 0.007444717</span></span>
<span id="cb18-149"><a href="#cb18-149" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19  55.1333   14.1667 1993.1.2.GFR.39G4.20 Gadus morhua      2 0.007244481</span></span>
<span id="cb18-150"><a href="#cb18-150" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20  54.7833   15.9500 1994.1.3.DEN.38G5.50 Gadus morhua      1 0.008339286</span></span>
<span id="cb18-151"><a href="#cb18-151" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           b length_cm length_cm2 weight_kg CPUEun_kg</span></span>
<span id="cb18-152"><a href="#cb18-152" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  3.082202       335        335 445.37563 445.37563</span></span>
<span id="cb18-153"><a href="#cb18-153" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  3.082202       285        285 270.61760 270.61760</span></span>
<span id="cb18-154"><a href="#cb18-154" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  3.082202       225        225 130.59602 261.19205</span></span>
<span id="cb18-155"><a href="#cb18-155" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4  3.082202       220        220 121.85635 121.85635</span></span>
<span id="cb18-156"><a href="#cb18-156" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  3.082202       215        215 113.52063 113.52063</span></span>
<span id="cb18-157"><a href="#cb18-157" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  3.082202       180        180  65.64985  65.64985</span></span>
<span id="cb18-158"><a href="#cb18-158" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7  3.082202       175        175  60.19004  60.19004</span></span>
<span id="cb18-159"><a href="#cb18-159" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8  3.082202       160        160  45.66372  45.66372</span></span>
<span id="cb18-160"><a href="#cb18-160" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9  3.082202       150        150  37.42667  74.85333</span></span>
<span id="cb18-161"><a href="#cb18-161" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 3.082202       145        145  33.71329 101.13986</span></span>
<span id="cb18-162"><a href="#cb18-162" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11 3.082202       140        140  30.25718  30.25718</span></span>
<span id="cb18-163"><a href="#cb18-163" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12 3.055535       136        136  27.69283  27.69283</span></span>
<span id="cb18-164"><a href="#cb18-164" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13 3.100800       127        127  24.18146  24.18146</span></span>
<span id="cb18-165"><a href="#cb18-165" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14 3.082202       130        130  24.07846  48.15692</span></span>
<span id="cb18-166"><a href="#cb18-166" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15 3.052078       127        127  21.98379  21.98379</span></span>
<span id="cb18-167"><a href="#cb18-167" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16 3.055535       123        123  20.37242  20.37242</span></span>
<span id="cb18-168"><a href="#cb18-168" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17 3.082202       121        121  19.30161  38.60322</span></span>
<span id="cb18-169"><a href="#cb18-169" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18 3.070310       121        121  18.47755  36.95509</span></span>
<span id="cb18-170"><a href="#cb18-170" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19 3.100800       116        116  18.25909  36.51819</span></span>
<span id="cb18-171"><a href="#cb18-171" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20 3.052078       118        118  17.56609  17.56609</span></span>
<span id="cb18-172"><a href="#cb18-172" aria-hidden="true" tabindex="-1"></a>hlcodL <span class="ot">&lt;-</span> hlcodL <span class="sc">|&gt;</span> <span class="fu">filter</span>(weight_kg <span class="sc">&lt;</span> <span class="dv">100</span> <span class="sc">&amp;</span> length_cm2 <span class="sc">&lt;</span> <span class="dv">135</span>)</span>
<span id="cb18-173"><a href="#cb18-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-174"><a href="#cb18-174" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hlcodL, <span class="fu">aes</span>(weight_kg, length_cm2)) <span class="sc">+</span></span>
<span id="cb18-175"><a href="#cb18-175" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb18-176"><a href="#cb18-176" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-13-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co"># What is the proportion of zero-catch hauls?</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>hlcodL <span class="sc">|&gt;</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(haul.id) <span class="sc">|&gt;</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">CPUEun_haul =</span> <span class="fu">sum</span>(CPUEun)) <span class="sc">|&gt;</span> </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CPUEun_haul <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1,985 × 2</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    haul.id                  CPUEun_haul</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;                          &lt;dbl&gt;</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 1993:1:DEN:DAN2:GRT:1:1            0</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 1993:1:DEN:DAN2:GRT:3:2            0</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 1993:1:GFR:SOL:H20:60:42           0</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 1993:1:LAT:LAIZ:LBT:1:1            0</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 1993:1:LAT:LAIZ:LBT:1:10           0</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 1993:1:LAT:LAIZ:LBT:1:11           0</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 1993:1:LAT:LAIZ:LBT:1:12           0</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 1993:1:LAT:LAIZ:LBT:1:13           0</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 1993:1:LAT:LAIZ:LBT:1:14           0</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 1993:1:LAT:LAIZ:LBT:1:15           0</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 1,975 more rows</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>cod_0plot <span class="ot">&lt;-</span> hlcodL <span class="sc">|&gt;</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(haul.id, Year, Quarter) <span class="sc">|&gt;</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">CPUEun_haul =</span> <span class="fu">sum</span>(CPUEun)) <span class="sc">|&gt;</span> </span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">zero_catch =</span> <span class="fu">ifelse</span>(CPUEun_haul <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"Y"</span>, <span class="st">"N"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year, Quarter, zero_catch) <span class="sc">|&gt;</span> </span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> zero_catch, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop_zero_catch_hauls =</span> Y<span class="sc">/</span>(N<span class="sc">+</span>Y)) <span class="sc">|&gt;</span> </span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Year, prop_zero_catch_hauls)) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span> </span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">expand =</span> <span class="dv">0</span>, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">+</span> </span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Quarter) <span class="sc">+</span></span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Cod"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="standardize-according-to-orio" class="level4">
<h4 class="anchored" data-anchor-id="standardize-according-to-orio">Standardize according to Orio</h4>
<p>To get unit: kg of fish caught by trawling for 1 h a standard bottom swept area of 0.45km2 using a TVL trawl with 75 m sweeps at the standard speed of three knots</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove hauls done with the TVL gear with a SweepLngt &lt; 50 (these are calibration hauls, pers. com. Anders &amp; Ale)</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># And also hauls without length-information</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove pelagic gear</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>hlcodL <span class="ot">&lt;-</span> hlcodL <span class="sc">|&gt;</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SweepLngt2 =</span> <span class="fu">replace_na</span>(SweepLngt, <span class="dv">50</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">keep =</span> <span class="fu">ifelse</span>(Gear <span class="sc">==</span> <span class="st">"TVL"</span> <span class="sc">&amp;</span> SweepLngt2 <span class="sc">&lt;</span> <span class="dv">50</span>, <span class="st">"N"</span>, <span class="st">"Y"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(keep <span class="sc">==</span> <span class="st">"Y"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>keep, <span class="sc">-</span>SweepLngt2) <span class="sc">|&gt;</span> </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>Gear <span class="sc">==</span> <span class="st">"PEL"</span>)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Add in RS and RSA-values from the sweep file</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="co"># CPUE should be multiplied with RS and RSA to standardize to a relative speed and gear dimension.</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="co"># There is not a single file will all RS and RSA values. Instead they come in three files:</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="co"># - sweep (non-Swedish hauls between 1991-2016)</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="co"># - + calculated based on trawl speed and gear dimensions.</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="co"># I will join in the RS and RSA values from all sources, then standardize and filter</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="co"># away non-standardized hauls</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="co"># sort(unique(sweep$Year))</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="co"># sort(unique(sweep$Country))</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Since I don't have the sweep data for Swedish data, I have to calculate it from scratch using the </span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a><span class="co"># equation in Orio's spreadsheet</span></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a><span class="co"># First I will join in the sweep data, </span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>sweep_sel <span class="ot">&lt;-</span> sweep <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"haul.id"</span> <span class="ot">=</span> <span class="st">"ï..haul.id"</span>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(haul.id, RSA, RS)</span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>hlcodL2 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(hlcodL, sweep_sel)</span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>hlcodL2 <span class="ot">&lt;-</span> hlcodL2 <span class="sc">|&gt;</span></span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"RS_sweep"</span> <span class="ot">=</span> <span class="st">"RS"</span>,</span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>         <span class="st">"RSA_sweep"</span> <span class="ot">=</span> <span class="st">"RSA"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">RS_sweep =</span> <span class="fu">as.numeric</span>(RS_sweep),</span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">RSA_sweep =</span> <span class="fu">as.numeric</span>(RSA_sweep))</span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">colnames</span>(hlcodL2))</span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] "a"                 "b"                 "BySpecRecCode"    </span></span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] "CatCatchWgt"       "CatIdentifier"     "Country"          </span></span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] "CPUEun"            "CPUEun_kg"         "DataType"         </span></span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10] "DateofCalculation" "DevStage"          "DoorType"         </span></span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] "Fishing.line"      "Gear"              "GearEx"           </span></span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [16] "GroundSpeed"       "haul.id"           "HaulDur"          </span></span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [19] "HaulNo"            "HaulVal"           "HLNoAtLngt"       </span></span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [22] "id_haul_stomach"   "IDx"               "length_cm"        </span></span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [25] "length_cm2"        "LenMeasType"       "LngtClass"        </span></span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [28] "LngtCode"          "Month"             "NoMeas"           </span></span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [31] "Quarter"           "RecordType"        "Rect"             </span></span>
<span id="cb20-47"><a href="#cb20-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [34] "RS_sweep"          "RSA_sweep"         "Sex"              </span></span>
<span id="cb20-48"><a href="#cb20-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [37] "Ship"              "Ship2"             "Ship3"            </span></span>
<span id="cb20-49"><a href="#cb20-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [40] "ShootLat"          "ShootLong"         "SpecCode"         </span></span>
<span id="cb20-50"><a href="#cb20-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [43] "SpecCodeType"      "Species"           "SpecVal"          </span></span>
<span id="cb20-51"><a href="#cb20-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [46] "StdSpecRecCode"    "StNo"              "sub_div"          </span></span>
<span id="cb20-52"><a href="#cb20-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [49] "SubFactor"         "SubWgt"            "Survey"           </span></span>
<span id="cb20-53"><a href="#cb20-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [52] "SweepLngt"         "TotalNo"           "Valid_Aphia"      </span></span>
<span id="cb20-54"><a href="#cb20-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [55] "weight_kg"         "Year"</span></span>
<span id="cb20-55"><a href="#cb20-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-56"><a href="#cb20-56" aria-hidden="true" tabindex="-1"></a><span class="co"># I will calculate a RS and RSA column in the catch data based on Ale's equation in the sweep file:</span></span>
<span id="cb20-57"><a href="#cb20-57" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">unique</span>(hlcodL2<span class="sc">$</span>GroundSpeed))</span>
<span id="cb20-58"><a href="#cb20-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] -9.0  0.1  0.2  0.8  1.7  1.8  2.0  2.1  2.2  2.3  2.4  2.5  2.6  2.7  2.8</span></span>
<span id="cb20-59"><a href="#cb20-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [16]  2.9  3.0  3.1  3.2  3.3  3.4  3.5  3.6  3.7  3.8  3.9  4.0  4.1  4.2  4.3</span></span>
<span id="cb20-60"><a href="#cb20-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [31]  4.4  4.5  4.6  4.7  4.9  5.0  5.2  5.3  5.4  5.5  5.6  5.7  5.9  6.0  6.1</span></span>
<span id="cb20-61"><a href="#cb20-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [46]  6.2  6.3  6.6  6.7  6.8  6.9  7.1  7.3  8.6</span></span>
<span id="cb20-62"><a href="#cb20-62" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">unique</span>(hlcodL2<span class="sc">$</span>Fishing.line))</span>
<span id="cb20-63"><a href="#cb20-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  -9.00  28.00  33.22  36.00  39.80  63.46  83.00 160.00</span></span>
<span id="cb20-64"><a href="#cb20-64" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">unique</span>(hlcodL2<span class="sc">$</span>SweepLngt))</span>
<span id="cb20-65"><a href="#cb20-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]   0  40  50  60  75  87  90  95 100 110 135 180 185 200 203 225 235</span></span>
<span id="cb20-66"><a href="#cb20-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-67"><a href="#cb20-67" aria-hidden="true" tabindex="-1"></a><span class="co"># First replace -9 in the columns I use for the calculations with NA so I don't end up with real numbers that are wrong!</span></span>
<span id="cb20-68"><a href="#cb20-68" aria-hidden="true" tabindex="-1"></a>hlcodL2 <span class="ot">&lt;-</span> hlcodL2 <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">GroundSpeed =</span> <span class="fu">ifelse</span>(GroundSpeed <span class="sc">==</span> <span class="sc">-</span><span class="dv">9</span>, <span class="cn">NA</span>, GroundSpeed),</span>
<span id="cb20-69"><a href="#cb20-69" aria-hidden="true" tabindex="-1"></a>                              <span class="at">Fishing.line =</span> <span class="fu">ifelse</span>(Fishing.line <span class="sc">==</span> <span class="sc">-</span><span class="dv">9</span>, <span class="cn">NA</span>, Fishing.line),</span>
<span id="cb20-70"><a href="#cb20-70" aria-hidden="true" tabindex="-1"></a>                              <span class="at">SweepLngt =</span> <span class="fu">ifelse</span>(SweepLngt <span class="sc">==</span> <span class="sc">-</span><span class="dv">9</span>, <span class="cn">NA</span>, SweepLngt))</span>
<span id="cb20-71"><a href="#cb20-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-72"><a href="#cb20-72" aria-hidden="true" tabindex="-1"></a>hlcodL2 <span class="sc">|&gt;</span> <span class="fu">filter</span>(Quarter <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb20-73"><a href="#cb20-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(GroundSpeed, Fishing.line, SweepLngt) <span class="sc">|&gt;</span> <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">20</span>)</span>
<span id="cb20-74"><a href="#cb20-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    GroundSpeed Fishing.line SweepLngt</span></span>
<span id="cb20-75"><a href="#cb20-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1           NA           NA        60</span></span>
<span id="cb20-76"><a href="#cb20-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2           NA           NA       110</span></span>
<span id="cb20-77"><a href="#cb20-77" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3          3.8         36.0        NA</span></span>
<span id="cb20-78"><a href="#cb20-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4          3.6         36.0        NA</span></span>
<span id="cb20-79"><a href="#cb20-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5          4.0         36.0        NA</span></span>
<span id="cb20-80"><a href="#cb20-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6          4.6         36.0        NA</span></span>
<span id="cb20-81"><a href="#cb20-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7          3.4         36.0        NA</span></span>
<span id="cb20-82"><a href="#cb20-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8          4.2         36.0        NA</span></span>
<span id="cb20-83"><a href="#cb20-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9          3.2         36.0        NA</span></span>
<span id="cb20-84"><a href="#cb20-84" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10         2.6         36.0        NA</span></span>
<span id="cb20-85"><a href="#cb20-85" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11         2.8         36.0        NA</span></span>
<span id="cb20-86"><a href="#cb20-86" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12         3.1        160.0        50</span></span>
<span id="cb20-87"><a href="#cb20-87" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13         2.9        160.0        50</span></span>
<span id="cb20-88"><a href="#cb20-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14         3.0        160.0        50</span></span>
<span id="cb20-89"><a href="#cb20-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15         2.6        160.0        50</span></span>
<span id="cb20-90"><a href="#cb20-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16         3.2        160.0        50</span></span>
<span id="cb20-91"><a href="#cb20-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17         3.1         83.0       185</span></span>
<span id="cb20-92"><a href="#cb20-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18         3.0         83.0       185</span></span>
<span id="cb20-93"><a href="#cb20-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19          NA         39.8        NA</span></span>
<span id="cb20-94"><a href="#cb20-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20         2.8         83.0       185</span></span>
<span id="cb20-95"><a href="#cb20-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-96"><a href="#cb20-96" aria-hidden="true" tabindex="-1"></a>hlcodL2 <span class="sc">|&gt;</span> <span class="fu">filter</span>(Quarter <span class="sc">==</span> <span class="dv">4</span>) <span class="sc">|&gt;</span></span>
<span id="cb20-97"><a href="#cb20-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(GroundSpeed, Fishing.line, SweepLngt) <span class="sc">|&gt;</span> <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">20</span>)</span>
<span id="cb20-98"><a href="#cb20-98" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    GroundSpeed Fishing.line SweepLngt</span></span>
<span id="cb20-99"><a href="#cb20-99" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1          2.9           83       180</span></span>
<span id="cb20-100"><a href="#cb20-100" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2          3.8           36        NA</span></span>
<span id="cb20-101"><a href="#cb20-101" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3          2.8           83       180</span></span>
<span id="cb20-102"><a href="#cb20-102" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4          3.1           83       180</span></span>
<span id="cb20-103"><a href="#cb20-103" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5          3.4           36        NA</span></span>
<span id="cb20-104"><a href="#cb20-104" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6          4.0           36        NA</span></span>
<span id="cb20-105"><a href="#cb20-105" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7          4.2           36        NA</span></span>
<span id="cb20-106"><a href="#cb20-106" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8          3.2           83       180</span></span>
<span id="cb20-107"><a href="#cb20-107" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9          3.3           83       180</span></span>
<span id="cb20-108"><a href="#cb20-108" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10         3.2           36        NA</span></span>
<span id="cb20-109"><a href="#cb20-109" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11         3.6           36        NA</span></span>
<span id="cb20-110"><a href="#cb20-110" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12         3.0           83       180</span></span>
<span id="cb20-111"><a href="#cb20-111" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13         3.0           36        NA</span></span>
<span id="cb20-112"><a href="#cb20-112" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14         2.8           83       185</span></span>
<span id="cb20-113"><a href="#cb20-113" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15         3.0           83       185</span></span>
<span id="cb20-114"><a href="#cb20-114" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16         3.2           83       185</span></span>
<span id="cb20-115"><a href="#cb20-115" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17         3.3           83       185</span></span>
<span id="cb20-116"><a href="#cb20-116" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18         3.1           83       185</span></span>
<span id="cb20-117"><a href="#cb20-117" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19         3.5           83       185</span></span>
<span id="cb20-118"><a href="#cb20-118" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20         3.4           83       185</span></span>
<span id="cb20-119"><a href="#cb20-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-120"><a href="#cb20-120" aria-hidden="true" tabindex="-1"></a><span class="co"># Hmm, Q1 has at least one of the RS or RSA variables as NAs. Will be difficult to standardize!</span></span>
<span id="cb20-121"><a href="#cb20-121" aria-hidden="true" tabindex="-1"></a><span class="co"># Hope the correction factors are present in Ales conversion data</span></span>
<span id="cb20-122"><a href="#cb20-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-123"><a href="#cb20-123" aria-hidden="true" tabindex="-1"></a><span class="co"># Now calculate correction factors</span></span>
<span id="cb20-124"><a href="#cb20-124" aria-hidden="true" tabindex="-1"></a>hlcodL2 <span class="ot">&lt;-</span> hlcodL2 <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">RS_x =</span> <span class="dv">3</span><span class="sc">/</span>GroundSpeed,</span>
<span id="cb20-125"><a href="#cb20-125" aria-hidden="true" tabindex="-1"></a>                              <span class="at">Horizontal.opening..m. =</span> Fishing.line<span class="sc">*</span><span class="fl">0.67</span>,</span>
<span id="cb20-126"><a href="#cb20-126" aria-hidden="true" tabindex="-1"></a>                              <span class="at">Swep.one.side..after.formula...meter =</span> <span class="fl">0.258819045</span><span class="sc">*</span>SweepLngt, <span class="co"># SIN(RADIANS(15))</span></span>
<span id="cb20-127"><a href="#cb20-127" aria-hidden="true" tabindex="-1"></a>                              <span class="at">Size.final..m =</span> Horizontal.opening..m. <span class="sc">+</span> (Swep.one.side..after.formula...meter<span class="sc">*</span><span class="dv">2</span>),</span>
<span id="cb20-128"><a href="#cb20-128" aria-hidden="true" tabindex="-1"></a>                              <span class="at">Swept.area =</span> (Size.final..m<span class="sc">*</span><span class="dv">3</span><span class="sc">*</span><span class="dv">1860</span>)<span class="sc">/</span><span class="dv">1000000</span>,</span>
<span id="cb20-129"><a href="#cb20-129" aria-hidden="true" tabindex="-1"></a>                              <span class="at">RSA_x =</span> <span class="fl">0.45388309675081</span><span class="sc">/</span>Swept.area)</span>
<span id="cb20-130"><a href="#cb20-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-131"><a href="#cb20-131" aria-hidden="true" tabindex="-1"></a><span class="co"># Check EQ. is correct by recalculating it in the sweep file</span></span>
<span id="cb20-132"><a href="#cb20-132" aria-hidden="true" tabindex="-1"></a>sweep <span class="ot">&lt;-</span> sweep <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Horizontal.opening..m.2 =</span> Fishing.line<span class="sc">*</span><span class="fl">0.67</span>,</span>
<span id="cb20-133"><a href="#cb20-133" aria-hidden="true" tabindex="-1"></a>                          <span class="at">Swep.one.side..after.formula...meter2 =</span> <span class="fl">0.258819045</span><span class="sc">*</span>SweepLngt, <span class="co"># SIN(RADIANS(15))</span></span>
<span id="cb20-134"><a href="#cb20-134" aria-hidden="true" tabindex="-1"></a>                          <span class="at">Size.final..m2 =</span> Horizontal.opening..m<span class="fl">.2</span> <span class="sc">+</span> (Swep.one.side..after.formula...meter2<span class="sc">*</span><span class="dv">2</span>),</span>
<span id="cb20-135"><a href="#cb20-135" aria-hidden="true" tabindex="-1"></a>                          <span class="at">Swept.area2 =</span> (Size.final..m2<span class="sc">*</span><span class="dv">3</span><span class="sc">*</span><span class="dv">1860</span>)<span class="sc">/</span><span class="dv">1000000</span>,</span>
<span id="cb20-136"><a href="#cb20-136" aria-hidden="true" tabindex="-1"></a>                          <span class="at">RSA_x =</span> <span class="fl">0.45388309675081</span><span class="sc">/</span>Swept.area2)</span>
<span id="cb20-137"><a href="#cb20-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-138"><a href="#cb20-138" aria-hidden="true" tabindex="-1"></a>sweep <span class="sc">%&gt;%</span></span>
<span id="cb20-139"><a href="#cb20-139" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span></span>
<span id="cb20-140"><a href="#cb20-140" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(., <span class="fu">aes</span>(<span class="fu">as.numeric</span>(RSA), RSA_x)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Yes it's the same</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace NAs with -1/3 (because ICES codes missing values as -9 and in the calculation above they get -1/3),</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># so that I can filter them easily later</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co"># sort(unique(hlcodL2$RS_x))</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co"># sort(unique(hlcodL2$RSA_x))</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>hlcodL2<span class="sc">$</span>RS_x[<span class="fu">is.na</span>(hlcodL2<span class="sc">$</span>RS_x)] <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">/</span><span class="dv">3</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>hlcodL2<span class="sc">$</span>RS_sweep[<span class="fu">is.na</span>(hlcodL2<span class="sc">$</span>RS_sweep)] <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">/</span><span class="dv">3</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>hlcodL2<span class="sc">$</span>RSA_x[<span class="fu">is.na</span>(hlcodL2<span class="sc">$</span>RSA_x)] <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">/</span><span class="dv">3</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>hlcodL2<span class="sc">$</span>RSA_sweep[<span class="fu">is.na</span>(hlcodL2<span class="sc">$</span>RSA_sweep)] <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">/</span><span class="dv">3</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare the difference correction factors (calculated vs imported from sweep file)</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="fu">filter</span>(hlcodL2, RS_x <span class="sc">&gt;</span> <span class="dv">0</span>), <span class="fu">aes</span>(RS_x)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span> <span class="fu">xlim</span>(<span class="fl">0.4</span>, <span class="fl">1.76</span>)</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(hlcodL2, <span class="fu">aes</span>(RSA_x)) <span class="sc">+</span> <span class="fu">geom_histogram</span>()</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(hlcodL2, <span class="fu">aes</span>(RS_sweep)) <span class="sc">+</span> <span class="fu">geom_histogram</span>()</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>p4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(hlcodL2, <span class="fu">aes</span>(RSA_sweep)) <span class="sc">+</span> <span class="fu">geom_histogram</span>()</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>(p1 <span class="sc">+</span> p2) <span class="sc">/</span> (p3 <span class="sc">+</span> p4)</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Removed 284 rows containing non-finite values (`stat_bin()`).</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Removed 2 rows containing missing values (`geom_bar()`).</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-14-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Why do I have RSA values smaller than one? (either because sweep length is longer or gear is larger (GOV))</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if I can calculate the same RSA in sweep as that entered there.</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Ok, so the equation is correct. Which ID's have RSA &lt; 1?</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>hlcodL2 <span class="sc">|&gt;</span> </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(RSA_x <span class="sc">&lt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> RSA_x <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Year, Country, Ship, Gear, haul.id, Horizontal.opening..m., Fishing.line,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>                Swep.one.side..after.formula...meter, SweepLngt, Size.final..m, Swept.area, RSA_x) <span class="sc">|&gt;</span> </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(RSA_x, <span class="at">fill =</span> <span class="fu">factor</span>(SweepLngt))) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>Gear, <span class="at">ncol =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-14-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if I have more than one unique RS or RSA value per haul, or if it's "either this or that"</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter positive in both columns</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>hlcodL2 <span class="sc">|&gt;</span> <span class="fu">filter</span>(RS_x <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> RS_sweep <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(RS_x, RS_sweep)) <span class="sc">+</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_abline</span>(<span class="fu">aes</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>), <span class="at">color =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-14-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>hlcodL2 <span class="sc">|&gt;</span> <span class="fu">filter</span>(RSA_x <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> RSA_sweep <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(RSA_x, RSA_sweep)) <span class="sc">+</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_abline</span>(<span class="fu">aes</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>), <span class="at">color =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-14-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Ok, there's on odd RS_x that is larger than 3. It didn't catch anything and speed is 0.8! Will remove</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>hlcodL2 <span class="ot">&lt;-</span> hlcodL2 <span class="sc">|&gt;</span> <span class="fu">filter</span>(RS_x <span class="sc">&lt;</span> <span class="dv">3</span>)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot again</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>hlcodL2 <span class="sc">|&gt;</span> <span class="fu">filter</span>(RS_x <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> RS_sweep <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(RS_x, RS_sweep)) <span class="sc">+</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_abline</span>(<span class="fu">aes</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>), <span class="at">color =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-14-6.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co"># They are largely the same when they overlap. When they differ, I will use RS_sweep</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a single RS and RSA column</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Cod </span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>hlcodL3 <span class="ot">&lt;-</span> hlcodL2 <span class="sc">|&gt;</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">RS =</span> <span class="sc">-</span><span class="dv">99</span>,</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">RS =</span> <span class="fu">ifelse</span>(RS_sweep <span class="sc">&gt;</span> <span class="dv">0</span>, RS_sweep, RS),</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">RS =</span> <span class="fu">ifelse</span>(RS <span class="sc">&lt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> RS_x <span class="sc">&gt;</span> <span class="dv">0</span>, RS_x, RS)) <span class="sc">|&gt;</span> <span class="co"># Note that there are no NA i RS_x. This replaces all non-RS_sweep values -0.3, so I can filter positive later</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">RSA =</span> <span class="sc">-</span><span class="dv">99</span>,</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">RSA =</span> <span class="fu">ifelse</span>(RSA_sweep <span class="sc">&gt;</span> <span class="dv">0</span>, RSA_sweep, RSA),</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">RSA =</span> <span class="fu">ifelse</span>(RSA <span class="sc">&lt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> RSA_x <span class="sc">&gt;</span> <span class="dv">0</span>, RSA_x, RSA)) <span class="sc">|&gt;</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(RS <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(RSA <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">RSRSA =</span> RS<span class="sc">*</span>RSA)</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hlcodL3, <span class="fu">aes</span>(RSRSA)) <span class="sc">+</span> <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-14-7.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hlcodL3, <span class="fu">aes</span>(RSRSA)) <span class="sc">+</span> <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-14-8.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize!</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>hlcodL3 <span class="ot">&lt;-</span> hlcodL3 <span class="sc">|&gt;</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CPUEst_kg =</span> CPUEun_kg<span class="sc">*</span>RS<span class="sc">*</span>RSA,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">CPUEst =</span> CPUEun<span class="sc">*</span>RS<span class="sc">*</span>RSA)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(<span class="fu">is.na</span>(hlcodL3<span class="sc">$</span>CPUEst_kg))</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(<span class="fu">is.na</span>(hlcodL3<span class="sc">$</span>CPUEst))</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(hlcodL3<span class="sc">$</span>CPUEst_kg)</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(hlcodL3<span class="sc">$</span>CPUEst)</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Now calculate CPUE PER LENGTH CLASS, then create the new unit, i.e.:  convert from kg of fish caught by trawling for 1 h a standard bottom swept area of 0.45km2 (using a TVL trawl with 75 m sweeps at the standard speed of three knots) to... kg of fish per km^2 by dividing with 0.45</span></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(hlcodL3) <span class="sc">+</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(length_cm2, <span class="at">fill =</span> <span class="st">"length_cm1"</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>)  </span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(hlcodL3) <span class="sc">+</span></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(length_cm2, <span class="at">fill =</span> <span class="st">"length_cm2"</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>) </span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>p1<span class="sc">/</span>p2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-14-9.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>hlcodhaul <span class="ot">&lt;-</span> hlcodL3 <span class="sc">|&gt;</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cpue_kg =</span> CPUEst_kg,</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">cpue =</span> CPUEst,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">cpue_kg_un =</span> CPUEun_kg,</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">cpue_un =</span> CPUEun,</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">density =</span> cpue_kg<span class="sc">/</span><span class="fl">0.45</span>,</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">density_ab =</span> cpue<span class="sc">/</span><span class="fl">0.45</span>)</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="co"># t &lt;- hlcodhaul |&gt; filter(haul_cpue_un == 0)</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="co"># t &lt;- hlcodhaul |&gt; filter(!Country == "SWE") |&gt; filter(haul_cpue_un &gt; 0)</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="co"># First, figure out why i have length = 0 and density = 0 when I have other lengths in the haul</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>hlcodhaul <span class="sc">|&gt;</span> <span class="fu">filter</span>(haul.id <span class="sc">==</span> <span class="st">"1993:1:GFR:SOL:H20:23:31"</span>) <span class="sc">|&gt;</span> <span class="fu">as.data.frame</span>()</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   RecordType Survey Quarter Country Ship Gear SweepLngt GearEx DoorType StNo</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1         HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   23</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2         HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   23</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3         HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   23</span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4         HH   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   23</span></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   HaulNo Year SpecCodeType SpecCode   SpecVal  Sex TotalNo CatIdentifier NoMeas</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1     31 1993            W   126436         1 &lt;NA&gt;       6             1      3</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2     31 1993            W   126436         1 &lt;NA&gt;       6             1      3</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3     31 1993            W   126436         1 &lt;NA&gt;       6             1      3</span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4     31 1993         &lt;NA&gt;       NA zeroCatch &lt;NA&gt;      NA            NA     NA</span></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   SubFactor SubWgt CatCatchWgt LngtCode LngtClass HLNoAtLngt DevStage</span></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1         1     NA          25        1         6          2     &lt;NA&gt;</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2         1     NA          25        1        35          2     &lt;NA&gt;</span></span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3         1     NA          25        1        39          2     &lt;NA&gt;</span></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4        NA     NA          NA     &lt;NA&gt;        NA         NA     &lt;NA&gt;</span></span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   LenMeasType DateofCalculation Valid_Aphia Ship2 Ship3</span></span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1          NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2          NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3          NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4          NA          20220301          NA   SOL   SOL</span></span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                         IDx sub_div Rect HaulVal StdSpecRecCode BySpecRecCode</span></span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 1993.1.GFR.06S1.H20.23.31      24 38G4       V              1             1</span></span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 1993.1.GFR.06S1.H20.23.31      24 38G4       V              1             1</span></span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 1993.1.GFR.06S1.H20.23.31      24 38G4       V              1             1</span></span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 1993.1.GFR.06S1.H20.23.31      24 38G4       V              1             1</span></span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Fishing.line Month DataType HaulDur GroundSpeed                  haul.id</span></span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1           36     2        C      30           4 1993:1:GFR:SOL:H20:23:31</span></span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2           36     2        C      30           4 1993:1:GFR:SOL:H20:23:31</span></span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3           36     2        C      30           4 1993:1:GFR:SOL:H20:23:31</span></span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4           36     2        C      30           4 1993:1:GFR:SOL:H20:23:31</span></span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ShootLat ShootLong      id_haul_stomach      Species CPUEun           a</span></span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  54.5167     14.15 1993.1.2.GFR.38G4.31 Gadus morhua      2 0.007244481</span></span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  54.5167     14.15 1993.1.2.GFR.38G4.31 Gadus morhua      2 0.007244481</span></span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  54.5167     14.15 1993.1.2.GFR.38G4.31 Gadus morhua      2 0.007244481</span></span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4  54.5167     14.15                 &lt;NA&gt; Gadus morhua      0 0.007244481</span></span>
<span id="cb29-50"><a href="#cb29-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        b length_cm length_cm2   weight_kg   CPUEun_kg RSA_sweep RS_sweep RS_x</span></span>
<span id="cb29-51"><a href="#cb29-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 3.1008         6          6 0.001874558 0.003749116      1.47     0.75 0.75</span></span>
<span id="cb29-52"><a href="#cb29-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 3.1008        35         35 0.444481726 0.888963452      1.47     0.75 0.75</span></span>
<span id="cb29-53"><a href="#cb29-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 3.1008        39         39 0.621699998 1.243399996      1.47     0.75 0.75</span></span>
<span id="cb29-54"><a href="#cb29-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 3.1008        NA          0 0.000000000 0.000000000      1.47     0.75 0.75</span></span>
<span id="cb29-55"><a href="#cb29-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Horizontal.opening..m. Swep.one.side..after.formula...meter Size.final..m</span></span>
<span id="cb29-56"><a href="#cb29-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1                  24.12                                   NA            NA</span></span>
<span id="cb29-57"><a href="#cb29-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2                  24.12                                   NA            NA</span></span>
<span id="cb29-58"><a href="#cb29-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3                  24.12                                   NA            NA</span></span>
<span id="cb29-59"><a href="#cb29-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4                  24.12                                   NA            NA</span></span>
<span id="cb29-60"><a href="#cb29-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Swept.area      RSA_x   RS  RSA  RSRSA CPUEst_kg CPUEst   cpue_kg  cpue</span></span>
<span id="cb29-61"><a href="#cb29-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1         NA -0.3333333 0.75 1.47 1.1025 0.0041334  2.205 0.0041334 2.205</span></span>
<span id="cb29-62"><a href="#cb29-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2         NA -0.3333333 0.75 1.47 1.1025 0.9800822  2.205 0.9800822 2.205</span></span>
<span id="cb29-63"><a href="#cb29-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3         NA -0.3333333 0.75 1.47 1.1025 1.3708485  2.205 1.3708485 2.205</span></span>
<span id="cb29-64"><a href="#cb29-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4         NA -0.3333333 0.75 1.47 1.1025 0.0000000  0.000 0.0000000 0.000</span></span>
<span id="cb29-65"><a href="#cb29-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    cpue_kg_un cpue_un     density density_ab</span></span>
<span id="cb29-66"><a href="#cb29-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 0.003749116       2 0.009185334        4.9</span></span>
<span id="cb29-67"><a href="#cb29-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 0.888963452       2 2.177960458        4.9</span></span>
<span id="cb29-68"><a href="#cb29-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 1.243399996       2 3.046329990        4.9</span></span>
<span id="cb29-69"><a href="#cb29-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 0.000000000       0 0.000000000        0.0</span></span>
<span id="cb29-70"><a href="#cb29-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-71"><a href="#cb29-71" aria-hidden="true" tabindex="-1"></a>hlcodhaul <span class="sc">|&gt;</span></span>
<span id="cb29-72"><a href="#cb29-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(haul.id) <span class="sc">|&gt;</span> </span>
<span id="cb29-73"><a href="#cb29-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">no_catches =</span> <span class="fu">length</span>(<span class="fu">unique</span>(CPUEun))) <span class="sc">|&gt;</span> </span>
<span id="cb29-74"><a href="#cb29-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">any</span>(CPUEun <span class="sc">==</span> <span class="dv">0</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb29-75"><a href="#cb29-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(no_catches <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb29-76"><a href="#cb29-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> </span>
<span id="cb29-77"><a href="#cb29-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">20</span>)</span>
<span id="cb29-78"><a href="#cb29-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    RecordType Survey Quarter Country Ship Gear SweepLngt GearEx DoorType StNo</span></span>
<span id="cb29-79"><a href="#cb29-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1          HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-80"><a href="#cb29-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2          HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-81"><a href="#cb29-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3          HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-82"><a href="#cb29-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4          HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-83"><a href="#cb29-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5          HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-84"><a href="#cb29-84" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6          HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-85"><a href="#cb29-85" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7          HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-86"><a href="#cb29-86" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8          HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-87"><a href="#cb29-87" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9          HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-88"><a href="#cb29-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10         HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-89"><a href="#cb29-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11         HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-90"><a href="#cb29-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12         HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-91"><a href="#cb29-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13         HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-92"><a href="#cb29-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14         HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-93"><a href="#cb29-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15         HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-94"><a href="#cb29-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16         HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-95"><a href="#cb29-95" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17         HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-96"><a href="#cb29-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18         HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-97"><a href="#cb29-97" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19         HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-98"><a href="#cb29-98" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20         HL   BITS       1     GFR 06S1  H20        NA   &lt;NA&gt;       NA   21</span></span>
<span id="cb29-99"><a href="#cb29-99" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    HaulNo Year SpecCodeType SpecCode SpecVal  Sex TotalNo CatIdentifier NoMeas</span></span>
<span id="cb29-100"><a href="#cb29-100" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1       1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-101"><a href="#cb29-101" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2       1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-102"><a href="#cb29-102" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3       1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-103"><a href="#cb29-103" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4       1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-104"><a href="#cb29-104" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5       1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-105"><a href="#cb29-105" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6       1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-106"><a href="#cb29-106" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7       1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-107"><a href="#cb29-107" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8       1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-108"><a href="#cb29-108" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9       1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-109"><a href="#cb29-109" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10      1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-110"><a href="#cb29-110" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11      1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-111"><a href="#cb29-111" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12      1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-112"><a href="#cb29-112" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13      1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-113"><a href="#cb29-113" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14      1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-114"><a href="#cb29-114" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15      1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-115"><a href="#cb29-115" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16      1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-116"><a href="#cb29-116" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17      1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-117"><a href="#cb29-117" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18      1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-118"><a href="#cb29-118" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19      1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-119"><a href="#cb29-119" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20      1 1993            W   126436       1 &lt;NA&gt;     110             1     55</span></span>
<span id="cb29-120"><a href="#cb29-120" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    SubFactor SubWgt CatCatchWgt LngtCode LngtClass HLNoAtLngt DevStage</span></span>
<span id="cb29-121"><a href="#cb29-121" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1          1     NA         680        1        14          4     &lt;NA&gt;</span></span>
<span id="cb29-122"><a href="#cb29-122" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2          1     NA         680        1        16          4     &lt;NA&gt;</span></span>
<span id="cb29-123"><a href="#cb29-123" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3          1     NA         680        1        18          4     &lt;NA&gt;</span></span>
<span id="cb29-124"><a href="#cb29-124" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4          1     NA         680        1        27          8     &lt;NA&gt;</span></span>
<span id="cb29-125"><a href="#cb29-125" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5          1     NA         680        1        28          8     &lt;NA&gt;</span></span>
<span id="cb29-126"><a href="#cb29-126" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6          1     NA         680        1        29          8     &lt;NA&gt;</span></span>
<span id="cb29-127"><a href="#cb29-127" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7          1     NA         680        1        58          2     &lt;NA&gt;</span></span>
<span id="cb29-128"><a href="#cb29-128" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8          1     NA         680        1        59          2     &lt;NA&gt;</span></span>
<span id="cb29-129"><a href="#cb29-129" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9          1     NA         680        1        60          2     &lt;NA&gt;</span></span>
<span id="cb29-130"><a href="#cb29-130" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10         1     NA         680        1        65          2     &lt;NA&gt;</span></span>
<span id="cb29-131"><a href="#cb29-131" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11         1     NA         680        1        37          2     &lt;NA&gt;</span></span>
<span id="cb29-132"><a href="#cb29-132" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12         1     NA         680        1        44          4     &lt;NA&gt;</span></span>
<span id="cb29-133"><a href="#cb29-133" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13         1     NA         680        1        48          2     &lt;NA&gt;</span></span>
<span id="cb29-134"><a href="#cb29-134" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14         1     NA         680        1        49          2     &lt;NA&gt;</span></span>
<span id="cb29-135"><a href="#cb29-135" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15         1     NA         680        1        50          4     &lt;NA&gt;</span></span>
<span id="cb29-136"><a href="#cb29-136" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16         1     NA         680        1        53          2     &lt;NA&gt;</span></span>
<span id="cb29-137"><a href="#cb29-137" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17         1     NA         680        1        30          8     &lt;NA&gt;</span></span>
<span id="cb29-138"><a href="#cb29-138" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18         1     NA         680        1        31         10     &lt;NA&gt;</span></span>
<span id="cb29-139"><a href="#cb29-139" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19         1     NA         680        1        32          8     &lt;NA&gt;</span></span>
<span id="cb29-140"><a href="#cb29-140" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20         1     NA         680        1        33         14     &lt;NA&gt;</span></span>
<span id="cb29-141"><a href="#cb29-141" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    LenMeasType DateofCalculation Valid_Aphia Ship2 Ship3</span></span>
<span id="cb29-142"><a href="#cb29-142" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1           NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-143"><a href="#cb29-143" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2           NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-144"><a href="#cb29-144" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3           NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-145"><a href="#cb29-145" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4           NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-146"><a href="#cb29-146" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5           NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-147"><a href="#cb29-147" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6           NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-148"><a href="#cb29-148" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7           NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-149"><a href="#cb29-149" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8           NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-150"><a href="#cb29-150" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9           NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-151"><a href="#cb29-151" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10          NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-152"><a href="#cb29-152" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11          NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-153"><a href="#cb29-153" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12          NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-154"><a href="#cb29-154" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13          NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-155"><a href="#cb29-155" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14          NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-156"><a href="#cb29-156" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15          NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-157"><a href="#cb29-157" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16          NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-158"><a href="#cb29-158" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17          NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-159"><a href="#cb29-159" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18          NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-160"><a href="#cb29-160" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19          NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-161"><a href="#cb29-161" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20          NA          20211203      126436   SOL   SOL</span></span>
<span id="cb29-162"><a href="#cb29-162" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                         IDx sub_div Rect HaulVal StdSpecRecCode BySpecRecCode</span></span>
<span id="cb29-163"><a href="#cb29-163" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-164"><a href="#cb29-164" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-165"><a href="#cb29-165" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-166"><a href="#cb29-166" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4  1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-167"><a href="#cb29-167" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-168"><a href="#cb29-168" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-169"><a href="#cb29-169" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7  1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-170"><a href="#cb29-170" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8  1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-171"><a href="#cb29-171" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9  1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-172"><a href="#cb29-172" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-173"><a href="#cb29-173" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11 1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-174"><a href="#cb29-174" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12 1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-175"><a href="#cb29-175" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13 1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-176"><a href="#cb29-176" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14 1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-177"><a href="#cb29-177" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15 1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-178"><a href="#cb29-178" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16 1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-179"><a href="#cb29-179" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17 1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-180"><a href="#cb29-180" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18 1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-181"><a href="#cb29-181" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19 1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-182"><a href="#cb29-182" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20 1993.1.GFR.06S1.H20.21.1      24 38G3       V              1             1</span></span>
<span id="cb29-183"><a href="#cb29-183" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Fishing.line Month DataType HaulDur GroundSpeed                 haul.id</span></span>
<span id="cb29-184"><a href="#cb29-184" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1            36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-185"><a href="#cb29-185" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2            36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-186"><a href="#cb29-186" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3            36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-187"><a href="#cb29-187" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4            36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-188"><a href="#cb29-188" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5            36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-189"><a href="#cb29-189" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6            36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-190"><a href="#cb29-190" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7            36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-191"><a href="#cb29-191" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8            36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-192"><a href="#cb29-192" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9            36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-193"><a href="#cb29-193" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10           36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-194"><a href="#cb29-194" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11           36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-195"><a href="#cb29-195" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12           36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-196"><a href="#cb29-196" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13           36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-197"><a href="#cb29-197" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14           36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-198"><a href="#cb29-198" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15           36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-199"><a href="#cb29-199" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16           36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-200"><a href="#cb29-200" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17           36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-201"><a href="#cb29-201" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18           36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-202"><a href="#cb29-202" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19           36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-203"><a href="#cb29-203" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20           36     2        C      30         3.8 1993:1:GFR:SOL:H20:21:1</span></span>
<span id="cb29-204"><a href="#cb29-204" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    ShootLat ShootLong     id_haul_stomach      Species CPUEun           a</span></span>
<span id="cb29-205"><a href="#cb29-205" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua      4 0.007244481</span></span>
<span id="cb29-206"><a href="#cb29-206" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua      4 0.007244481</span></span>
<span id="cb29-207"><a href="#cb29-207" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua      4 0.007244481</span></span>
<span id="cb29-208"><a href="#cb29-208" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua      8 0.007244481</span></span>
<span id="cb29-209"><a href="#cb29-209" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5   54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua      8 0.007244481</span></span>
<span id="cb29-210"><a href="#cb29-210" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6   54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua      8 0.007244481</span></span>
<span id="cb29-211"><a href="#cb29-211" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7   54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua      2 0.007244481</span></span>
<span id="cb29-212"><a href="#cb29-212" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8   54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua      2 0.007244481</span></span>
<span id="cb29-213"><a href="#cb29-213" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9   54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua      2 0.007244481</span></span>
<span id="cb29-214"><a href="#cb29-214" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10  54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua      2 0.007244481</span></span>
<span id="cb29-215"><a href="#cb29-215" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11  54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua      2 0.007244481</span></span>
<span id="cb29-216"><a href="#cb29-216" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12  54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua      4 0.007244481</span></span>
<span id="cb29-217"><a href="#cb29-217" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13  54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua      2 0.007244481</span></span>
<span id="cb29-218"><a href="#cb29-218" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14  54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua      2 0.007244481</span></span>
<span id="cb29-219"><a href="#cb29-219" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15  54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua      4 0.007244481</span></span>
<span id="cb29-220"><a href="#cb29-220" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16  54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua      2 0.007244481</span></span>
<span id="cb29-221"><a href="#cb29-221" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17  54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua      8 0.007244481</span></span>
<span id="cb29-222"><a href="#cb29-222" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18  54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua     10 0.007244481</span></span>
<span id="cb29-223"><a href="#cb29-223" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19  54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua      8 0.007244481</span></span>
<span id="cb29-224"><a href="#cb29-224" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20  54.6833        13 1993.1.2.GFR.38G3.1 Gadus morhua     14 0.007244481</span></span>
<span id="cb29-225"><a href="#cb29-225" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         b length_cm length_cm2  weight_kg CPUEun_kg RSA_sweep RS_sweep</span></span>
<span id="cb29-226"><a href="#cb29-226" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  3.1008        14         14 0.02593710 0.1037484      1.47     0.79</span></span>
<span id="cb29-227"><a href="#cb29-227" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  3.1008        16         16 0.03924125 0.1569650      1.47     0.79</span></span>
<span id="cb29-228"><a href="#cb29-228" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  3.1008        18         18 0.05654011 0.2261604      1.47     0.79</span></span>
<span id="cb29-229"><a href="#cb29-229" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4  3.1008        27         27 0.19878355 1.5902684      1.47     0.79</span></span>
<span id="cb29-230"><a href="#cb29-230" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  3.1008        28         28 0.22251296 1.7801037      1.47     0.79</span></span>
<span id="cb29-231"><a href="#cb29-231" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  3.1008        29         29 0.24809123 1.9847298      1.47     0.79</span></span>
<span id="cb29-232"><a href="#cb29-232" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7  3.1008        58         58 2.12836106 4.2567221      1.47     0.79</span></span>
<span id="cb29-233"><a href="#cb29-233" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8  3.1008        59         59 2.24422142 4.4884428      1.47     0.79</span></span>
<span id="cb29-234"><a href="#cb29-234" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9  3.1008        60         60 2.36428150 4.7285630      1.47     0.79</span></span>
<span id="cb29-235"><a href="#cb29-235" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 3.1008        65         65 3.03032727 6.0606545      1.47     0.79</span></span>
<span id="cb29-236"><a href="#cb29-236" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11 3.1008        37         37 0.52806530 1.0561306      1.47     0.79</span></span>
<span id="cb29-237"><a href="#cb29-237" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12 3.1008        44         44 0.90370317 3.6148127      1.47     0.79</span></span>
<span id="cb29-238"><a href="#cb29-238" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13 3.1008        48         48 1.18358809 2.3671762      1.47     0.79</span></span>
<span id="cb29-239"><a href="#cb29-239" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14 3.1008        49         49 1.26173388 2.5234678      1.47     0.79</span></span>
<span id="cb29-240"><a href="#cb29-240" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15 3.1008        50         50 1.34330290 5.3732116      1.47     0.79</span></span>
<span id="cb29-241"><a href="#cb29-241" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16 3.1008        53         53 1.60931992 3.2186398      1.47     0.79</span></span>
<span id="cb29-242"><a href="#cb29-242" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17 3.1008        30         30 0.27559116 2.2047293      1.47     0.79</span></span>
<span id="cb29-243"><a href="#cb29-243" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18 3.1008        31         31 0.30508583 3.0508583      1.47     0.79</span></span>
<span id="cb29-244"><a href="#cb29-244" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19 3.1008        32         32 0.33664856 2.6931885      1.47     0.79</span></span>
<span id="cb29-245"><a href="#cb29-245" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20 3.1008        33         33 0.37035289 5.1849404      1.47     0.79</span></span>
<span id="cb29-246"><a href="#cb29-246" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         RS_x Horizontal.opening..m. Swep.one.side..after.formula...meter</span></span>
<span id="cb29-247"><a href="#cb29-247" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  0.7894737                  24.12                                   NA</span></span>
<span id="cb29-248"><a href="#cb29-248" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  0.7894737                  24.12                                   NA</span></span>
<span id="cb29-249"><a href="#cb29-249" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  0.7894737                  24.12                                   NA</span></span>
<span id="cb29-250"><a href="#cb29-250" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4  0.7894737                  24.12                                   NA</span></span>
<span id="cb29-251"><a href="#cb29-251" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  0.7894737                  24.12                                   NA</span></span>
<span id="cb29-252"><a href="#cb29-252" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  0.7894737                  24.12                                   NA</span></span>
<span id="cb29-253"><a href="#cb29-253" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7  0.7894737                  24.12                                   NA</span></span>
<span id="cb29-254"><a href="#cb29-254" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8  0.7894737                  24.12                                   NA</span></span>
<span id="cb29-255"><a href="#cb29-255" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9  0.7894737                  24.12                                   NA</span></span>
<span id="cb29-256"><a href="#cb29-256" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 0.7894737                  24.12                                   NA</span></span>
<span id="cb29-257"><a href="#cb29-257" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11 0.7894737                  24.12                                   NA</span></span>
<span id="cb29-258"><a href="#cb29-258" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12 0.7894737                  24.12                                   NA</span></span>
<span id="cb29-259"><a href="#cb29-259" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13 0.7894737                  24.12                                   NA</span></span>
<span id="cb29-260"><a href="#cb29-260" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14 0.7894737                  24.12                                   NA</span></span>
<span id="cb29-261"><a href="#cb29-261" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15 0.7894737                  24.12                                   NA</span></span>
<span id="cb29-262"><a href="#cb29-262" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16 0.7894737                  24.12                                   NA</span></span>
<span id="cb29-263"><a href="#cb29-263" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17 0.7894737                  24.12                                   NA</span></span>
<span id="cb29-264"><a href="#cb29-264" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18 0.7894737                  24.12                                   NA</span></span>
<span id="cb29-265"><a href="#cb29-265" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19 0.7894737                  24.12                                   NA</span></span>
<span id="cb29-266"><a href="#cb29-266" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20 0.7894737                  24.12                                   NA</span></span>
<span id="cb29-267"><a href="#cb29-267" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Size.final..m Swept.area      RSA_x   RS  RSA  RSRSA CPUEst_kg  CPUEst</span></span>
<span id="cb29-268"><a href="#cb29-268" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1             NA         NA -0.3333333 0.79 1.47 1.1613 0.1204830  4.6452</span></span>
<span id="cb29-269"><a href="#cb29-269" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2             NA         NA -0.3333333 0.79 1.47 1.1613 0.1822835  4.6452</span></span>
<span id="cb29-270"><a href="#cb29-270" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3             NA         NA -0.3333333 0.79 1.47 1.1613 0.2626401  4.6452</span></span>
<span id="cb29-271"><a href="#cb29-271" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4             NA         NA -0.3333333 0.79 1.47 1.1613 1.8467787  9.2904</span></span>
<span id="cb29-272"><a href="#cb29-272" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5             NA         NA -0.3333333 0.79 1.47 1.1613 2.0672344  9.2904</span></span>
<span id="cb29-273"><a href="#cb29-273" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6             NA         NA -0.3333333 0.79 1.47 1.1613 2.3048667  9.2904</span></span>
<span id="cb29-274"><a href="#cb29-274" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7             NA         NA -0.3333333 0.79 1.47 1.1613 4.9433314  2.3226</span></span>
<span id="cb29-275"><a href="#cb29-275" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8             NA         NA -0.3333333 0.79 1.47 1.1613 5.2124287  2.3226</span></span>
<span id="cb29-276"><a href="#cb29-276" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9             NA         NA -0.3333333 0.79 1.47 1.1613 5.4912802  2.3226</span></span>
<span id="cb29-277"><a href="#cb29-277" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10            NA         NA -0.3333333 0.79 1.47 1.1613 7.0382381  2.3226</span></span>
<span id="cb29-278"><a href="#cb29-278" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11            NA         NA -0.3333333 0.79 1.47 1.1613 1.2264845  2.3226</span></span>
<span id="cb29-279"><a href="#cb29-279" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12            NA         NA -0.3333333 0.79 1.47 1.1613 4.1978820  4.6452</span></span>
<span id="cb29-280"><a href="#cb29-280" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13            NA         NA -0.3333333 0.79 1.47 1.1613 2.7490017  2.3226</span></span>
<span id="cb29-281"><a href="#cb29-281" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14            NA         NA -0.3333333 0.79 1.47 1.1613 2.9305031  2.3226</span></span>
<span id="cb29-282"><a href="#cb29-282" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15            NA         NA -0.3333333 0.79 1.47 1.1613 6.2399106  4.6452</span></span>
<span id="cb29-283"><a href="#cb29-283" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16            NA         NA -0.3333333 0.79 1.47 1.1613 3.7378065  2.3226</span></span>
<span id="cb29-284"><a href="#cb29-284" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17            NA         NA -0.3333333 0.79 1.47 1.1613 2.5603521  9.2904</span></span>
<span id="cb29-285"><a href="#cb29-285" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18            NA         NA -0.3333333 0.79 1.47 1.1613 3.5429618 11.6130</span></span>
<span id="cb29-286"><a href="#cb29-286" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19            NA         NA -0.3333333 0.79 1.47 1.1613 3.1275998  9.2904</span></span>
<span id="cb29-287"><a href="#cb29-287" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20            NA         NA -0.3333333 0.79 1.47 1.1613 6.0212713 16.2582</span></span>
<span id="cb29-288"><a href="#cb29-288" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      cpue_kg    cpue cpue_kg_un cpue_un    density density_ab no_catches</span></span>
<span id="cb29-289"><a href="#cb29-289" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  0.1204830  4.6452  0.1037484       4  0.2677400  10.322667          7</span></span>
<span id="cb29-290"><a href="#cb29-290" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  0.1822835  4.6452  0.1569650       4  0.4050744  10.322667          7</span></span>
<span id="cb29-291"><a href="#cb29-291" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  0.2626401  4.6452  0.2261604       4  0.5836447  10.322667          7</span></span>
<span id="cb29-292"><a href="#cb29-292" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4  1.8467787  9.2904  1.5902684       8  4.1039527  20.645333          7</span></span>
<span id="cb29-293"><a href="#cb29-293" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  2.0672344  9.2904  1.7801037       8  4.5938543  20.645333          7</span></span>
<span id="cb29-294"><a href="#cb29-294" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  2.3048667  9.2904  1.9847298       8  5.1219261  20.645333          7</span></span>
<span id="cb29-295"><a href="#cb29-295" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7  4.9433314  2.3226  4.2567221       2 10.9851809   5.161333          7</span></span>
<span id="cb29-296"><a href="#cb29-296" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8  5.2124287  2.3226  4.4884428       2 11.5831748   5.161333          7</span></span>
<span id="cb29-297"><a href="#cb29-297" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9  5.4912802  2.3226  4.7285630       2 12.2028449   5.161333          7</span></span>
<span id="cb29-298"><a href="#cb29-298" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 7.0382381  2.3226  6.0606545       2 15.6405291   5.161333          7</span></span>
<span id="cb29-299"><a href="#cb29-299" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11 1.2264845  2.3226  1.0561306       2  2.7255210   5.161333          7</span></span>
<span id="cb29-300"><a href="#cb29-300" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12 4.1978820  4.6452  3.6148127       4  9.3286266  10.322667          7</span></span>
<span id="cb29-301"><a href="#cb29-301" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13 2.7490017  2.3226  2.3671762       2  6.1088927   5.161333          7</span></span>
<span id="cb29-302"><a href="#cb29-302" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14 2.9305031  2.3226  2.5234678       2  6.5122292   5.161333          7</span></span>
<span id="cb29-303"><a href="#cb29-303" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15 6.2399106  4.6452  5.3732116       4 13.8664681  10.322667          7</span></span>
<span id="cb29-304"><a href="#cb29-304" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16 3.7378065  2.3226  3.2186398       2  8.3062366   5.161333          7</span></span>
<span id="cb29-305"><a href="#cb29-305" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17 2.5603521  9.2904  2.2047293       8  5.6896714  20.645333          7</span></span>
<span id="cb29-306"><a href="#cb29-306" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18 3.5429618 11.6130  3.0508583      10  7.8732484  25.806667          7</span></span>
<span id="cb29-307"><a href="#cb29-307" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19 3.1275998  9.2904  2.6931885       8  6.9502217  20.645333          7</span></span>
<span id="cb29-308"><a href="#cb29-308" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20 6.0212713 16.2582  5.1849404      14 13.3806030  36.129333          7</span></span>
<span id="cb29-309"><a href="#cb29-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-310"><a href="#cb29-310" aria-hidden="true" tabindex="-1"></a>hlcodhaul <span class="sc">|&gt;</span> </span>
<span id="cb29-311"><a href="#cb29-311" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(haul.id) <span class="sc">|&gt;</span> </span>
<span id="cb29-312"><a href="#cb29-312" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CPUEun <span class="sc">==</span> <span class="fu">min</span>(CPUEun)) <span class="sc">|&gt;</span> </span>
<span id="cb29-313"><a href="#cb29-313" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb29-314"><a href="#cb29-314" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(CPUEun)</span>
<span id="cb29-315"><a href="#cb29-315" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 1</span></span>
<span id="cb29-316"><a href="#cb29-316" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   CPUEun</span></span>
<span id="cb29-317"><a href="#cb29-317" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;dbl&gt;</span></span>
<span id="cb29-318"><a href="#cb29-318" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1      0</span></span>
<span id="cb29-319"><a href="#cb29-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-320"><a href="#cb29-320" aria-hidden="true" tabindex="-1"></a><span class="co"># The minimum CPUE in all hauls is always zero at this stage. It doesn't really matter because I calculate haul-level CPUE by grouping by ID's and summing. But let's remove them anyway</span></span>
<span id="cb29-321"><a href="#cb29-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-322"><a href="#cb29-322" aria-hidden="true" tabindex="-1"></a>hlcodhaul <span class="sc">|&gt;</span></span>
<span id="cb29-323"><a href="#cb29-323" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(haul.id) <span class="sc">|&gt;</span></span>
<span id="cb29-324"><a href="#cb29-324" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">cpue_haul =</span> <span class="fu">sum</span>(cpue)) <span class="sc">|&gt;</span> </span>
<span id="cb29-325"><a href="#cb29-325" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb29-326"><a href="#cb29-326" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>cpue_haul <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb29-327"><a href="#cb29-327" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 8,239 × 2</span></span>
<span id="cb29-328"><a href="#cb29-328" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    haul.id                  cpue_haul</span></span>
<span id="cb29-329"><a href="#cb29-329" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;                        &lt;dbl&gt;</span></span>
<span id="cb29-330"><a href="#cb29-330" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 1993:1:GFR:SOL:H20:21:1     128.  </span></span>
<span id="cb29-331"><a href="#cb29-331" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 1993:1:GFR:SOL:H20:22:32      4.88</span></span>
<span id="cb29-332"><a href="#cb29-332" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 1993:1:GFR:SOL:H20:23:31      6.62</span></span>
<span id="cb29-333"><a href="#cb29-333" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 1993:1:GFR:SOL:H20:24:30     11.6 </span></span>
<span id="cb29-334"><a href="#cb29-334" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 1993:1:GFR:SOL:H20:25:2    1220.  </span></span>
<span id="cb29-335"><a href="#cb29-335" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 1993:1:GFR:SOL:H20:26:3     478.  </span></span>
<span id="cb29-336"><a href="#cb29-336" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 1993:1:GFR:SOL:H20:27:27     31.7 </span></span>
<span id="cb29-337"><a href="#cb29-337" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 1993:1:GFR:SOL:H20:28:24   3548.  </span></span>
<span id="cb29-338"><a href="#cb29-338" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 1993:1:GFR:SOL:H20:29:29     22.0 </span></span>
<span id="cb29-339"><a href="#cb29-339" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 1993:1:GFR:SOL:H20:30:28      2.44</span></span>
<span id="cb29-340"><a href="#cb29-340" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 8,229 more rows</span></span>
<span id="cb29-341"><a href="#cb29-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-342"><a href="#cb29-342" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename columns and select specific columns from the cod data</span></span>
<span id="cb29-343"><a href="#cb29-343" aria-hidden="true" tabindex="-1"></a>datcod <span class="ot">&lt;-</span> hlcodhaul <span class="sc">|&gt;</span></span>
<span id="cb29-344"><a href="#cb29-344" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(density, Year, ShootLat, ShootLong, Quarter, Country, Month, haul.id, IDx, Rect, sub_div, length_cm2, id_haul_stomach) <span class="sc">|&gt;</span> </span>
<span id="cb29-345"><a href="#cb29-345" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">year =</span> Year,</span>
<span id="cb29-346"><a href="#cb29-346" aria-hidden="true" tabindex="-1"></a>         <span class="at">month =</span> Month,</span>
<span id="cb29-347"><a href="#cb29-347" aria-hidden="true" tabindex="-1"></a>         <span class="at">lat =</span> ShootLat,</span>
<span id="cb29-348"><a href="#cb29-348" aria-hidden="true" tabindex="-1"></a>         <span class="at">lon =</span> ShootLong,</span>
<span id="cb29-349"><a href="#cb29-349" aria-hidden="true" tabindex="-1"></a>         <span class="at">quarter =</span> Quarter,</span>
<span id="cb29-350"><a href="#cb29-350" aria-hidden="true" tabindex="-1"></a>         <span class="at">ices_rect =</span> Rect,</span>
<span id="cb29-351"><a href="#cb29-351" aria-hidden="true" tabindex="-1"></a>         <span class="at">length_cm =</span> length_cm2) <span class="sc">|&gt;</span> </span>
<span id="cb29-352"><a href="#cb29-352" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">species =</span> <span class="st">"cod"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Because it's size-based cpue, I want the data frame to be "full", so that each haul has every size, even if all are empty. Now I only have lengths with catches, and no lengths if catch is zero.</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>datcod <span class="sc">|&gt;</span> <span class="fu">group_by</span>(haul.id) <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">n_size =</span> <span class="fu">length</span>(<span class="fu">unique</span>(length_cm))) <span class="sc">|&gt;</span> <span class="fu">distinct</span>(n_size, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; group_by: one grouping variable (haul.id)</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; summarise: now 9,373 rows and 2 columns, ungrouped</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; distinct: removed 9,304 rows (99%), 69 rows remaining</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 69 × 2</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    haul.id                  n_size</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;                     &lt;int&gt;</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 1993:1:GFR:SOL:H20:21:1      23</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 1993:1:GFR:SOL:H20:22:32      3</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 1993:1:GFR:SOL:H20:23:31      4</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 1993:1:GFR:SOL:H20:24:30      6</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 1993:1:GFR:SOL:H20:26:3      31</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 1993:1:GFR:SOL:H20:27:27     10</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 1993:1:GFR:SOL:H20:28:24     36</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 1993:1:GFR:SOL:H20:29:29      7</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 1993:1:GFR:SOL:H20:30:28      2</span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 1993:1:GFR:SOL:H20:31:25     29</span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 59 more rows</span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>datcod <span class="sc">|&gt;</span> <span class="fu">filter</span>(haul.id <span class="sc">==</span> <span class="st">"1993:1:GFR:SOL:H20:23:31"</span>) <span class="sc">|&gt;</span> <span class="fu">as.data.frame</span>()</span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; filter: removed 219,786 rows (&gt;99%), 4 rows remaining</span></span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       density year     lat   lon quarter Country month                  haul.id</span></span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 0.009185334 1993 54.5167 14.15       1     GFR     2 1993:1:GFR:SOL:H20:23:31</span></span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 2.177960458 1993 54.5167 14.15       1     GFR     2 1993:1:GFR:SOL:H20:23:31</span></span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 3.046329990 1993 54.5167 14.15       1     GFR     2 1993:1:GFR:SOL:H20:23:31</span></span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 0.000000000 1993 54.5167 14.15       1     GFR     2 1993:1:GFR:SOL:H20:23:31</span></span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                         IDx ices_rect sub_div length_cm      id_haul_stomach</span></span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 1993.1.GFR.06S1.H20.23.31      38G4      24         6 1993.1.2.GFR.38G4.31</span></span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 1993.1.GFR.06S1.H20.23.31      38G4      24        35 1993.1.2.GFR.38G4.31</span></span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 1993.1.GFR.06S1.H20.23.31      38G4      24        39 1993.1.2.GFR.38G4.31</span></span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 1993.1.GFR.06S1.H20.23.31      38G4      24         0                 &lt;NA&gt;</span></span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   species</span></span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1     cod</span></span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2     cod</span></span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3     cod</span></span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4     cod</span></span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a>datcod <span class="sc">|&gt;</span> <span class="fu">group_by</span>(haul.id) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">tot_dens =</span> <span class="fu">sum</span>(density)) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> <span class="fu">distinct</span>(haul.id, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(tot_dens <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; group_by: one grouping variable (haul.id)</span></span>
<span id="cb30-39"><a href="#cb30-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mutate (grouped): new variable 'tot_dens' (double) with 8,230 unique values and 0% NA</span></span>
<span id="cb30-40"><a href="#cb30-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ungroup: no grouping variables</span></span>
<span id="cb30-41"><a href="#cb30-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; distinct: removed 210,417 rows (96%), 9,373 rows remaining</span></span>
<span id="cb30-42"><a href="#cb30-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; filter: removed 8,239 rows (88%), 1,134 rows remaining</span></span>
<span id="cb30-43"><a href="#cb30-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1,134 × 15</span></span>
<span id="cb30-44"><a href="#cb30-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    density  year   lat   lon quarter Country month haul.id       IDx   ices_rect</span></span>
<span id="cb30-45"><a href="#cb30-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;int&gt; &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;    </span></span>
<span id="cb30-46"><a href="#cb30-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1       0  1993  55    17.5       1 GFR         2 1993:1:GFR:S… 1993… 39G7     </span></span>
<span id="cb30-47"><a href="#cb30-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2       0  1993  57.9  19.4       1 SWE         3 1993:1:SWE:A… 1993… 44G9     </span></span>
<span id="cb30-48"><a href="#cb30-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3       0  1993  57.1  17.9       3 SWE         8 1993:3:SWE:A… 1993… 43G7     </span></span>
<span id="cb30-49"><a href="#cb30-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4       0  1993  57.1  18.9       3 SWE         8 1993:3:SWE:A… 1993… 43G8     </span></span>
<span id="cb30-50"><a href="#cb30-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5       0  1993  57.1  18.8       3 SWE         8 1993:3:SWE:A… 1993… 43G8     </span></span>
<span id="cb30-51"><a href="#cb30-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6       0  1993  57.2  18.9       3 SWE         8 1993:3:SWE:A… 1993… 43G8     </span></span>
<span id="cb30-52"><a href="#cb30-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7       0  1993  57.3  17.9       3 SWE         8 1993:3:SWE:A… 1993… 43G7     </span></span>
<span id="cb30-53"><a href="#cb30-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8       0  1993  57.4  16.9       3 SWE         8 1993:3:SWE:A… 1993… 43G6     </span></span>
<span id="cb30-54"><a href="#cb30-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9       0  1993  57.4  19.2       3 SWE         8 1993:3:SWE:A… 1993… 43G9     </span></span>
<span id="cb30-55"><a href="#cb30-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10       0  1993  57.5  17.1       3 SWE         8 1993:3:SWE:A… 1993… 43G7     </span></span>
<span id="cb30-56"><a href="#cb30-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 1,124 more rows</span></span>
<span id="cb30-57"><a href="#cb30-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 5 more variables: sub_div &lt;chr&gt;, length_cm &lt;dbl&gt;, id_haul_stomach &lt;chr&gt;,</span></span>
<span id="cb30-58"><a href="#cb30-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   species &lt;chr&gt;, tot_dens &lt;dbl&gt;</span></span>
<span id="cb30-59"><a href="#cb30-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-60"><a href="#cb30-60" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame with all combinations of trawl IDs and lengths</span></span>
<span id="cb30-61"><a href="#cb30-61" aria-hidden="true" tabindex="-1"></a>ex_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">expand.grid</span>(</span>
<span id="cb30-62"><a href="#cb30-62" aria-hidden="true" tabindex="-1"></a>  <span class="at">length_cm =</span> <span class="fu">seq_range</span>(datcod<span class="sc">$</span>length_cm, <span class="at">by =</span> <span class="dv">1</span>),</span>
<span id="cb30-63"><a href="#cb30-63" aria-hidden="true" tabindex="-1"></a>  <span class="at">haul.id =</span> <span class="fu">unique</span>(datcod<span class="sc">$</span>haul.id))</span>
<span id="cb30-64"><a href="#cb30-64" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb30-65"><a href="#cb30-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-66"><a href="#cb30-66" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an ID that is haul + length</span></span>
<span id="cb30-67"><a href="#cb30-67" aria-hidden="true" tabindex="-1"></a>ex_df<span class="sc">$</span>haul.id.size <span class="ot">&lt;-</span> <span class="fu">paste</span>(ex_df<span class="sc">$</span>haul.id, ex_df<span class="sc">$</span>length_cm, <span class="at">sep =</span> <span class="st">"."</span>)</span>
<span id="cb30-68"><a href="#cb30-68" aria-hidden="true" tabindex="-1"></a>datcod<span class="sc">$</span>haul.id.size <span class="ot">&lt;-</span> <span class="fu">paste</span>(datcod<span class="sc">$</span>haul.id, datcod<span class="sc">$</span>length_cm, <span class="at">sep =</span> <span class="st">"."</span>)</span>
<span id="cb30-69"><a href="#cb30-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-70"><a href="#cb30-70" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove IDs that are already in datcod</span></span>
<span id="cb30-71"><a href="#cb30-71" aria-hidden="true" tabindex="-1"></a>ex_df <span class="ot">&lt;-</span> ex_df <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span>haul.id.size <span class="sc">%in%</span> <span class="fu">unique</span>(datcod<span class="sc">$</span>haul.id.size)) </span>
<span id="cb30-72"><a href="#cb30-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; filter: removed 219,790 rows (18%), 979,954 rows remaining</span></span>
<span id="cb30-73"><a href="#cb30-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-74"><a href="#cb30-74" aria-hidden="true" tabindex="-1"></a><span class="co"># Add in the other columns besides density and length</span></span>
<span id="cb30-75"><a href="#cb30-75" aria-hidden="true" tabindex="-1"></a>dat_for_join <span class="ot">&lt;-</span> datcod <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>density, <span class="sc">-</span>length_cm, <span class="sc">-</span>haul.id.size) <span class="sc">|&gt;</span> <span class="fu">distinct</span>(haul.id, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-76"><a href="#cb30-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; distinct: removed 210,417 rows (96%), 9,373 rows remaining</span></span>
<span id="cb30-77"><a href="#cb30-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-78"><a href="#cb30-78" aria-hidden="true" tabindex="-1"></a>ex_df <span class="ot">&lt;-</span> <span class="fu">left_join</span>(ex_df, dat_for_join, <span class="at">by =</span> <span class="st">"haul.id"</span>)</span>
<span id="cb30-79"><a href="#cb30-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; left_join: added 11 columns (year, lat, lon, quarter, Country, …)</span></span>
<span id="cb30-80"><a href="#cb30-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt; rows only in x         0</span></span>
<span id="cb30-81"><a href="#cb30-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt; rows only in y  (      0)</span></span>
<span id="cb30-82"><a href="#cb30-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt; matched rows     979,954</span></span>
<span id="cb30-83"><a href="#cb30-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt;                 =========</span></span>
<span id="cb30-84"><a href="#cb30-84" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt; rows total       979,954</span></span>
<span id="cb30-85"><a href="#cb30-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-86"><a href="#cb30-86" aria-hidden="true" tabindex="-1"></a>datcod <span class="sc">|&gt;</span> <span class="fu">filter</span>(haul.id.size <span class="sc">%in%</span> ex_df<span class="sc">$</span>haul.id.size)</span>
<span id="cb30-87"><a href="#cb30-87" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; filter: removed all rows (100%)</span></span>
<span id="cb30-88"><a href="#cb30-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 0 × 15</span></span>
<span id="cb30-89"><a href="#cb30-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 15 variables: density &lt;dbl&gt;, year &lt;int&gt;, lat &lt;dbl&gt;, lon &lt;dbl&gt;,</span></span>
<span id="cb30-90"><a href="#cb30-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   quarter &lt;int&gt;, Country &lt;chr&gt;, month &lt;int&gt;, haul.id &lt;chr&gt;, IDx &lt;chr&gt;,</span></span>
<span id="cb30-91"><a href="#cb30-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   ices_rect &lt;chr&gt;, sub_div &lt;chr&gt;, length_cm &lt;dbl&gt;, id_haul_stomach &lt;chr&gt;,</span></span>
<span id="cb30-92"><a href="#cb30-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   species &lt;chr&gt;, haul.id.size &lt;chr&gt;</span></span>
<span id="cb30-93"><a href="#cb30-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-94"><a href="#cb30-94" aria-hidden="true" tabindex="-1"></a><span class="co"># Bind_rows these data with datcod</span></span>
<span id="cb30-95"><a href="#cb30-95" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(datcod) <span class="sc">+</span> <span class="fu">nrow</span>(ex_df)</span>
<span id="cb30-96"><a href="#cb30-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1199744</span></span>
<span id="cb30-97"><a href="#cb30-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-98"><a href="#cb30-98" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(<span class="fu">is.na</span>(datcod<span class="sc">$</span>density))</span>
<span id="cb30-99"><a href="#cb30-99" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb30-100"><a href="#cb30-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-101"><a href="#cb30-101" aria-hidden="true" tabindex="-1"></a>datcod <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(datcod, ex_df) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(haul.id, length_cm)</span>
<span id="cb30-102"><a href="#cb30-102" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(datcod)</span>
<span id="cb30-103"><a href="#cb30-103" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1199744</span></span>
<span id="cb30-104"><a href="#cb30-104" aria-hidden="true" tabindex="-1"></a>datcod</span>
<span id="cb30-105"><a href="#cb30-105" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1,199,744 × 15</span></span>
<span id="cb30-106"><a href="#cb30-106" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    density  year   lat   lon quarter Country month haul.id       IDx   ices_rect</span></span>
<span id="cb30-107"><a href="#cb30-107" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;int&gt; &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;    </span></span>
<span id="cb30-108"><a href="#cb30-108" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1       0  1993  54.7    13       1 GFR         2 1993:1:GFR:S… 1993… 38G3     </span></span>
<span id="cb30-109"><a href="#cb30-109" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2      NA  1993  54.7    13       1 GFR         2 1993:1:GFR:S… 1993… 38G3     </span></span>
<span id="cb30-110"><a href="#cb30-110" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3      NA  1993  54.7    13       1 GFR         2 1993:1:GFR:S… 1993… 38G3     </span></span>
<span id="cb30-111"><a href="#cb30-111" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4      NA  1993  54.7    13       1 GFR         2 1993:1:GFR:S… 1993… 38G3     </span></span>
<span id="cb30-112"><a href="#cb30-112" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5      NA  1993  54.7    13       1 GFR         2 1993:1:GFR:S… 1993… 38G3     </span></span>
<span id="cb30-113"><a href="#cb30-113" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6      NA  1993  54.7    13       1 GFR         2 1993:1:GFR:S… 1993… 38G3     </span></span>
<span id="cb30-114"><a href="#cb30-114" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7      NA  1993  54.7    13       1 GFR         2 1993:1:GFR:S… 1993… 38G3     </span></span>
<span id="cb30-115"><a href="#cb30-115" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8      NA  1993  54.7    13       1 GFR         2 1993:1:GFR:S… 1993… 38G3     </span></span>
<span id="cb30-116"><a href="#cb30-116" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9      NA  1993  54.7    13       1 GFR         2 1993:1:GFR:S… 1993… 38G3     </span></span>
<span id="cb30-117"><a href="#cb30-117" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10      NA  1993  54.7    13       1 GFR         2 1993:1:GFR:S… 1993… 38G3     </span></span>
<span id="cb30-118"><a href="#cb30-118" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 1,199,734 more rows</span></span>
<span id="cb30-119"><a href="#cb30-119" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 5 more variables: sub_div &lt;chr&gt;, length_cm &lt;dbl&gt;, id_haul_stomach &lt;chr&gt;,</span></span>
<span id="cb30-120"><a href="#cb30-120" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   species &lt;chr&gt;, haul.id.size &lt;chr&gt;</span></span>
<span id="cb30-121"><a href="#cb30-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-122"><a href="#cb30-122" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace NA density with 0 density because that's the added length-classes not previously in the catch data</span></span>
<span id="cb30-123"><a href="#cb30-123" aria-hidden="true" tabindex="-1"></a>datcod <span class="ot">&lt;-</span> datcod <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">density =</span> <span class="fu">replace_na</span>(density, <span class="dv">0</span>))</span>
<span id="cb30-124"><a href="#cb30-124" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mutate: changed 979,954 values (82%) of 'density' (979954 fewer NA)</span></span>
<span id="cb30-125"><a href="#cb30-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-126"><a href="#cb30-126" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the proportion zeroes are still correct:</span></span>
<span id="cb30-127"><a href="#cb30-127" aria-hidden="true" tabindex="-1"></a>t <span class="ot">&lt;-</span> datcod <span class="sc">|&gt;</span></span>
<span id="cb30-128"><a href="#cb30-128" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(haul.id) <span class="sc">|&gt;</span></span>
<span id="cb30-129"><a href="#cb30-129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">haul_density =</span> <span class="fu">sum</span>(density)) <span class="sc">|&gt;</span> </span>
<span id="cb30-130"><a href="#cb30-130" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb30-131"><a href="#cb30-131" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; group_by: one grouping variable (haul.id)</span></span>
<span id="cb30-132"><a href="#cb30-132" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; summarise: now 9,373 rows and 2 columns, ungrouped</span></span>
<span id="cb30-133"><a href="#cb30-133" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ungroup: no grouping variables</span></span>
<span id="cb30-134"><a href="#cb30-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-135"><a href="#cb30-135" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(datcod)</span>
<span id="cb30-136"><a href="#cb30-136" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1199744</span></span>
<span id="cb30-137"><a href="#cb30-137" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(datcod<span class="sc">$</span>haul.id))</span>
<span id="cb30-138"><a href="#cb30-138" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 9373</span></span>
<span id="cb30-139"><a href="#cb30-139" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(t)</span>
<span id="cb30-140"><a href="#cb30-140" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 9373</span></span>
<span id="cb30-141"><a href="#cb30-141" aria-hidden="true" tabindex="-1"></a>t <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span>haul_density <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb30-142"><a href="#cb30-142" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; filter: removed 1,134 rows (12%), 8,239 rows remaining</span></span>
<span id="cb30-143"><a href="#cb30-143" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 8,239 × 2</span></span>
<span id="cb30-144"><a href="#cb30-144" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    haul.id                  haul_density</span></span>
<span id="cb30-145"><a href="#cb30-145" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;                           &lt;dbl&gt;</span></span>
<span id="cb30-146"><a href="#cb30-146" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 1993:1:GFR:SOL:H20:21:1        157.  </span></span>
<span id="cb30-147"><a href="#cb30-147" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 1993:1:GFR:SOL:H20:22:32        10.3 </span></span>
<span id="cb30-148"><a href="#cb30-148" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 1993:1:GFR:SOL:H20:23:31         5.23</span></span>
<span id="cb30-149"><a href="#cb30-149" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 1993:1:GFR:SOL:H20:24:30        19.4 </span></span>
<span id="cb30-150"><a href="#cb30-150" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 1993:1:GFR:SOL:H20:25:2        810.  </span></span>
<span id="cb30-151"><a href="#cb30-151" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 1993:1:GFR:SOL:H20:26:3        363.  </span></span>
<span id="cb30-152"><a href="#cb30-152" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 1993:1:GFR:SOL:H20:27:27        23.2 </span></span>
<span id="cb30-153"><a href="#cb30-153" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 1993:1:GFR:SOL:H20:28:24      2302.  </span></span>
<span id="cb30-154"><a href="#cb30-154" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 1993:1:GFR:SOL:H20:29:29        30.7 </span></span>
<span id="cb30-155"><a href="#cb30-155" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 1993:1:GFR:SOL:H20:30:28         6.84</span></span>
<span id="cb30-156"><a href="#cb30-156" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 8,229 more rows</span></span>
<span id="cb30-157"><a href="#cb30-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-158"><a href="#cb30-158" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename</span></span>
<span id="cb30-159"><a href="#cb30-159" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> datcod</span>
<span id="cb30-160"><a href="#cb30-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-161"><a href="#cb30-161" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(dat)</span>
<span id="cb30-162"><a href="#cb30-162" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Rows: 1,199,744</span></span>
<span id="cb30-163"><a href="#cb30-163" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Columns: 15</span></span>
<span id="cb30-164"><a href="#cb30-164" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ density         &lt;dbl&gt; 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000,…</span></span>
<span id="cb30-165"><a href="#cb30-165" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ year            &lt;int&gt; 1993, 1993, 1993, 1993, 1993, 1993, 1993, 1993, 1993, …</span></span>
<span id="cb30-166"><a href="#cb30-166" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ lat             &lt;dbl&gt; 54.6833, 54.6833, 54.6833, 54.6833, 54.6833, 54.6833, …</span></span>
<span id="cb30-167"><a href="#cb30-167" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ lon             &lt;dbl&gt; 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13…</span></span>
<span id="cb30-168"><a href="#cb30-168" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ quarter         &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span></span>
<span id="cb30-169"><a href="#cb30-169" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ Country         &lt;chr&gt; "GFR", "GFR", "GFR", "GFR", "GFR", "GFR", "GFR", "GFR"…</span></span>
<span id="cb30-170"><a href="#cb30-170" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ month           &lt;int&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span></span>
<span id="cb30-171"><a href="#cb30-171" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ haul.id         &lt;chr&gt; "1993:1:GFR:SOL:H20:21:1", "1993:1:GFR:SOL:H20:21:1", …</span></span>
<span id="cb30-172"><a href="#cb30-172" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ IDx             &lt;chr&gt; "1993.1.GFR.06S1.H20.21.1", "1993.1.GFR.06S1.H20.21.1"…</span></span>
<span id="cb30-173"><a href="#cb30-173" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ ices_rect       &lt;chr&gt; "38G3", "38G3", "38G3", "38G3", "38G3", "38G3", "38G3"…</span></span>
<span id="cb30-174"><a href="#cb30-174" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ sub_div         &lt;chr&gt; "24", "24", "24", "24", "24", "24", "24", "24", "24", …</span></span>
<span id="cb30-175"><a href="#cb30-175" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ length_cm       &lt;dbl&gt; 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, …</span></span>
<span id="cb30-176"><a href="#cb30-176" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ id_haul_stomach &lt;chr&gt; NA, "1993.1.2.GFR.38G3.1", "1993.1.2.GFR.38G3.1", "199…</span></span>
<span id="cb30-177"><a href="#cb30-177" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ species         &lt;chr&gt; "cod", "cod", "cod", "cod", "cod", "cod", "cod", "cod"…</span></span>
<span id="cb30-178"><a href="#cb30-178" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ haul.id.size    &lt;chr&gt; "1993:1:GFR:SOL:H20:21:1.0", "1993:1:GFR:SOL:H20:21:1.…</span></span>
<span id="cb30-179"><a href="#cb30-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-180"><a href="#cb30-180" aria-hidden="true" tabindex="-1"></a><span class="co"># Check proportion zeroes</span></span>
<span id="cb30-181"><a href="#cb30-181" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">|&gt;</span> </span>
<span id="cb30-182"><a href="#cb30-182" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(haul.id) <span class="sc">|&gt;</span> </span>
<span id="cb30-183"><a href="#cb30-183" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">haul_dens =</span> <span class="fu">sum</span>(density)) <span class="sc">|&gt;</span> </span>
<span id="cb30-184"><a href="#cb30-184" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb30-185"><a href="#cb30-185" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>haul_dens <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb30-186"><a href="#cb30-186" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; group_by: one grouping variable (haul.id)</span></span>
<span id="cb30-187"><a href="#cb30-187" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; summarise: now 9,373 rows and 2 columns, ungrouped</span></span>
<span id="cb30-188"><a href="#cb30-188" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ungroup: no grouping variables</span></span>
<span id="cb30-189"><a href="#cb30-189" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; filter: removed 1,134 rows (12%), 8,239 rows remaining</span></span>
<span id="cb30-190"><a href="#cb30-190" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 8,239 × 2</span></span>
<span id="cb30-191"><a href="#cb30-191" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    haul.id                  haul_dens</span></span>
<span id="cb30-192"><a href="#cb30-192" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;                        &lt;dbl&gt;</span></span>
<span id="cb30-193"><a href="#cb30-193" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 1993:1:GFR:SOL:H20:21:1     157.  </span></span>
<span id="cb30-194"><a href="#cb30-194" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 1993:1:GFR:SOL:H20:22:32     10.3 </span></span>
<span id="cb30-195"><a href="#cb30-195" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 1993:1:GFR:SOL:H20:23:31      5.23</span></span>
<span id="cb30-196"><a href="#cb30-196" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 1993:1:GFR:SOL:H20:24:30     19.4 </span></span>
<span id="cb30-197"><a href="#cb30-197" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 1993:1:GFR:SOL:H20:25:2     810.  </span></span>
<span id="cb30-198"><a href="#cb30-198" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 1993:1:GFR:SOL:H20:26:3     363.  </span></span>
<span id="cb30-199"><a href="#cb30-199" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 1993:1:GFR:SOL:H20:27:27     23.2 </span></span>
<span id="cb30-200"><a href="#cb30-200" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 1993:1:GFR:SOL:H20:28:24   2302.  </span></span>
<span id="cb30-201"><a href="#cb30-201" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 1993:1:GFR:SOL:H20:29:29     30.7 </span></span>
<span id="cb30-202"><a href="#cb30-202" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 1993:1:GFR:SOL:H20:30:28      6.84</span></span>
<span id="cb30-203"><a href="#cb30-203" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 8,229 more rows</span></span>
<span id="cb30-204"><a href="#cb30-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-205"><a href="#cb30-205" aria-hidden="true" tabindex="-1"></a>codq4 <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> </span>
<span id="cb30-206"><a href="#cb30-206" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"cod"</span> <span class="sc">&amp;</span> quarter <span class="sc">==</span> <span class="dv">4</span>) <span class="sc">|&gt;</span> </span>
<span id="cb30-207"><a href="#cb30-207" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(haul.id) <span class="sc">|&gt;</span> </span>
<span id="cb30-208"><a href="#cb30-208" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">haul_dens =</span> <span class="fu">sum</span>(density)) <span class="sc">|&gt;</span> </span>
<span id="cb30-209"><a href="#cb30-209" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(haul.id, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb30-210"><a href="#cb30-210" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">zero_catch =</span> <span class="fu">ifelse</span>(haul_dens <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"Y"</span>, <span class="st">"N"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb30-211"><a href="#cb30-211" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, zero_catch) <span class="sc">|&gt;</span> </span>
<span id="cb30-212"><a href="#cb30-212" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb30-213"><a href="#cb30-213" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb30-214"><a href="#cb30-214" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> zero_catch, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb30-215"><a href="#cb30-215" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop_z =</span> Y <span class="sc">/</span> (N<span class="sc">+</span>Y), </span>
<span id="cb30-216"><a href="#cb30-216" aria-hidden="true" tabindex="-1"></a>         <span class="at">q =</span> <span class="dv">4</span>,</span>
<span id="cb30-217"><a href="#cb30-217" aria-hidden="true" tabindex="-1"></a>         <span class="at">species =</span> <span class="st">"cod"</span>)  </span>
<span id="cb30-218"><a href="#cb30-218" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; filter: removed 730,496 rows (61%), 469,248 rows remaining</span></span>
<span id="cb30-219"><a href="#cb30-219" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; group_by: one grouping variable (haul.id)</span></span>
<span id="cb30-220"><a href="#cb30-220" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mutate (grouped): new variable 'haul_dens' (double) with 3,261 unique values and 0% NA</span></span>
<span id="cb30-221"><a href="#cb30-221" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; distinct (grouped): removed 465,582 rows (99%), 3,666 rows remaining</span></span>
<span id="cb30-222"><a href="#cb30-222" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mutate (grouped): new variable 'zero_catch' (character) with 2 unique values and 0% NA</span></span>
<span id="cb30-223"><a href="#cb30-223" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; group_by: 2 grouping variables (year, zero_catch)</span></span>
<span id="cb30-224"><a href="#cb30-224" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; summarise: now 56 rows and 3 columns, one group variable remaining (year)</span></span>
<span id="cb30-225"><a href="#cb30-225" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ungroup: no grouping variables</span></span>
<span id="cb30-226"><a href="#cb30-226" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; pivot_wider: reorganized (zero_catch, n) into (N, Y) [was 56x3, now 28x3]</span></span>
<span id="cb30-227"><a href="#cb30-227" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mutate: new variable 'prop_z' (double) with 27 unique values and 0% NA</span></span>
<span id="cb30-228"><a href="#cb30-228" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         new variable 'q' (double) with one unique value and 0% NA</span></span>
<span id="cb30-229"><a href="#cb30-229" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         new variable 'species' (character) with one unique value and 0% NA</span></span>
<span id="cb30-230"><a href="#cb30-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-231"><a href="#cb30-231" aria-hidden="true" tabindex="-1"></a>codq1 <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> </span>
<span id="cb30-232"><a href="#cb30-232" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"cod"</span> <span class="sc">&amp;</span> quarter <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb30-233"><a href="#cb30-233" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(haul.id) <span class="sc">|&gt;</span> </span>
<span id="cb30-234"><a href="#cb30-234" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">haul_dens =</span> <span class="fu">sum</span>(density)) <span class="sc">|&gt;</span> </span>
<span id="cb30-235"><a href="#cb30-235" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(haul.id, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb30-236"><a href="#cb30-236" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">zero_catch =</span> <span class="fu">ifelse</span>(haul_dens <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"Y"</span>, <span class="st">"N"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb30-237"><a href="#cb30-237" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, zero_catch) <span class="sc">|&gt;</span> </span>
<span id="cb30-238"><a href="#cb30-238" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb30-239"><a href="#cb30-239" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb30-240"><a href="#cb30-240" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> zero_catch, <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb30-241"><a href="#cb30-241" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop_z =</span> Y <span class="sc">/</span> (N<span class="sc">+</span>Y), </span>
<span id="cb30-242"><a href="#cb30-242" aria-hidden="true" tabindex="-1"></a>         <span class="at">q =</span> <span class="dv">1</span>,</span>
<span id="cb30-243"><a href="#cb30-243" aria-hidden="true" tabindex="-1"></a>         <span class="at">species =</span> <span class="st">"cod"</span>)  </span>
<span id="cb30-244"><a href="#cb30-244" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; filter: removed 483,584 rows (40%), 716,160 rows remaining</span></span>
<span id="cb30-245"><a href="#cb30-245" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; group_by: one grouping variable (haul.id)</span></span>
<span id="cb30-246"><a href="#cb30-246" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mutate (grouped): new variable 'haul_dens' (double) with 4,970 unique values and 0% NA</span></span>
<span id="cb30-247"><a href="#cb30-247" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; distinct (grouped): removed 710,565 rows (99%), 5,595 rows remaining</span></span>
<span id="cb30-248"><a href="#cb30-248" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mutate (grouped): new variable 'zero_catch' (character) with 2 unique values and 0% NA</span></span>
<span id="cb30-249"><a href="#cb30-249" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; group_by: 2 grouping variables (year, zero_catch)</span></span>
<span id="cb30-250"><a href="#cb30-250" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; summarise: now 56 rows and 3 columns, one group variable remaining (year)</span></span>
<span id="cb30-251"><a href="#cb30-251" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ungroup: no grouping variables</span></span>
<span id="cb30-252"><a href="#cb30-252" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; pivot_wider: reorganized (zero_catch, n) into (N, Y) [was 56x3, now 28x3]</span></span>
<span id="cb30-253"><a href="#cb30-253" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mutate: new variable 'prop_z' (double) with 28 unique values and 0% NA</span></span>
<span id="cb30-254"><a href="#cb30-254" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         new variable 'q' (double) with one unique value and 0% NA</span></span>
<span id="cb30-255"><a href="#cb30-255" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         new variable 'species' (character) with one unique value and 0% NA</span></span>
<span id="cb30-256"><a href="#cb30-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-257"><a href="#cb30-257" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">bind_rows</span>(codq1, codq4), <span class="fu">aes</span>(year, prop_z<span class="sc">*</span><span class="dv">100</span>, <span class="at">color =</span> <span class="fu">factor</span>(q))) <span class="sc">+</span></span>
<span id="cb30-258"><a href="#cb30-258" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb30-259"><a href="#cb30-259" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> species, <span class="at">ncol =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/very%20long%20data%20with%20all%20combinations%20of%20size%20and%20haul%20id-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="add-in-the-environmental-variables" class="level2">
<h2 class="anchored" data-anchor-id="add-in-the-environmental-variables">Add in the environmental variables</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Only need 1 row per haul</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> dat <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month_year =</span> <span class="fu">paste</span>(month, year, <span class="at">sep =</span> <span class="st">"_"</span>))</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mutate: new variable 'month_year' (character) with 130 unique values and 0% NA</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>dat_haul <span class="ot">&lt;-</span> dat <span class="sc">%&gt;%</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(haul.id, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(lat, lon, year, month, quarter, month_year)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; distinct: removed 1,190,371 rows (99%), 9,373 rows remaining</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="oxygen" class="level4">
<h4 class="anchored" data-anchor-id="oxygen">Oxygen</h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Downloaded from here: https://resources.marine.copernicus.eu/?option=com_csw&amp;view=details&amp;product_id=BALTICSEA_REANALYSIS_BIO_003_012</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract raster points: https://gisday.wordpress.com/2014/03/24/extract-raster-values-from-points-using-r/comment-page-1/</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="co"># https://rpubs.com/boyerag/297592</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># https://pjbartlein.github.io/REarthSysSci/netCDF.html#get-a-variable</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Open the netCDF file</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>ncin <span class="ot">&lt;-</span> <span class="fu">nc_open</span>(<span class="st">"data/NEMO_Nordic_SCOBI/dataset-reanalysis-scobi-monthlymeans_1664182224542.nc"</span>)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(ncin)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; File data/NEMO_Nordic_SCOBI/dataset-reanalysis-scobi-monthlymeans_1664182224542.nc (NC_FORMAT_CLASSIC):</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      1 variables (excluding dimension variables):</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         float o2b[longitude,latitude,time]   </span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             long_name: Sea_floor_Dissolved_Oxygen_Concentration</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             missing_value: NaN</span></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             standard_name: mole_concentration_of_dissolved_molecular_oxygen_in_sea_water</span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             units: mmol m-3</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             _FillValue: NaN</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             _ChunkSizes: 1</span></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              _ChunkSizes: 523</span></span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              _ChunkSizes: 383</span></span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      3 dimensions:</span></span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         time  Size:336 </span></span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             axis: T</span></span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             long_name: Validity time</span></span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             standard_name: time</span></span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             units: days since 1950-01-01 00:00:00</span></span>
<span id="cb32-28"><a href="#cb32-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             calendar: gregorian</span></span>
<span id="cb32-29"><a href="#cb32-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             _ChunkSizes: 512</span></span>
<span id="cb32-30"><a href="#cb32-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             _CoordinateAxisType: Time</span></span>
<span id="cb32-31"><a href="#cb32-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             valid_min: 15721.5</span></span>
<span id="cb32-32"><a href="#cb32-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             valid_max: 25917.5</span></span>
<span id="cb32-33"><a href="#cb32-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         latitude  Size:523 </span></span>
<span id="cb32-34"><a href="#cb32-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             axis: Y</span></span>
<span id="cb32-35"><a href="#cb32-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             standard_name: latitude</span></span>
<span id="cb32-36"><a href="#cb32-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             long_name: latitude</span></span>
<span id="cb32-37"><a href="#cb32-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             units: degrees_north</span></span>
<span id="cb32-38"><a href="#cb32-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             _CoordinateAxisType: Lat</span></span>
<span id="cb32-39"><a href="#cb32-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             valid_min: 48.49169921875</span></span>
<span id="cb32-40"><a href="#cb32-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             valid_max: 65.8914184570312</span></span>
<span id="cb32-41"><a href="#cb32-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         longitude  Size:383 </span></span>
<span id="cb32-42"><a href="#cb32-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             standard_name: longitude</span></span>
<span id="cb32-43"><a href="#cb32-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             long_name: longitude</span></span>
<span id="cb32-44"><a href="#cb32-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             units: degrees_east</span></span>
<span id="cb32-45"><a href="#cb32-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             axis: X</span></span>
<span id="cb32-46"><a href="#cb32-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             _CoordinateAxisType: Lon</span></span>
<span id="cb32-47"><a href="#cb32-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             valid_min: 9.01375484466553</span></span>
<span id="cb32-48"><a href="#cb32-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             valid_max: 30.2357654571533</span></span>
<span id="cb32-49"><a href="#cb32-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb32-50"><a href="#cb32-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     24 global attributes:</span></span>
<span id="cb32-51"><a href="#cb32-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         references: http://www.smhi.se</span></span>
<span id="cb32-52"><a href="#cb32-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         institution: Swedish Meterological and Hydrological Institute</span></span>
<span id="cb32-53"><a href="#cb32-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         history: See source and creation_date attributees</span></span>
<span id="cb32-54"><a href="#cb32-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         Conventions: CF-1.5</span></span>
<span id="cb32-55"><a href="#cb32-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         contact: servicedesk_cmems@mercator-ocean.eu</span></span>
<span id="cb32-56"><a href="#cb32-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         comment: Provided by SMHI as a Copernicus Marine Environment Monitoring Service production unit</span></span>
<span id="cb32-57"><a href="#cb32-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         bullentin_type: reanalysis</span></span>
<span id="cb32-58"><a href="#cb32-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         cmems_product_id: BALTICSEA_REANALYSIS_BIO_003_012</span></span>
<span id="cb32-59"><a href="#cb32-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         title: CMEMS V4 Reanalysis: SCOBI model 3D fields (monthly means)</span></span>
<span id="cb32-60"><a href="#cb32-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         FROM_ORIGINAL_FILE__easternmost_longitude: 30.2357654571533</span></span>
<span id="cb32-61"><a href="#cb32-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         FROM_ORIGINAL_FILE__northernmost_latitude: 65.8914184570312</span></span>
<span id="cb32-62"><a href="#cb32-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         FROM_ORIGINAL_FILE__westernmost_longitude: 9.01375484466553</span></span>
<span id="cb32-63"><a href="#cb32-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         FROM_ORIGINAL_FILE__southernmost_latitude: 48.49169921875</span></span>
<span id="cb32-64"><a href="#cb32-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         shallowest_depth: 1.50136542320251</span></span>
<span id="cb32-65"><a href="#cb32-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         deepest_depth: 711.059204101562</span></span>
<span id="cb32-66"><a href="#cb32-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         source: SMHI reanalysis run NORDIC-NS2_1d_20201201_20201201</span></span>
<span id="cb32-67"><a href="#cb32-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         file_quality_index: 1</span></span>
<span id="cb32-68"><a href="#cb32-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         creation_date: 2021-11-09 UTC</span></span>
<span id="cb32-69"><a href="#cb32-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         bullentin_date: 20201201</span></span>
<span id="cb32-70"><a href="#cb32-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         start_date: 2020-12-01 UTC</span></span>
<span id="cb32-71"><a href="#cb32-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         stop_date: 2020-12-01 UTC</span></span>
<span id="cb32-72"><a href="#cb32-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         start_time: 00:00 UTC</span></span>
<span id="cb32-73"><a href="#cb32-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         stop_time: 00:00 UTC</span></span>
<span id="cb32-74"><a href="#cb32-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         _CoordSysBuilder: ucar.nc2.dataset.conv.CF1Convention</span></span>
<span id="cb32-75"><a href="#cb32-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-76"><a href="#cb32-76" aria-hidden="true" tabindex="-1"></a><span class="co"># Get longitude and latitude</span></span>
<span id="cb32-77"><a href="#cb32-77" aria-hidden="true" tabindex="-1"></a>lon <span class="ot">&lt;-</span> <span class="fu">ncvar_get</span>(ncin,<span class="st">"longitude"</span>)</span>
<span id="cb32-78"><a href="#cb32-78" aria-hidden="true" tabindex="-1"></a>nlon <span class="ot">&lt;-</span> <span class="fu">dim</span>(lon)</span>
<span id="cb32-79"><a href="#cb32-79" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lon)</span>
<span id="cb32-80"><a href="#cb32-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 9.013755 9.069310 9.124865 9.180420 9.235975 9.291530</span></span>
<span id="cb32-81"><a href="#cb32-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-82"><a href="#cb32-82" aria-hidden="true" tabindex="-1"></a>lat <span class="ot">&lt;-</span> <span class="fu">ncvar_get</span>(ncin,<span class="st">"latitude"</span>)</span>
<span id="cb32-83"><a href="#cb32-83" aria-hidden="true" tabindex="-1"></a>nlat <span class="ot">&lt;-</span> <span class="fu">dim</span>(lat)</span>
<span id="cb32-84"><a href="#cb32-84" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lat)</span>
<span id="cb32-85"><a href="#cb32-85" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 48.49170 48.52503 48.55836 48.59170 48.62503 48.65836</span></span>
<span id="cb32-86"><a href="#cb32-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-87"><a href="#cb32-87" aria-hidden="true" tabindex="-1"></a><span class="co"># Get time</span></span>
<span id="cb32-88"><a href="#cb32-88" aria-hidden="true" tabindex="-1"></a>time <span class="ot">&lt;-</span> <span class="fu">ncvar_get</span>(ncin,<span class="st">"time"</span>)</span>
<span id="cb32-89"><a href="#cb32-89" aria-hidden="true" tabindex="-1"></a>time</span>
<span id="cb32-90"><a href="#cb32-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1] 15721.5 15751.0 15780.5 15811.0 15841.5 15872.0 15902.5 15933.5 15964.0</span></span>
<span id="cb32-91"><a href="#cb32-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [10] 15994.5 16025.0 16055.5 16086.5 16116.0 16145.5 16176.0 16206.5 16237.0</span></span>
<span id="cb32-92"><a href="#cb32-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [19] 16267.5 16298.5 16329.0 16359.5 16390.0 16420.5 16451.5 16481.0 16510.5</span></span>
<span id="cb32-93"><a href="#cb32-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [28] 16541.0 16571.5 16602.0 16632.5 16663.5 16694.0 16724.5 16755.0 16785.5</span></span>
<span id="cb32-94"><a href="#cb32-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [37] 16816.5 16846.5 16876.5 16907.0 16937.5 16968.0 16998.5 17029.5 17060.0</span></span>
<span id="cb32-95"><a href="#cb32-95" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [46] 17090.5 17121.0 17151.5 17182.5 17212.0 17241.5 17272.0 17302.5 17333.0</span></span>
<span id="cb32-96"><a href="#cb32-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [55] 17363.5 17394.5 17425.0 17455.5 17486.0 17516.5 17547.5 17577.0 17606.5</span></span>
<span id="cb32-97"><a href="#cb32-97" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [64] 17637.0 17667.5 17698.0 17728.5 17759.5 17790.0 17820.5 17851.0 17881.5</span></span>
<span id="cb32-98"><a href="#cb32-98" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [73] 17912.5 17942.0 17971.5 18002.0 18032.5 18063.0 18093.5 18124.5 18155.0</span></span>
<span id="cb32-99"><a href="#cb32-99" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [82] 18185.5 18216.0 18246.5 18277.5 18307.5 18337.5 18368.0 18398.5 18429.0</span></span>
<span id="cb32-100"><a href="#cb32-100" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [91] 18459.5 18490.5 18521.0 18551.5 18582.0 18612.5 18643.5 18673.0 18702.5</span></span>
<span id="cb32-101"><a href="#cb32-101" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [100] 18733.0 18763.5 18794.0 18824.5 18855.5 18886.0 18916.5 18947.0 18977.5</span></span>
<span id="cb32-102"><a href="#cb32-102" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [109] 19008.5 19038.0 19067.5 19098.0 19128.5 19159.0 19189.5 19220.5 19251.0</span></span>
<span id="cb32-103"><a href="#cb32-103" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [118] 19281.5 19312.0 19342.5 19373.5 19403.0 19432.5 19463.0 19493.5 19524.0</span></span>
<span id="cb32-104"><a href="#cb32-104" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [127] 19554.5 19585.5 19616.0 19646.5 19677.0 19707.5 19738.5 19768.5 19798.5</span></span>
<span id="cb32-105"><a href="#cb32-105" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [136] 19829.0 19859.5 19890.0 19920.5 19951.5 19982.0 20012.5 20043.0 20073.5</span></span>
<span id="cb32-106"><a href="#cb32-106" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [145] 20104.5 20134.0 20163.5 20194.0 20224.5 20255.0 20285.5 20316.5 20347.0</span></span>
<span id="cb32-107"><a href="#cb32-107" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [154] 20377.5 20408.0 20438.5 20469.5 20499.0 20528.5 20559.0 20589.5 20620.0</span></span>
<span id="cb32-108"><a href="#cb32-108" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [163] 20650.5 20681.5 20712.0 20742.5 20773.0 20803.5 20834.5 20864.0 20893.5</span></span>
<span id="cb32-109"><a href="#cb32-109" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [172] 20924.0 20954.5 20985.0 21015.5 21046.5 21077.0 21107.5 21138.0 21168.5</span></span>
<span id="cb32-110"><a href="#cb32-110" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [181] 21199.5 21229.5 21259.5 21290.0 21320.5 21351.0 21381.5 21412.5 21443.0</span></span>
<span id="cb32-111"><a href="#cb32-111" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [190] 21473.5 21504.0 21534.5 21565.5 21595.0 21624.5 21655.0 21685.5 21716.0</span></span>
<span id="cb32-112"><a href="#cb32-112" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [199] 21746.5 21777.5 21808.0 21838.5 21869.0 21899.5 21930.5 21960.0 21989.5</span></span>
<span id="cb32-113"><a href="#cb32-113" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [208] 22020.0 22050.5 22081.0 22111.5 22142.5 22173.0 22203.5 22234.0 22264.5</span></span>
<span id="cb32-114"><a href="#cb32-114" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [217] 22295.5 22325.0 22354.5 22385.0 22415.5 22446.0 22476.5 22507.5 22538.0</span></span>
<span id="cb32-115"><a href="#cb32-115" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [226] 22568.5 22599.0 22629.5 22660.5 22690.5 22720.5 22751.0 22781.5 22812.0</span></span>
<span id="cb32-116"><a href="#cb32-116" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [235] 22842.5 22873.5 22904.0 22934.5 22965.0 22995.5 23026.5 23056.0 23085.5</span></span>
<span id="cb32-117"><a href="#cb32-117" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [244] 23116.0 23146.5 23177.0 23207.5 23238.5 23269.0 23299.5 23330.0 23360.5</span></span>
<span id="cb32-118"><a href="#cb32-118" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [253] 23391.5 23421.0 23450.5 23481.0 23511.5 23542.0 23572.5 23603.5 23634.0</span></span>
<span id="cb32-119"><a href="#cb32-119" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [262] 23664.5 23695.0 23725.5 23756.5 23786.0 23815.5 23846.0 23876.5 23907.0</span></span>
<span id="cb32-120"><a href="#cb32-120" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [271] 23937.5 23968.5 23999.0 24029.5 24060.0 24090.5 24121.5 24151.5 24181.5</span></span>
<span id="cb32-121"><a href="#cb32-121" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [280] 24212.0 24242.5 24273.0 24303.5 24334.5 24365.0 24395.5 24426.0 24456.5</span></span>
<span id="cb32-122"><a href="#cb32-122" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [289] 24487.5 24517.0 24546.5 24577.0 24607.5 24638.0 24668.5 24699.5 24730.0</span></span>
<span id="cb32-123"><a href="#cb32-123" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [298] 24760.5 24791.0 24821.5 24852.5 24882.0 24911.5 24942.0 24972.5 25003.0</span></span>
<span id="cb32-124"><a href="#cb32-124" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [307] 25033.5 25064.5 25095.0 25125.5 25156.0 25186.5 25217.5 25247.0 25276.5</span></span>
<span id="cb32-125"><a href="#cb32-125" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [316] 25307.0 25337.5 25368.0 25398.5 25429.5 25460.0 25490.5 25521.0 25551.5</span></span>
<span id="cb32-126"><a href="#cb32-126" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [325] 25582.5 25612.5 25642.5 25673.0 25703.5 25734.0 25764.5 25795.5 25826.0</span></span>
<span id="cb32-127"><a href="#cb32-127" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [334] 25856.5 25887.0 25917.5</span></span>
<span id="cb32-128"><a href="#cb32-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-129"><a href="#cb32-129" aria-hidden="true" tabindex="-1"></a>tunits <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="st">"time"</span>,<span class="st">"units"</span>)</span>
<span id="cb32-130"><a href="#cb32-130" aria-hidden="true" tabindex="-1"></a>nt <span class="ot">&lt;-</span> <span class="fu">dim</span>(time)</span>
<span id="cb32-131"><a href="#cb32-131" aria-hidden="true" tabindex="-1"></a>nt</span>
<span id="cb32-132"><a href="#cb32-132" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 336</span></span>
<span id="cb32-133"><a href="#cb32-133" aria-hidden="true" tabindex="-1"></a>tunits</span>
<span id="cb32-134"><a href="#cb32-134" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $hasatt</span></span>
<span id="cb32-135"><a href="#cb32-135" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb32-136"><a href="#cb32-136" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb32-137"><a href="#cb32-137" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $value</span></span>
<span id="cb32-138"><a href="#cb32-138" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "days since 1950-01-01 00:00:00"</span></span>
<span id="cb32-139"><a href="#cb32-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-140"><a href="#cb32-140" aria-hidden="true" tabindex="-1"></a><span class="co"># Get oxygen</span></span>
<span id="cb32-141"><a href="#cb32-141" aria-hidden="true" tabindex="-1"></a>dname <span class="ot">&lt;-</span> <span class="st">"o2b"</span></span>
<span id="cb32-142"><a href="#cb32-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-143"><a href="#cb32-143" aria-hidden="true" tabindex="-1"></a>oxy_array <span class="ot">&lt;-</span> <span class="fu">ncvar_get</span>(ncin,dname)</span>
<span id="cb32-144"><a href="#cb32-144" aria-hidden="true" tabindex="-1"></a>dlname <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,dname,<span class="st">"long_name"</span>)</span>
<span id="cb32-145"><a href="#cb32-145" aria-hidden="true" tabindex="-1"></a>dunits <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,dname,<span class="st">"units"</span>)</span>
<span id="cb32-146"><a href="#cb32-146" aria-hidden="true" tabindex="-1"></a>fillvalue <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,dname,<span class="st">"_FillValue"</span>)</span>
<span id="cb32-147"><a href="#cb32-147" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(oxy_array)</span>
<span id="cb32-148"><a href="#cb32-148" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 383 523 336</span></span>
<span id="cb32-149"><a href="#cb32-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-150"><a href="#cb32-150" aria-hidden="true" tabindex="-1"></a><span class="co"># Get global attributes</span></span>
<span id="cb32-151"><a href="#cb32-151" aria-hidden="true" tabindex="-1"></a>title <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="dv">0</span>,<span class="st">"title"</span>)</span>
<span id="cb32-152"><a href="#cb32-152" aria-hidden="true" tabindex="-1"></a>institution <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="dv">0</span>,<span class="st">"institution"</span>)</span>
<span id="cb32-153"><a href="#cb32-153" aria-hidden="true" tabindex="-1"></a>datasource <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="dv">0</span>,<span class="st">"source"</span>)</span>
<span id="cb32-154"><a href="#cb32-154" aria-hidden="true" tabindex="-1"></a>references <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="dv">0</span>,<span class="st">"references"</span>)</span>
<span id="cb32-155"><a href="#cb32-155" aria-hidden="true" tabindex="-1"></a>history <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="dv">0</span>,<span class="st">"history"</span>)</span>
<span id="cb32-156"><a href="#cb32-156" aria-hidden="true" tabindex="-1"></a>Conventions <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="dv">0</span>,<span class="st">"Conventions"</span>)</span>
<span id="cb32-157"><a href="#cb32-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-158"><a href="#cb32-158" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert time: split the time units string into fields</span></span>
<span id="cb32-159"><a href="#cb32-159" aria-hidden="true" tabindex="-1"></a>tustr <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(tunits<span class="sc">$</span>value, <span class="st">" "</span>)</span>
<span id="cb32-160"><a href="#cb32-160" aria-hidden="true" tabindex="-1"></a>tdstr <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(<span class="fu">unlist</span>(tustr)[<span class="dv">3</span>], <span class="st">"-"</span>)</span>
<span id="cb32-161"><a href="#cb32-161" aria-hidden="true" tabindex="-1"></a>tmonth <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="fu">unlist</span>(tdstr)[<span class="dv">2</span>])</span>
<span id="cb32-162"><a href="#cb32-162" aria-hidden="true" tabindex="-1"></a>tday <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="fu">unlist</span>(tdstr)[<span class="dv">3</span>])</span>
<span id="cb32-163"><a href="#cb32-163" aria-hidden="true" tabindex="-1"></a>tyear <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="fu">unlist</span>(tdstr)[<span class="dv">1</span>])</span>
<span id="cb32-164"><a href="#cb32-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-165"><a href="#cb32-165" aria-hidden="true" tabindex="-1"></a><span class="co"># Here I deviate from the guide a little bit. Save this info:</span></span>
<span id="cb32-166"><a href="#cb32-166" aria-hidden="true" tabindex="-1"></a>dates <span class="ot">&lt;-</span> <span class="fu">chron</span>(time, <span class="at">origin =</span> <span class="fu">c</span>(tmonth, tday, tyear))</span>
<span id="cb32-167"><a href="#cb32-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-168"><a href="#cb32-168" aria-hidden="true" tabindex="-1"></a><span class="co"># Crop the date variable</span></span>
<span id="cb32-169"><a href="#cb32-169" aria-hidden="true" tabindex="-1"></a>months <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">substr</span>(dates, <span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb32-170"><a href="#cb32-170" aria-hidden="true" tabindex="-1"></a>years <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">substr</span>(dates, <span class="dv">8</span>, <span class="dv">9</span>))</span>
<span id="cb32-171"><a href="#cb32-171" aria-hidden="true" tabindex="-1"></a>years <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(years <span class="sc">&gt;</span> <span class="dv">90</span>, <span class="dv">1900</span> <span class="sc">+</span> years, <span class="dv">2000</span> <span class="sc">+</span> years)</span>
<span id="cb32-172"><a href="#cb32-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-173"><a href="#cb32-173" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace netCDF fill values with NA's</span></span>
<span id="cb32-174"><a href="#cb32-174" aria-hidden="true" tabindex="-1"></a>oxy_array[oxy_array <span class="sc">==</span> fillvalue<span class="sc">$</span>value] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb32-175"><a href="#cb32-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-176"><a href="#cb32-176" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(oxy_array)</span>
<span id="cb32-177"><a href="#cb32-177" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 383 523 336</span></span>
<span id="cb32-178"><a href="#cb32-178" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(<span class="fu">dim</span>(oxy_array))</span>
<span id="cb32-179"><a href="#cb32-179" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  int [1:3] 383 523 336</span></span>
<span id="cb32-180"><a href="#cb32-180" aria-hidden="true" tabindex="-1"></a><span class="co"># The third slot is the date index</span></span>
<span id="cb32-181"><a href="#cb32-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-182"><a href="#cb32-182" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through all "dates", put into a list </span></span>
<span id="cb32-183"><a href="#cb32-183" aria-hidden="true" tabindex="-1"></a>dlist <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb32-184"><a href="#cb32-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-185"><a href="#cb32-185" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(months)) {</span>
<span id="cb32-186"><a href="#cb32-186" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-187"><a href="#cb32-187" aria-hidden="true" tabindex="-1"></a>  oxy_sub <span class="ot">&lt;-</span> oxy_array[, , i]</span>
<span id="cb32-188"><a href="#cb32-188" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb32-189"><a href="#cb32-189" aria-hidden="true" tabindex="-1"></a>  dlist[[i]] <span class="ot">&lt;-</span> oxy_sub</span>
<span id="cb32-190"><a href="#cb32-190" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-191"><a href="#cb32-191" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb32-192"><a href="#cb32-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-193"><a href="#cb32-193" aria-hidden="true" tabindex="-1"></a><span class="co"># Name the list</span></span>
<span id="cb32-194"><a href="#cb32-194" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dlist) <span class="ot">&lt;-</span> <span class="fu">paste</span>(months, years, <span class="at">sep =</span> <span class="st">"_"</span>)</span>
<span id="cb32-195"><a href="#cb32-195" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dlist)</span>
<span id="cb32-196"><a href="#cb32-196" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; List of 336</span></span>
<span id="cb32-197"><a href="#cb32-197" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1993 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-198"><a href="#cb32-198" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1993 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-199"><a href="#cb32-199" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1993 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-200"><a href="#cb32-200" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1993 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-201"><a href="#cb32-201" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1993 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-202"><a href="#cb32-202" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1993 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-203"><a href="#cb32-203" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1993 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-204"><a href="#cb32-204" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1993 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-205"><a href="#cb32-205" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1993 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-206"><a href="#cb32-206" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1993: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-207"><a href="#cb32-207" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1993: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-208"><a href="#cb32-208" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1993: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-209"><a href="#cb32-209" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1994 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-210"><a href="#cb32-210" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1994 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-211"><a href="#cb32-211" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1994 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-212"><a href="#cb32-212" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1994 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-213"><a href="#cb32-213" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1994 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-214"><a href="#cb32-214" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1994 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-215"><a href="#cb32-215" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1994 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-216"><a href="#cb32-216" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1994 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-217"><a href="#cb32-217" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1994 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-218"><a href="#cb32-218" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1994: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-219"><a href="#cb32-219" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1994: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-220"><a href="#cb32-220" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1994: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-221"><a href="#cb32-221" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1995 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-222"><a href="#cb32-222" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1995 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-223"><a href="#cb32-223" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1995 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-224"><a href="#cb32-224" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1995 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-225"><a href="#cb32-225" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1995 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-226"><a href="#cb32-226" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1995 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-227"><a href="#cb32-227" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1995 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-228"><a href="#cb32-228" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1995 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-229"><a href="#cb32-229" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1995 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-230"><a href="#cb32-230" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1995: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-231"><a href="#cb32-231" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1995: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-232"><a href="#cb32-232" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1995: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-233"><a href="#cb32-233" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1996 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-234"><a href="#cb32-234" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1996 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-235"><a href="#cb32-235" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1996 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-236"><a href="#cb32-236" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1996 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-237"><a href="#cb32-237" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1996 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-238"><a href="#cb32-238" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1996 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-239"><a href="#cb32-239" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1996 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-240"><a href="#cb32-240" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1996 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-241"><a href="#cb32-241" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1996 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-242"><a href="#cb32-242" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1996: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-243"><a href="#cb32-243" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1996: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-244"><a href="#cb32-244" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1996: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-245"><a href="#cb32-245" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1997 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-246"><a href="#cb32-246" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1997 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-247"><a href="#cb32-247" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1997 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-248"><a href="#cb32-248" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1997 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-249"><a href="#cb32-249" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1997 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-250"><a href="#cb32-250" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1997 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-251"><a href="#cb32-251" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1997 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-252"><a href="#cb32-252" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1997 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-253"><a href="#cb32-253" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1997 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-254"><a href="#cb32-254" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1997: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-255"><a href="#cb32-255" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1997: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-256"><a href="#cb32-256" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1997: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-257"><a href="#cb32-257" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1998 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-258"><a href="#cb32-258" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1998 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-259"><a href="#cb32-259" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1998 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-260"><a href="#cb32-260" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1998 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-261"><a href="#cb32-261" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1998 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-262"><a href="#cb32-262" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1998 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-263"><a href="#cb32-263" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1998 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-264"><a href="#cb32-264" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1998 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-265"><a href="#cb32-265" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1998 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-266"><a href="#cb32-266" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1998: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-267"><a href="#cb32-267" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1998: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-268"><a href="#cb32-268" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1998: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-269"><a href="#cb32-269" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1999 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-270"><a href="#cb32-270" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1999 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-271"><a href="#cb32-271" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1999 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-272"><a href="#cb32-272" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1999 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-273"><a href="#cb32-273" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1999 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-274"><a href="#cb32-274" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1999 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-275"><a href="#cb32-275" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1999 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-276"><a href="#cb32-276" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1999 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-277"><a href="#cb32-277" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1999 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-278"><a href="#cb32-278" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1999: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-279"><a href="#cb32-279" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1999: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-280"><a href="#cb32-280" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1999: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-281"><a href="#cb32-281" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_2000 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-282"><a href="#cb32-282" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_2000 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-283"><a href="#cb32-283" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_2000 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-284"><a href="#cb32-284" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_2000 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-285"><a href="#cb32-285" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_2000 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-286"><a href="#cb32-286" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_2000 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-287"><a href="#cb32-287" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_2000 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-288"><a href="#cb32-288" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_2000 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-289"><a href="#cb32-289" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_2000 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-290"><a href="#cb32-290" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_2000: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-291"><a href="#cb32-291" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_2000: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-292"><a href="#cb32-292" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_2000: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-293"><a href="#cb32-293" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_2001 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-294"><a href="#cb32-294" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_2001 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-295"><a href="#cb32-295" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_2001 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb32-296"><a href="#cb32-296" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [list output truncated]</span></span>
<span id="cb32-297"><a href="#cb32-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-298"><a href="#cb32-298" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data holding object</span></span>
<span id="cb32-299"><a href="#cb32-299" aria-hidden="true" tabindex="-1"></a>oxy_data_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb32-300"><a href="#cb32-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-301"><a href="#cb32-301" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each month_year and extract raster values for the cpue data points</span></span>
<span id="cb32-302"><a href="#cb32-302" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">unique</span>(dat_haul<span class="sc">$</span>month_year)) { <span class="co"># We can use q1 as looping index, doesn't matter!</span></span>
<span id="cb32-303"><a href="#cb32-303" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-304"><a href="#cb32-304" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set plot limits</span></span>
<span id="cb32-305"><a href="#cb32-305" aria-hidden="true" tabindex="-1"></a>  ymin <span class="ot">=</span> <span class="dv">54</span>; ymax <span class="ot">=</span> <span class="dv">58</span>; xmin <span class="ot">=</span> <span class="dv">12</span>; xmax <span class="ot">=</span> <span class="dv">22</span></span>
<span id="cb32-306"><a href="#cb32-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-307"><a href="#cb32-307" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Subset a month-year combination</span></span>
<span id="cb32-308"><a href="#cb32-308" aria-hidden="true" tabindex="-1"></a>  oxy_slice <span class="ot">&lt;-</span> dlist[[i]]</span>
<span id="cb32-309"><a href="#cb32-309" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-310"><a href="#cb32-310" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create raster for that year (i)</span></span>
<span id="cb32-311"><a href="#cb32-311" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="fu">t</span>(oxy_slice), <span class="at">xmn =</span> <span class="fu">min</span>(lon), <span class="at">xmx =</span> <span class="fu">max</span>(lon), <span class="at">ymn =</span> <span class="fu">min</span>(lat), <span class="at">ymx =</span> <span class="fu">max</span>(lat),</span>
<span id="cb32-312"><a href="#cb32-312" aria-hidden="true" tabindex="-1"></a>              <span class="at">crs =</span> <span class="fu">CRS</span>(<span class="st">"+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs+ towgs84=0,0,0"</span>))</span>
<span id="cb32-313"><a href="#cb32-313" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-314"><a href="#cb32-314" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Flip...</span></span>
<span id="cb32-315"><a href="#cb32-315" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">&lt;-</span> <span class="fu">flip</span>(r, <span class="at">direction =</span> <span class="st">'y'</span>)</span>
<span id="cb32-316"><a href="#cb32-316" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-317"><a href="#cb32-317" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(r, <span class="at">main =</span> <span class="fu">paste</span>(i), <span class="at">ylim =</span> <span class="fu">c</span>(ymin, ymax), <span class="at">xlim =</span> <span class="fu">c</span>(xmin, xmax))</span>
<span id="cb32-318"><a href="#cb32-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-319"><a href="#cb32-319" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter the same year (i) in the cpue data and select only coordinates</span></span>
<span id="cb32-320"><a href="#cb32-320" aria-hidden="true" tabindex="-1"></a>  d_slice <span class="ot">&lt;-</span> dat_haul <span class="sc">%&gt;%</span> <span class="fu">filter</span>(month_year <span class="sc">==</span> i) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(lon, lat)</span>
<span id="cb32-321"><a href="#cb32-321" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-322"><a href="#cb32-322" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make into a SpatialPoints object</span></span>
<span id="cb32-323"><a href="#cb32-323" aria-hidden="true" tabindex="-1"></a>  data_sp <span class="ot">&lt;-</span> <span class="fu">SpatialPoints</span>(d_slice)</span>
<span id="cb32-324"><a href="#cb32-324" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-325"><a href="#cb32-325" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract raster value (oxygen)</span></span>
<span id="cb32-326"><a href="#cb32-326" aria-hidden="true" tabindex="-1"></a>  rasValue <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">extract</span>(r, data_sp)</span>
<span id="cb32-327"><a href="#cb32-327" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-328"><a href="#cb32-328" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Now we want to plot the results of the raster extractions by plotting the cpue data points over a raster and saving it for each year.</span></span>
<span id="cb32-329"><a href="#cb32-329" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make the SpatialPoints object into a raster again (for plot)</span></span>
<span id="cb32-330"><a href="#cb32-330" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(data_sp)</span>
<span id="cb32-331"><a href="#cb32-331" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-332"><a href="#cb32-332" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add in the raster value in the df holding the coordinates for the cpue data</span></span>
<span id="cb32-333"><a href="#cb32-333" aria-hidden="true" tabindex="-1"></a>  d_slice<span class="sc">$</span>oxy <span class="ot">&lt;-</span> rasValue</span>
<span id="cb32-334"><a href="#cb32-334" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-335"><a href="#cb32-335" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add in which year</span></span>
<span id="cb32-336"><a href="#cb32-336" aria-hidden="true" tabindex="-1"></a>  d_slice<span class="sc">$</span>month_year <span class="ot">&lt;-</span> i</span>
<span id="cb32-337"><a href="#cb32-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-338"><a href="#cb32-338" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Now the unit of oxygen is mmol/m3. I want it to be ml/L. The original model is in unit ml/L</span></span>
<span id="cb32-339"><a href="#cb32-339" aria-hidden="true" tabindex="-1"></a>  <span class="co"># and it's been converted by the data host. Since it was converted without accounting for</span></span>
<span id="cb32-340"><a href="#cb32-340" aria-hidden="true" tabindex="-1"></a>  <span class="co"># pressure or temperature, I can simply use the following conversion factor:</span></span>
<span id="cb32-341"><a href="#cb32-341" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 1 ml/l = 103/22.391 = 44.661 μmol/l -&gt; 1 ml/l = 0.044661 mmol/l = 44.661 mmol/m^3 -&gt; 0.0223909 ml/l = 1mmol/m^3</span></span>
<span id="cb32-342"><a href="#cb32-342" aria-hidden="true" tabindex="-1"></a>  <span class="co"># https://ocean.ices.dk/tools/unitconversion.aspx</span></span>
<span id="cb32-343"><a href="#cb32-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-344"><a href="#cb32-344" aria-hidden="true" tabindex="-1"></a>  d_slice<span class="sc">$</span>oxy <span class="ot">&lt;-</span> d_slice<span class="sc">$</span>oxy <span class="sc">*</span> <span class="fl">0.0223909</span></span>
<span id="cb32-345"><a href="#cb32-345" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb32-346"><a href="#cb32-346" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add each years' data in the list</span></span>
<span id="cb32-347"><a href="#cb32-347" aria-hidden="true" tabindex="-1"></a>  oxy_data_list[[i]] <span class="ot">&lt;-</span> d_slice</span>
<span id="cb32-348"><a href="#cb32-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-349"><a href="#cb32-349" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb32-350"><a href="#cb32-350" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; filter: removed 9,312 rows (99%), 61 rows remaining</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,333 rows (&gt;99%), 40 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,355 rows (&gt;99%), 18 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,357 rows (&gt;99%), 16 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,328 rows (&gt;99%), 45 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,310 rows (99%), 63 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-6.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,341 rows (&gt;99%), 32 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-7.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,293 rows (99%), 80 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-8.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,362 rows (&gt;99%), 11 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-9.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,311 rows (99%), 62 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-10.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,256 rows (99%), 117 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-11.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,336 rows (&gt;99%), 37 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-12.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,352 rows (&gt;99%), 21 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-13.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,348 rows (&gt;99%), 25 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-14.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,345 rows (&gt;99%), 28 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-15.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,292 rows (99%), 81 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-16.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,325 rows (99%), 48 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-17.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,319 rows (99%), 54 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-18.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,354 rows (&gt;99%), 19 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-19.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,328 rows (&gt;99%), 45 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-20.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,357 rows (&gt;99%), 16 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-21.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,318 rows (99%), 55 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-22.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,303 rows (99%), 70 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-23.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,284 rows (99%), 89 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-24.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,358 rows (&gt;99%), 15 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-25.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,303 rows (99%), 70 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-26.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,368 rows (&gt;99%), 5 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-27.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,306 rows (99%), 67 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-28.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,265 rows (99%), 108 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-29.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,320 rows (99%), 53 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-30.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,357 rows (&gt;99%), 16 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-31.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,324 rows (99%), 49 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-32.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,354 rows (&gt;99%), 19 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-33.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,264 rows (99%), 109 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-34.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,292 rows (99%), 81 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-35.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,361 rows (&gt;99%), 12 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-36.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,284 rows (99%), 89 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-37.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,368 rows (&gt;99%), 5 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-38.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,309 rows (99%), 64 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-39.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,327 rows (&gt;99%), 46 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-40.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,284 rows (99%), 89 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-41.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,247 rows (99%), 126 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-42.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,291 rows (99%), 82 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-43.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,257 rows (99%), 116 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-44.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,280 rows (99%), 93 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-45.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,321 rows (99%), 52 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-46.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,267 rows (99%), 106 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-47.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,362 rows (&gt;99%), 11 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-48.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,268 rows (99%), 105 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-49.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,317 rows (99%), 56 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-50.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,256 rows (99%), 117 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-51.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,362 rows (&gt;99%), 11 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-52.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,239 rows (99%), 134 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-53.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,300 rows (99%), 73 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-54.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,297 rows (99%), 76 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-55.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,340 rows (&gt;99%), 33 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-56.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,232 rows (98%), 141 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-57.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,296 rows (99%), 77 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-58.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,247 rows (99%), 126 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-59.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,350 rows (&gt;99%), 23 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-60.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,371 rows (&gt;99%), 2 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-61.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,258 rows (99%), 115 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-62.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,300 rows (99%), 73 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-63.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,262 rows (99%), 111 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-64.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,348 rows (&gt;99%), 25 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-65.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,359 rows (&gt;99%), 14 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-66.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,243 rows (99%), 130 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-67.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,268 rows (99%), 105 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-68.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,234 rows (99%), 139 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-69.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,354 rows (&gt;99%), 19 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-70.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,362 rows (&gt;99%), 11 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-71.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,253 rows (99%), 120 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-72.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,271 rows (99%), 102 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-73.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,244 rows (99%), 129 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-74.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,356 rows (&gt;99%), 17 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-75.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,343 rows (&gt;99%), 30 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-76.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,225 rows (98%), 148 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-77.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,262 rows (99%), 111 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-78.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,230 rows (98%), 143 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-79.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,365 rows (&gt;99%), 8 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-80.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,344 rows (&gt;99%), 29 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-81.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,233 rows (99%), 140 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-82.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,273 rows (99%), 100 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-83.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,236 rows (99%), 137 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-84.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,348 rows (&gt;99%), 25 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-85.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,211 rows (98%), 162 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-86.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,292 rows (99%), 81 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-87.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,244 rows (99%), 129 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-88.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,341 rows (&gt;99%), 32 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-89.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,354 rows (&gt;99%), 19 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-90.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,291 rows (99%), 82 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-91.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,231 rows (98%), 142 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-92.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,358 rows (&gt;99%), 15 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-93.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,280 rows (99%), 93 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-94.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,348 rows (&gt;99%), 25 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-95.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,235 rows (99%), 138 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-96.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,243 rows (99%), 130 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-97.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,253 rows (99%), 120 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-98.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,360 rows (&gt;99%), 13 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-99.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,358 rows (&gt;99%), 15 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-100.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,221 rows (98%), 152 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-101.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,317 rows (99%), 56 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-102.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,247 rows (99%), 126 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-103.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,339 rows (&gt;99%), 34 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-104.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,357 rows (&gt;99%), 16 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-105.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,214 rows (98%), 159 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-106.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,295 rows (99%), 78 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-107.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,224 rows (98%), 149 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-108.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,356 rows (&gt;99%), 17 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-109.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,281 rows (99%), 92 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-110.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,233 rows (99%), 140 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-111.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,189 rows (98%), 184 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-112.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,359 rows (&gt;99%), 14 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-113.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,358 rows (&gt;99%), 15 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-114.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,243 rows (99%), 130 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-115.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,258 rows (99%), 115 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-116.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,188 rows (98%), 185 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-117.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,348 rows (&gt;99%), 25 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-118.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,358 rows (&gt;99%), 15 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-119.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,220 rows (98%), 153 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-120.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,270 rows (99%), 103 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-121.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,194 rows (98%), 179 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-122.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,342 rows (&gt;99%), 31 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-123.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,314 rows (99%), 59 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-124.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,314 rows (99%), 59 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-125.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,281 rows (99%), 92 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-126.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,322 rows (99%), 51 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-127.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,298 rows (99%), 75 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-128.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,353 rows (&gt;99%), 20 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-129.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,291 rows (99%), 82 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-16-130.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Now create a data frame from the list of all annual values</span></span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a>big_dat_oxy <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(oxy_data_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="temperature" class="level4">
<h4 class="anchored" data-anchor-id="temperature">Temperature</h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Open the netCDF file</span></span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a>ncin <span class="ot">&lt;-</span> <span class="fu">nc_open</span>(<span class="st">"data/NEMO_Nordic_SCOBI/dataset-reanalysis-nemo-monthlymeans_1664183191233.nc"</span>)</span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a>                                        </span>
<span id="cb163-4"><a href="#cb163-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(ncin)</span>
<span id="cb163-5"><a href="#cb163-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; File data/NEMO_Nordic_SCOBI/dataset-reanalysis-nemo-monthlymeans_1664183191233.nc (NC_FORMAT_CLASSIC):</span></span>
<span id="cb163-6"><a href="#cb163-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb163-7"><a href="#cb163-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      1 variables (excluding dimension variables):</span></span>
<span id="cb163-8"><a href="#cb163-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         float bottomT[longitude,latitude,time]   </span></span>
<span id="cb163-9"><a href="#cb163-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             standard_name: sea_water_potential_temperature_at_sea_floor</span></span>
<span id="cb163-10"><a href="#cb163-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             units: degrees_C</span></span>
<span id="cb163-11"><a href="#cb163-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             long_name: Sea floor potential temperature</span></span>
<span id="cb163-12"><a href="#cb163-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             missing_value: NaN</span></span>
<span id="cb163-13"><a href="#cb163-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             _FillValue: NaN</span></span>
<span id="cb163-14"><a href="#cb163-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             _ChunkSizes: 1</span></span>
<span id="cb163-15"><a href="#cb163-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              _ChunkSizes: 523</span></span>
<span id="cb163-16"><a href="#cb163-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              _ChunkSizes: 383</span></span>
<span id="cb163-17"><a href="#cb163-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb163-18"><a href="#cb163-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      3 dimensions:</span></span>
<span id="cb163-19"><a href="#cb163-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         time  Size:336 </span></span>
<span id="cb163-20"><a href="#cb163-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             axis: T</span></span>
<span id="cb163-21"><a href="#cb163-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             long_name: Validity time</span></span>
<span id="cb163-22"><a href="#cb163-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             standard_name: time</span></span>
<span id="cb163-23"><a href="#cb163-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             units: days since 1950-01-01 00:00:00</span></span>
<span id="cb163-24"><a href="#cb163-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             calendar: gregorian</span></span>
<span id="cb163-25"><a href="#cb163-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             _ChunkSizes: 512</span></span>
<span id="cb163-26"><a href="#cb163-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             _CoordinateAxisType: Time</span></span>
<span id="cb163-27"><a href="#cb163-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             valid_min: 15721.5</span></span>
<span id="cb163-28"><a href="#cb163-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             valid_max: 25917.5</span></span>
<span id="cb163-29"><a href="#cb163-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         latitude  Size:523 </span></span>
<span id="cb163-30"><a href="#cb163-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             axis: Y</span></span>
<span id="cb163-31"><a href="#cb163-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             standard_name: latitude</span></span>
<span id="cb163-32"><a href="#cb163-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             long_name: latitude</span></span>
<span id="cb163-33"><a href="#cb163-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             units: degrees_north</span></span>
<span id="cb163-34"><a href="#cb163-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             _CoordinateAxisType: Lat</span></span>
<span id="cb163-35"><a href="#cb163-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             valid_min: 48.49169921875</span></span>
<span id="cb163-36"><a href="#cb163-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             valid_max: 65.8914184570312</span></span>
<span id="cb163-37"><a href="#cb163-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         longitude  Size:383 </span></span>
<span id="cb163-38"><a href="#cb163-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             standard_name: longitude</span></span>
<span id="cb163-39"><a href="#cb163-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             long_name: longitude</span></span>
<span id="cb163-40"><a href="#cb163-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             units: degrees_east</span></span>
<span id="cb163-41"><a href="#cb163-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             axis: X</span></span>
<span id="cb163-42"><a href="#cb163-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             _CoordinateAxisType: Lon</span></span>
<span id="cb163-43"><a href="#cb163-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             valid_min: 9.01375484466553</span></span>
<span id="cb163-44"><a href="#cb163-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             valid_max: 30.2357654571533</span></span>
<span id="cb163-45"><a href="#cb163-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb163-46"><a href="#cb163-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     24 global attributes:</span></span>
<span id="cb163-47"><a href="#cb163-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         references: http://www.smhi.se</span></span>
<span id="cb163-48"><a href="#cb163-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         institution: Swedish Meterological and Hydrological Institute</span></span>
<span id="cb163-49"><a href="#cb163-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         history: See source and creation_date attributees</span></span>
<span id="cb163-50"><a href="#cb163-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         Conventions: CF-1.5</span></span>
<span id="cb163-51"><a href="#cb163-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         contact: servicedesk_cmems@mercator-ocean.eu</span></span>
<span id="cb163-52"><a href="#cb163-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         comment: Provided by SMHI as a Copernicus Marine Environment Monitoring Service production unit</span></span>
<span id="cb163-53"><a href="#cb163-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         bullentin_type: reanalysis</span></span>
<span id="cb163-54"><a href="#cb163-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         cmems_product_id: BALTICSEA_REANALYSIS_PHY_003_011</span></span>
<span id="cb163-55"><a href="#cb163-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         title: CMEMS V4 Reanalysis: NEMO model 3D fields (monthly means)</span></span>
<span id="cb163-56"><a href="#cb163-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         FROM_ORIGINAL_FILE__easternmost_longitude: 30.2357654571533</span></span>
<span id="cb163-57"><a href="#cb163-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         FROM_ORIGINAL_FILE__northernmost_latitude: 65.8914184570312</span></span>
<span id="cb163-58"><a href="#cb163-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         FROM_ORIGINAL_FILE__westernmost_longitude: 9.01375484466553</span></span>
<span id="cb163-59"><a href="#cb163-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         FROM_ORIGINAL_FILE__southernmost_latitude: 48.49169921875</span></span>
<span id="cb163-60"><a href="#cb163-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         shallowest_depth: 1.50136542320251</span></span>
<span id="cb163-61"><a href="#cb163-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         deepest_depth: 711.059204101562</span></span>
<span id="cb163-62"><a href="#cb163-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         source: SMHI reanalysis run NORDIC-NS2_1d_20201201_20201201</span></span>
<span id="cb163-63"><a href="#cb163-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         file_quality_index: 1</span></span>
<span id="cb163-64"><a href="#cb163-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         creation_date: 2021-11-09 UTC</span></span>
<span id="cb163-65"><a href="#cb163-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         bullentin_date: 20201201</span></span>
<span id="cb163-66"><a href="#cb163-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         start_date: 2020-12-01 UTC</span></span>
<span id="cb163-67"><a href="#cb163-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         stop_date: 2020-12-01 UTC</span></span>
<span id="cb163-68"><a href="#cb163-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         start_time: 00:00 UTC</span></span>
<span id="cb163-69"><a href="#cb163-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         stop_time: 00:00 UTC</span></span>
<span id="cb163-70"><a href="#cb163-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         _CoordSysBuilder: ucar.nc2.dataset.conv.CF1Convention</span></span>
<span id="cb163-71"><a href="#cb163-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-72"><a href="#cb163-72" aria-hidden="true" tabindex="-1"></a><span class="co"># Get longitude and latitude</span></span>
<span id="cb163-73"><a href="#cb163-73" aria-hidden="true" tabindex="-1"></a>lon <span class="ot">&lt;-</span> <span class="fu">ncvar_get</span>(ncin,<span class="st">"longitude"</span>)</span>
<span id="cb163-74"><a href="#cb163-74" aria-hidden="true" tabindex="-1"></a>nlon <span class="ot">&lt;-</span> <span class="fu">dim</span>(lon)</span>
<span id="cb163-75"><a href="#cb163-75" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lon)</span>
<span id="cb163-76"><a href="#cb163-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 9.013755 9.069310 9.124865 9.180420 9.235975 9.291530</span></span>
<span id="cb163-77"><a href="#cb163-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-78"><a href="#cb163-78" aria-hidden="true" tabindex="-1"></a>lat <span class="ot">&lt;-</span> <span class="fu">ncvar_get</span>(ncin,<span class="st">"latitude"</span>)</span>
<span id="cb163-79"><a href="#cb163-79" aria-hidden="true" tabindex="-1"></a>nlat <span class="ot">&lt;-</span> <span class="fu">dim</span>(lat)</span>
<span id="cb163-80"><a href="#cb163-80" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lat)</span>
<span id="cb163-81"><a href="#cb163-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 48.49170 48.52503 48.55836 48.59170 48.62503 48.65836</span></span>
<span id="cb163-82"><a href="#cb163-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-83"><a href="#cb163-83" aria-hidden="true" tabindex="-1"></a><span class="co"># Get time</span></span>
<span id="cb163-84"><a href="#cb163-84" aria-hidden="true" tabindex="-1"></a>time <span class="ot">&lt;-</span> <span class="fu">ncvar_get</span>(ncin,<span class="st">"time"</span>)</span>
<span id="cb163-85"><a href="#cb163-85" aria-hidden="true" tabindex="-1"></a>time</span>
<span id="cb163-86"><a href="#cb163-86" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1] 15721.5 15751.0 15780.5 15811.0 15841.5 15872.0 15902.5 15933.5 15964.0</span></span>
<span id="cb163-87"><a href="#cb163-87" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [10] 15994.5 16025.0 16055.5 16086.5 16116.0 16145.5 16176.0 16206.5 16237.0</span></span>
<span id="cb163-88"><a href="#cb163-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [19] 16267.5 16298.5 16329.0 16359.5 16390.0 16420.5 16451.5 16481.0 16510.5</span></span>
<span id="cb163-89"><a href="#cb163-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [28] 16541.0 16571.5 16602.0 16632.5 16663.5 16694.0 16724.5 16755.0 16785.5</span></span>
<span id="cb163-90"><a href="#cb163-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [37] 16816.5 16846.5 16876.5 16907.0 16937.5 16968.0 16998.5 17029.5 17060.0</span></span>
<span id="cb163-91"><a href="#cb163-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [46] 17090.5 17121.0 17151.5 17182.5 17212.0 17241.5 17272.0 17302.5 17333.0</span></span>
<span id="cb163-92"><a href="#cb163-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [55] 17363.5 17394.5 17425.0 17455.5 17486.0 17516.5 17547.5 17577.0 17606.5</span></span>
<span id="cb163-93"><a href="#cb163-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [64] 17637.0 17667.5 17698.0 17728.5 17759.5 17790.0 17820.5 17851.0 17881.5</span></span>
<span id="cb163-94"><a href="#cb163-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [73] 17912.5 17942.0 17971.5 18002.0 18032.5 18063.0 18093.5 18124.5 18155.0</span></span>
<span id="cb163-95"><a href="#cb163-95" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [82] 18185.5 18216.0 18246.5 18277.5 18307.5 18337.5 18368.0 18398.5 18429.0</span></span>
<span id="cb163-96"><a href="#cb163-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [91] 18459.5 18490.5 18521.0 18551.5 18582.0 18612.5 18643.5 18673.0 18702.5</span></span>
<span id="cb163-97"><a href="#cb163-97" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [100] 18733.0 18763.5 18794.0 18824.5 18855.5 18886.0 18916.5 18947.0 18977.5</span></span>
<span id="cb163-98"><a href="#cb163-98" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [109] 19008.5 19038.0 19067.5 19098.0 19128.5 19159.0 19189.5 19220.5 19251.0</span></span>
<span id="cb163-99"><a href="#cb163-99" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [118] 19281.5 19312.0 19342.5 19373.5 19403.0 19432.5 19463.0 19493.5 19524.0</span></span>
<span id="cb163-100"><a href="#cb163-100" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [127] 19554.5 19585.5 19616.0 19646.5 19677.0 19707.5 19738.5 19768.5 19798.5</span></span>
<span id="cb163-101"><a href="#cb163-101" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [136] 19829.0 19859.5 19890.0 19920.5 19951.5 19982.0 20012.5 20043.0 20073.5</span></span>
<span id="cb163-102"><a href="#cb163-102" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [145] 20104.5 20134.0 20163.5 20194.0 20224.5 20255.0 20285.5 20316.5 20347.0</span></span>
<span id="cb163-103"><a href="#cb163-103" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [154] 20377.5 20408.0 20438.5 20469.5 20499.0 20528.5 20559.0 20589.5 20620.0</span></span>
<span id="cb163-104"><a href="#cb163-104" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [163] 20650.5 20681.5 20712.0 20742.5 20773.0 20803.5 20834.5 20864.0 20893.5</span></span>
<span id="cb163-105"><a href="#cb163-105" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [172] 20924.0 20954.5 20985.0 21015.5 21046.5 21077.0 21107.5 21138.0 21168.5</span></span>
<span id="cb163-106"><a href="#cb163-106" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [181] 21199.5 21229.5 21259.5 21290.0 21320.5 21351.0 21381.5 21412.5 21443.0</span></span>
<span id="cb163-107"><a href="#cb163-107" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [190] 21473.5 21504.0 21534.5 21565.5 21595.0 21624.5 21655.0 21685.5 21716.0</span></span>
<span id="cb163-108"><a href="#cb163-108" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [199] 21746.5 21777.5 21808.0 21838.5 21869.0 21899.5 21930.5 21960.0 21989.5</span></span>
<span id="cb163-109"><a href="#cb163-109" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [208] 22020.0 22050.5 22081.0 22111.5 22142.5 22173.0 22203.5 22234.0 22264.5</span></span>
<span id="cb163-110"><a href="#cb163-110" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [217] 22295.5 22325.0 22354.5 22385.0 22415.5 22446.0 22476.5 22507.5 22538.0</span></span>
<span id="cb163-111"><a href="#cb163-111" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [226] 22568.5 22599.0 22629.5 22660.5 22690.5 22720.5 22751.0 22781.5 22812.0</span></span>
<span id="cb163-112"><a href="#cb163-112" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [235] 22842.5 22873.5 22904.0 22934.5 22965.0 22995.5 23026.5 23056.0 23085.5</span></span>
<span id="cb163-113"><a href="#cb163-113" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [244] 23116.0 23146.5 23177.0 23207.5 23238.5 23269.0 23299.5 23330.0 23360.5</span></span>
<span id="cb163-114"><a href="#cb163-114" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [253] 23391.5 23421.0 23450.5 23481.0 23511.5 23542.0 23572.5 23603.5 23634.0</span></span>
<span id="cb163-115"><a href="#cb163-115" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [262] 23664.5 23695.0 23725.5 23756.5 23786.0 23815.5 23846.0 23876.5 23907.0</span></span>
<span id="cb163-116"><a href="#cb163-116" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [271] 23937.5 23968.5 23999.0 24029.5 24060.0 24090.5 24121.5 24151.5 24181.5</span></span>
<span id="cb163-117"><a href="#cb163-117" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [280] 24212.0 24242.5 24273.0 24303.5 24334.5 24365.0 24395.5 24426.0 24456.5</span></span>
<span id="cb163-118"><a href="#cb163-118" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [289] 24487.5 24517.0 24546.5 24577.0 24607.5 24638.0 24668.5 24699.5 24730.0</span></span>
<span id="cb163-119"><a href="#cb163-119" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [298] 24760.5 24791.0 24821.5 24852.5 24882.0 24911.5 24942.0 24972.5 25003.0</span></span>
<span id="cb163-120"><a href="#cb163-120" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [307] 25033.5 25064.5 25095.0 25125.5 25156.0 25186.5 25217.5 25247.0 25276.5</span></span>
<span id="cb163-121"><a href="#cb163-121" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [316] 25307.0 25337.5 25368.0 25398.5 25429.5 25460.0 25490.5 25521.0 25551.5</span></span>
<span id="cb163-122"><a href="#cb163-122" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [325] 25582.5 25612.5 25642.5 25673.0 25703.5 25734.0 25764.5 25795.5 25826.0</span></span>
<span id="cb163-123"><a href="#cb163-123" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [334] 25856.5 25887.0 25917.5</span></span>
<span id="cb163-124"><a href="#cb163-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-125"><a href="#cb163-125" aria-hidden="true" tabindex="-1"></a>tunits <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="st">"time"</span>,<span class="st">"units"</span>)</span>
<span id="cb163-126"><a href="#cb163-126" aria-hidden="true" tabindex="-1"></a>nt <span class="ot">&lt;-</span> <span class="fu">dim</span>(time)</span>
<span id="cb163-127"><a href="#cb163-127" aria-hidden="true" tabindex="-1"></a>nt</span>
<span id="cb163-128"><a href="#cb163-128" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 336</span></span>
<span id="cb163-129"><a href="#cb163-129" aria-hidden="true" tabindex="-1"></a>tunits</span>
<span id="cb163-130"><a href="#cb163-130" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $hasatt</span></span>
<span id="cb163-131"><a href="#cb163-131" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb163-132"><a href="#cb163-132" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb163-133"><a href="#cb163-133" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $value</span></span>
<span id="cb163-134"><a href="#cb163-134" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "days since 1950-01-01 00:00:00"</span></span>
<span id="cb163-135"><a href="#cb163-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-136"><a href="#cb163-136" aria-hidden="true" tabindex="-1"></a><span class="co"># Get temperature</span></span>
<span id="cb163-137"><a href="#cb163-137" aria-hidden="true" tabindex="-1"></a>dname <span class="ot">&lt;-</span> <span class="st">"bottomT"</span></span>
<span id="cb163-138"><a href="#cb163-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-139"><a href="#cb163-139" aria-hidden="true" tabindex="-1"></a>temp_array <span class="ot">&lt;-</span> <span class="fu">ncvar_get</span>(ncin,dname)</span>
<span id="cb163-140"><a href="#cb163-140" aria-hidden="true" tabindex="-1"></a>dlname <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,dname,<span class="st">"long_name"</span>)</span>
<span id="cb163-141"><a href="#cb163-141" aria-hidden="true" tabindex="-1"></a>dunits <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,dname,<span class="st">"units"</span>)</span>
<span id="cb163-142"><a href="#cb163-142" aria-hidden="true" tabindex="-1"></a>fillvalue <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,dname,<span class="st">"_FillValue"</span>)</span>
<span id="cb163-143"><a href="#cb163-143" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(temp_array)</span>
<span id="cb163-144"><a href="#cb163-144" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 383 523 336</span></span>
<span id="cb163-145"><a href="#cb163-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-146"><a href="#cb163-146" aria-hidden="true" tabindex="-1"></a><span class="co"># Get global attributes</span></span>
<span id="cb163-147"><a href="#cb163-147" aria-hidden="true" tabindex="-1"></a>title <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="dv">0</span>,<span class="st">"title"</span>)</span>
<span id="cb163-148"><a href="#cb163-148" aria-hidden="true" tabindex="-1"></a>institution <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="dv">0</span>,<span class="st">"institution"</span>)</span>
<span id="cb163-149"><a href="#cb163-149" aria-hidden="true" tabindex="-1"></a>datasource <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="dv">0</span>,<span class="st">"source"</span>)</span>
<span id="cb163-150"><a href="#cb163-150" aria-hidden="true" tabindex="-1"></a>references <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="dv">0</span>,<span class="st">"references"</span>)</span>
<span id="cb163-151"><a href="#cb163-151" aria-hidden="true" tabindex="-1"></a>history <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="dv">0</span>,<span class="st">"history"</span>)</span>
<span id="cb163-152"><a href="#cb163-152" aria-hidden="true" tabindex="-1"></a>Conventions <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="dv">0</span>,<span class="st">"Conventions"</span>)</span>
<span id="cb163-153"><a href="#cb163-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-154"><a href="#cb163-154" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert time: split the time units string into fields</span></span>
<span id="cb163-155"><a href="#cb163-155" aria-hidden="true" tabindex="-1"></a>tustr <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(tunits<span class="sc">$</span>value, <span class="st">" "</span>)</span>
<span id="cb163-156"><a href="#cb163-156" aria-hidden="true" tabindex="-1"></a>tdstr <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(<span class="fu">unlist</span>(tustr)[<span class="dv">3</span>], <span class="st">"-"</span>)</span>
<span id="cb163-157"><a href="#cb163-157" aria-hidden="true" tabindex="-1"></a>tmonth <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="fu">unlist</span>(tdstr)[<span class="dv">2</span>])</span>
<span id="cb163-158"><a href="#cb163-158" aria-hidden="true" tabindex="-1"></a>tday <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="fu">unlist</span>(tdstr)[<span class="dv">3</span>])</span>
<span id="cb163-159"><a href="#cb163-159" aria-hidden="true" tabindex="-1"></a>tyear <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="fu">unlist</span>(tdstr)[<span class="dv">1</span>])</span>
<span id="cb163-160"><a href="#cb163-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-161"><a href="#cb163-161" aria-hidden="true" tabindex="-1"></a><span class="co"># Here I deviate from the guide a little bit. Save this info:</span></span>
<span id="cb163-162"><a href="#cb163-162" aria-hidden="true" tabindex="-1"></a>dates <span class="ot">&lt;-</span> <span class="fu">chron</span>(time, <span class="at">origin =</span> <span class="fu">c</span>(tmonth, tday, tyear))</span>
<span id="cb163-163"><a href="#cb163-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-164"><a href="#cb163-164" aria-hidden="true" tabindex="-1"></a><span class="co"># Crop the date variable</span></span>
<span id="cb163-165"><a href="#cb163-165" aria-hidden="true" tabindex="-1"></a>months <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">substr</span>(dates, <span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb163-166"><a href="#cb163-166" aria-hidden="true" tabindex="-1"></a>years <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">substr</span>(dates, <span class="dv">8</span>, <span class="dv">9</span>))</span>
<span id="cb163-167"><a href="#cb163-167" aria-hidden="true" tabindex="-1"></a>years <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(years <span class="sc">&gt;</span> <span class="dv">90</span>, <span class="dv">1900</span> <span class="sc">+</span> years, <span class="dv">2000</span> <span class="sc">+</span> years)</span>
<span id="cb163-168"><a href="#cb163-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-169"><a href="#cb163-169" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace netCDF fill values with NA's</span></span>
<span id="cb163-170"><a href="#cb163-170" aria-hidden="true" tabindex="-1"></a>temp_array[temp_array <span class="sc">==</span> fillvalue<span class="sc">$</span>value] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb163-171"><a href="#cb163-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-172"><a href="#cb163-172" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through all "dates", put into a list </span></span>
<span id="cb163-173"><a href="#cb163-173" aria-hidden="true" tabindex="-1"></a>dlist <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb163-174"><a href="#cb163-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-175"><a href="#cb163-175" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(months)) {</span>
<span id="cb163-176"><a href="#cb163-176" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-177"><a href="#cb163-177" aria-hidden="true" tabindex="-1"></a>  temp_sub <span class="ot">&lt;-</span> temp_array[, , i]</span>
<span id="cb163-178"><a href="#cb163-178" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-179"><a href="#cb163-179" aria-hidden="true" tabindex="-1"></a>  dlist[[i]] <span class="ot">&lt;-</span> temp_sub</span>
<span id="cb163-180"><a href="#cb163-180" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-181"><a href="#cb163-181" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb163-182"><a href="#cb163-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-183"><a href="#cb163-183" aria-hidden="true" tabindex="-1"></a><span class="co"># Name the list</span></span>
<span id="cb163-184"><a href="#cb163-184" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dlist) <span class="ot">&lt;-</span> <span class="fu">paste</span>(months, years, <span class="at">sep =</span> <span class="st">"_"</span>)</span>
<span id="cb163-185"><a href="#cb163-185" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dlist)</span>
<span id="cb163-186"><a href="#cb163-186" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; List of 336</span></span>
<span id="cb163-187"><a href="#cb163-187" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1993 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-188"><a href="#cb163-188" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1993 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-189"><a href="#cb163-189" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1993 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-190"><a href="#cb163-190" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1993 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-191"><a href="#cb163-191" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1993 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-192"><a href="#cb163-192" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1993 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-193"><a href="#cb163-193" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1993 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-194"><a href="#cb163-194" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1993 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-195"><a href="#cb163-195" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1993 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-196"><a href="#cb163-196" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1993: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-197"><a href="#cb163-197" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1993: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-198"><a href="#cb163-198" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1993: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-199"><a href="#cb163-199" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1994 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-200"><a href="#cb163-200" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1994 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-201"><a href="#cb163-201" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1994 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-202"><a href="#cb163-202" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1994 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-203"><a href="#cb163-203" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1994 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-204"><a href="#cb163-204" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1994 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-205"><a href="#cb163-205" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1994 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-206"><a href="#cb163-206" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1994 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-207"><a href="#cb163-207" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1994 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-208"><a href="#cb163-208" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1994: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-209"><a href="#cb163-209" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1994: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-210"><a href="#cb163-210" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1994: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-211"><a href="#cb163-211" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1995 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-212"><a href="#cb163-212" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1995 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-213"><a href="#cb163-213" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1995 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-214"><a href="#cb163-214" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1995 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-215"><a href="#cb163-215" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1995 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-216"><a href="#cb163-216" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1995 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-217"><a href="#cb163-217" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1995 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-218"><a href="#cb163-218" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1995 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-219"><a href="#cb163-219" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1995 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-220"><a href="#cb163-220" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1995: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-221"><a href="#cb163-221" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1995: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-222"><a href="#cb163-222" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1995: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-223"><a href="#cb163-223" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1996 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-224"><a href="#cb163-224" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1996 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-225"><a href="#cb163-225" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1996 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-226"><a href="#cb163-226" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1996 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-227"><a href="#cb163-227" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1996 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-228"><a href="#cb163-228" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1996 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-229"><a href="#cb163-229" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1996 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-230"><a href="#cb163-230" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1996 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-231"><a href="#cb163-231" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1996 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-232"><a href="#cb163-232" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1996: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-233"><a href="#cb163-233" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1996: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-234"><a href="#cb163-234" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1996: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-235"><a href="#cb163-235" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1997 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-236"><a href="#cb163-236" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1997 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-237"><a href="#cb163-237" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1997 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-238"><a href="#cb163-238" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1997 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-239"><a href="#cb163-239" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1997 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-240"><a href="#cb163-240" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1997 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-241"><a href="#cb163-241" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1997 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-242"><a href="#cb163-242" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1997 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-243"><a href="#cb163-243" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1997 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-244"><a href="#cb163-244" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1997: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-245"><a href="#cb163-245" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1997: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-246"><a href="#cb163-246" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1997: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-247"><a href="#cb163-247" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1998 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-248"><a href="#cb163-248" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1998 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-249"><a href="#cb163-249" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1998 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-250"><a href="#cb163-250" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1998 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-251"><a href="#cb163-251" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1998 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-252"><a href="#cb163-252" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1998 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-253"><a href="#cb163-253" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1998 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-254"><a href="#cb163-254" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1998 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-255"><a href="#cb163-255" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1998 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-256"><a href="#cb163-256" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1998: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-257"><a href="#cb163-257" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1998: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-258"><a href="#cb163-258" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1998: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-259"><a href="#cb163-259" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1999 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-260"><a href="#cb163-260" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1999 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-261"><a href="#cb163-261" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1999 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-262"><a href="#cb163-262" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1999 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-263"><a href="#cb163-263" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1999 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-264"><a href="#cb163-264" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1999 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-265"><a href="#cb163-265" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1999 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-266"><a href="#cb163-266" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1999 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-267"><a href="#cb163-267" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1999 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-268"><a href="#cb163-268" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1999: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-269"><a href="#cb163-269" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1999: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-270"><a href="#cb163-270" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1999: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-271"><a href="#cb163-271" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_2000 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-272"><a href="#cb163-272" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_2000 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-273"><a href="#cb163-273" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_2000 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-274"><a href="#cb163-274" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_2000 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-275"><a href="#cb163-275" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_2000 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-276"><a href="#cb163-276" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_2000 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-277"><a href="#cb163-277" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_2000 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-278"><a href="#cb163-278" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_2000 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-279"><a href="#cb163-279" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_2000 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-280"><a href="#cb163-280" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_2000: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-281"><a href="#cb163-281" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_2000: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-282"><a href="#cb163-282" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_2000: num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-283"><a href="#cb163-283" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_2001 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-284"><a href="#cb163-284" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_2001 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-285"><a href="#cb163-285" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_2001 : num [1:383, 1:523] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb163-286"><a href="#cb163-286" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [list output truncated]</span></span>
<span id="cb163-287"><a href="#cb163-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-288"><a href="#cb163-288" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data holding object</span></span>
<span id="cb163-289"><a href="#cb163-289" aria-hidden="true" tabindex="-1"></a>temp_data_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb163-290"><a href="#cb163-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-291"><a href="#cb163-291" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each month_year and extract raster values for the cpue data points</span></span>
<span id="cb163-292"><a href="#cb163-292" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">unique</span>(dat_haul<span class="sc">$</span>month_year)) { <span class="co"># We can use q1 as looping index, doesn't matter!</span></span>
<span id="cb163-293"><a href="#cb163-293" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-294"><a href="#cb163-294" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set plot limits</span></span>
<span id="cb163-295"><a href="#cb163-295" aria-hidden="true" tabindex="-1"></a>  ymin <span class="ot">=</span> <span class="dv">54</span>; ymax <span class="ot">=</span> <span class="dv">58</span>; xmin <span class="ot">=</span> <span class="dv">12</span>; xmax <span class="ot">=</span> <span class="dv">22</span></span>
<span id="cb163-296"><a href="#cb163-296" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-297"><a href="#cb163-297" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Subset a month-year combination</span></span>
<span id="cb163-298"><a href="#cb163-298" aria-hidden="true" tabindex="-1"></a>  temp_slice <span class="ot">&lt;-</span> dlist[[i]]</span>
<span id="cb163-299"><a href="#cb163-299" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-300"><a href="#cb163-300" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create raster for that year (i)</span></span>
<span id="cb163-301"><a href="#cb163-301" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="fu">t</span>(temp_slice), <span class="at">xmn =</span> <span class="fu">min</span>(lon), <span class="at">xmx =</span> <span class="fu">max</span>(lon), <span class="at">ymn =</span> <span class="fu">min</span>(lat), <span class="at">ymx =</span> <span class="fu">max</span>(lat),</span>
<span id="cb163-302"><a href="#cb163-302" aria-hidden="true" tabindex="-1"></a>              <span class="at">crs =</span> <span class="fu">CRS</span>(<span class="st">"+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs+ towgs84=0,0,0"</span>))</span>
<span id="cb163-303"><a href="#cb163-303" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-304"><a href="#cb163-304" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Flip...</span></span>
<span id="cb163-305"><a href="#cb163-305" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">&lt;-</span> <span class="fu">flip</span>(r, <span class="at">direction =</span> <span class="st">'y'</span>)</span>
<span id="cb163-306"><a href="#cb163-306" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-307"><a href="#cb163-307" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(r, <span class="at">main =</span> <span class="fu">paste</span>(i), <span class="at">ylim =</span> <span class="fu">c</span>(ymin, ymax), <span class="at">xlim =</span> <span class="fu">c</span>(xmin, xmax))</span>
<span id="cb163-308"><a href="#cb163-308" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-309"><a href="#cb163-309" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter the same year (i) in the cpue data and select only coordinates</span></span>
<span id="cb163-310"><a href="#cb163-310" aria-hidden="true" tabindex="-1"></a>  d_slice <span class="ot">&lt;-</span> dat_haul <span class="sc">%&gt;%</span> <span class="fu">filter</span>(month_year <span class="sc">==</span> i) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(lon, lat)</span>
<span id="cb163-311"><a href="#cb163-311" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-312"><a href="#cb163-312" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make into a SpatialPoints object</span></span>
<span id="cb163-313"><a href="#cb163-313" aria-hidden="true" tabindex="-1"></a>  data_sp <span class="ot">&lt;-</span> <span class="fu">SpatialPoints</span>(d_slice)</span>
<span id="cb163-314"><a href="#cb163-314" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-315"><a href="#cb163-315" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract raster value (oxygen)</span></span>
<span id="cb163-316"><a href="#cb163-316" aria-hidden="true" tabindex="-1"></a>  rasValue <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">extract</span>(r, data_sp)</span>
<span id="cb163-317"><a href="#cb163-317" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-318"><a href="#cb163-318" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Now we want to plot the results of the raster extractions by plotting the cpue data points over a raster and saving it for each year.</span></span>
<span id="cb163-319"><a href="#cb163-319" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make the SpatialPoints object into a raster again (for plot)</span></span>
<span id="cb163-320"><a href="#cb163-320" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(data_sp)</span>
<span id="cb163-321"><a href="#cb163-321" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-322"><a href="#cb163-322" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add in the raster value in the df holding the coordinates for the cpue data</span></span>
<span id="cb163-323"><a href="#cb163-323" aria-hidden="true" tabindex="-1"></a>  d_slice<span class="sc">$</span>temp <span class="ot">&lt;-</span> rasValue</span>
<span id="cb163-324"><a href="#cb163-324" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-325"><a href="#cb163-325" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add in which year</span></span>
<span id="cb163-326"><a href="#cb163-326" aria-hidden="true" tabindex="-1"></a>  d_slice<span class="sc">$</span>month_year <span class="ot">&lt;-</span> i</span>
<span id="cb163-327"><a href="#cb163-327" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-328"><a href="#cb163-328" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add each years' data in the list</span></span>
<span id="cb163-329"><a href="#cb163-329" aria-hidden="true" tabindex="-1"></a>  temp_data_list[[i]] <span class="ot">&lt;-</span> d_slice</span>
<span id="cb163-330"><a href="#cb163-330" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-331"><a href="#cb163-331" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb163-332"><a href="#cb163-332" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; filter: removed 9,312 rows (99%), 61 rows remaining</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,333 rows (&gt;99%), 40 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,355 rows (&gt;99%), 18 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,357 rows (&gt;99%), 16 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,328 rows (&gt;99%), 45 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,310 rows (99%), 63 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-6.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,341 rows (&gt;99%), 32 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-7.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,293 rows (99%), 80 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-8.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,362 rows (&gt;99%), 11 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-9.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,311 rows (99%), 62 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-10.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,256 rows (99%), 117 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-11.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,336 rows (&gt;99%), 37 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-12.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,352 rows (&gt;99%), 21 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-13.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,348 rows (&gt;99%), 25 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-14.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,345 rows (&gt;99%), 28 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-15.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,292 rows (99%), 81 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-16.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,325 rows (99%), 48 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-17.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,319 rows (99%), 54 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-18.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,354 rows (&gt;99%), 19 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-19.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,328 rows (&gt;99%), 45 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-20.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,357 rows (&gt;99%), 16 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-21.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,318 rows (99%), 55 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-22.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,303 rows (99%), 70 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-23.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,284 rows (99%), 89 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-24.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,358 rows (&gt;99%), 15 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-25.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,303 rows (99%), 70 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-26.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,368 rows (&gt;99%), 5 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-27.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,306 rows (99%), 67 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-28.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,265 rows (99%), 108 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-29.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,320 rows (99%), 53 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-30.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,357 rows (&gt;99%), 16 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-31.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,324 rows (99%), 49 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-32.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,354 rows (&gt;99%), 19 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-33.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,264 rows (99%), 109 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-34.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,292 rows (99%), 81 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-35.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,361 rows (&gt;99%), 12 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-36.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,284 rows (99%), 89 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-37.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,368 rows (&gt;99%), 5 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-38.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,309 rows (99%), 64 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-39.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,327 rows (&gt;99%), 46 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-40.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,284 rows (99%), 89 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-41.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,247 rows (99%), 126 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-42.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,291 rows (99%), 82 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-43.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,257 rows (99%), 116 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-44.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,280 rows (99%), 93 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-45.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,321 rows (99%), 52 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-46.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,267 rows (99%), 106 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-47.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,362 rows (&gt;99%), 11 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-48.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,268 rows (99%), 105 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-49.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,317 rows (99%), 56 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-50.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,256 rows (99%), 117 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-51.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,362 rows (&gt;99%), 11 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-52.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,239 rows (99%), 134 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-53.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,300 rows (99%), 73 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-54.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,297 rows (99%), 76 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-55.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,340 rows (&gt;99%), 33 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-56.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,232 rows (98%), 141 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-57.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,296 rows (99%), 77 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-58.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,247 rows (99%), 126 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-59.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,350 rows (&gt;99%), 23 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-60.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,371 rows (&gt;99%), 2 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-61.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,258 rows (99%), 115 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-62.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,300 rows (99%), 73 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-63.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,262 rows (99%), 111 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-64.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,348 rows (&gt;99%), 25 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-65.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,359 rows (&gt;99%), 14 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-66.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,243 rows (99%), 130 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-67.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,268 rows (99%), 105 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-68.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,234 rows (99%), 139 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-69.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,354 rows (&gt;99%), 19 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-70.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,362 rows (&gt;99%), 11 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-71.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,253 rows (99%), 120 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-72.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,271 rows (99%), 102 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-73.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,244 rows (99%), 129 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-74.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,356 rows (&gt;99%), 17 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-75.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,343 rows (&gt;99%), 30 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-76.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,225 rows (98%), 148 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-77.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,262 rows (99%), 111 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-78.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,230 rows (98%), 143 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-79.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,365 rows (&gt;99%), 8 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-80.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,344 rows (&gt;99%), 29 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-81.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,233 rows (99%), 140 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-82.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,273 rows (99%), 100 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-83.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,236 rows (99%), 137 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-84.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,348 rows (&gt;99%), 25 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-85.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,211 rows (98%), 162 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-86.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,292 rows (99%), 81 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-87.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,244 rows (99%), 129 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-88.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,341 rows (&gt;99%), 32 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-89.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,354 rows (&gt;99%), 19 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-90.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,291 rows (99%), 82 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-91.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,231 rows (98%), 142 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-92.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,358 rows (&gt;99%), 15 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-93.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,280 rows (99%), 93 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-94.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,348 rows (&gt;99%), 25 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-95.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,235 rows (99%), 138 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-96.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,243 rows (99%), 130 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-97.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,253 rows (99%), 120 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-98.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,360 rows (&gt;99%), 13 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-99.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,358 rows (&gt;99%), 15 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-100.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,221 rows (98%), 152 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-101.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,317 rows (99%), 56 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-102.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,247 rows (99%), 126 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-103.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,339 rows (&gt;99%), 34 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-104.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,357 rows (&gt;99%), 16 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-105.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,214 rows (98%), 159 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-106.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,295 rows (99%), 78 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-107.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,224 rows (98%), 149 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-108.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,356 rows (&gt;99%), 17 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-109.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,281 rows (99%), 92 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-110.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,233 rows (99%), 140 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-111.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,189 rows (98%), 184 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-112.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,359 rows (&gt;99%), 14 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-113.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,358 rows (&gt;99%), 15 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-114.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,243 rows (99%), 130 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-115.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,258 rows (99%), 115 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-116.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,188 rows (98%), 185 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-117.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,348 rows (&gt;99%), 25 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-118.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,358 rows (&gt;99%), 15 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-119.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,220 rows (98%), 153 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-120.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,270 rows (99%), 103 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-121.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,194 rows (98%), 179 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-122.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,342 rows (&gt;99%), 31 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-123.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,314 rows (99%), 59 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-124.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,314 rows (99%), 59 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-125.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,281 rows (99%), 92 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-126.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,322 rows (99%), 51 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-127.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,298 rows (99%), 75 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-128.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,353 rows (&gt;99%), 20 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-129.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,291 rows (99%), 82 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-17-130.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb293"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb293-1"><a href="#cb293-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb293-2"><a href="#cb293-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Now create a data frame from the list of all annual values</span></span>
<span id="cb293-3"><a href="#cb293-3" aria-hidden="true" tabindex="-1"></a>big_dat_temp <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(temp_data_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="bottom-salinity" class="level4">
<h4 class="anchored" data-anchor-id="bottom-salinity">Bottom salinity</h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb294"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb294-1"><a href="#cb294-1" aria-hidden="true" tabindex="-1"></a><span class="co"># https://data.marine.copernicus.eu/product/BALTICSEA_REANALYSIS_PHY_003_011/download?dataset=dataset-reanalysis-nemo-monthlymeans</span></span>
<span id="cb294-2"><a href="#cb294-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-3"><a href="#cb294-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Open the netCDF file</span></span>
<span id="cb294-4"><a href="#cb294-4" aria-hidden="true" tabindex="-1"></a>ncin <span class="ot">&lt;-</span> <span class="fu">nc_open</span>(<span class="st">"data/NEMO_Nordic_SCOBI/dataset-reanalysis-nemo-monthlymeans_1668587452211.nc"</span>)</span>
<span id="cb294-5"><a href="#cb294-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-6"><a href="#cb294-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(ncin)</span>
<span id="cb294-7"><a href="#cb294-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; File data/NEMO_Nordic_SCOBI/dataset-reanalysis-nemo-monthlymeans_1668587452211.nc (NC_FORMAT_CLASSIC):</span></span>
<span id="cb294-8"><a href="#cb294-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb294-9"><a href="#cb294-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      1 variables (excluding dimension variables):</span></span>
<span id="cb294-10"><a href="#cb294-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         float sob[longitude,latitude,time]   </span></span>
<span id="cb294-11"><a href="#cb294-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             long_name: Sea water salinity at sea floor</span></span>
<span id="cb294-12"><a href="#cb294-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             missing_value: NaN</span></span>
<span id="cb294-13"><a href="#cb294-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             standard_name: sea_water_salinity</span></span>
<span id="cb294-14"><a href="#cb294-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             units: 0.001</span></span>
<span id="cb294-15"><a href="#cb294-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             _FillValue: NaN</span></span>
<span id="cb294-16"><a href="#cb294-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             _ChunkSizes: 1</span></span>
<span id="cb294-17"><a href="#cb294-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              _ChunkSizes: 523</span></span>
<span id="cb294-18"><a href="#cb294-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              _ChunkSizes: 383</span></span>
<span id="cb294-19"><a href="#cb294-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb294-20"><a href="#cb294-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      3 dimensions:</span></span>
<span id="cb294-21"><a href="#cb294-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         time  Size:335 </span></span>
<span id="cb294-22"><a href="#cb294-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             axis: T</span></span>
<span id="cb294-23"><a href="#cb294-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             long_name: Validity time</span></span>
<span id="cb294-24"><a href="#cb294-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             standard_name: time</span></span>
<span id="cb294-25"><a href="#cb294-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             units: days since 1950-01-01 00:00:00</span></span>
<span id="cb294-26"><a href="#cb294-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             calendar: gregorian</span></span>
<span id="cb294-27"><a href="#cb294-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             _ChunkSizes: 512</span></span>
<span id="cb294-28"><a href="#cb294-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             _CoordinateAxisType: Time</span></span>
<span id="cb294-29"><a href="#cb294-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             valid_min: 15751</span></span>
<span id="cb294-30"><a href="#cb294-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             valid_max: 25917.5</span></span>
<span id="cb294-31"><a href="#cb294-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         latitude  Size:187 </span></span>
<span id="cb294-32"><a href="#cb294-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             axis: Y</span></span>
<span id="cb294-33"><a href="#cb294-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             standard_name: latitude</span></span>
<span id="cb294-34"><a href="#cb294-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             long_name: latitude</span></span>
<span id="cb294-35"><a href="#cb294-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             units: degrees_north</span></span>
<span id="cb294-36"><a href="#cb294-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             _CoordinateAxisType: Lat</span></span>
<span id="cb294-37"><a href="#cb294-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             valid_min: 53.1249580383301</span></span>
<span id="cb294-38"><a href="#cb294-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             valid_max: 59.3248596191406</span></span>
<span id="cb294-39"><a href="#cb294-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         longitude  Size:199 </span></span>
<span id="cb294-40"><a href="#cb294-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             standard_name: longitude</span></span>
<span id="cb294-41"><a href="#cb294-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             long_name: longitude</span></span>
<span id="cb294-42"><a href="#cb294-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             units: degrees_east</span></span>
<span id="cb294-43"><a href="#cb294-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             axis: X</span></span>
<span id="cb294-44"><a href="#cb294-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             _CoordinateAxisType: Lon</span></span>
<span id="cb294-45"><a href="#cb294-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             valid_min: 11.1248445510864</span></span>
<span id="cb294-46"><a href="#cb294-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             valid_max: 22.12473487854</span></span>
<span id="cb294-47"><a href="#cb294-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb294-48"><a href="#cb294-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     24 global attributes:</span></span>
<span id="cb294-49"><a href="#cb294-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         references: http://www.smhi.se</span></span>
<span id="cb294-50"><a href="#cb294-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         institution: Swedish Meterological and Hydrological Institute</span></span>
<span id="cb294-51"><a href="#cb294-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         history: See source and creation_date attributees</span></span>
<span id="cb294-52"><a href="#cb294-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         Conventions: CF-1.5</span></span>
<span id="cb294-53"><a href="#cb294-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         contact: servicedesk_cmems@mercator-ocean.eu</span></span>
<span id="cb294-54"><a href="#cb294-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         comment: Provided by SMHI as a Copernicus Marine Environment Monitoring Service production unit</span></span>
<span id="cb294-55"><a href="#cb294-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         bullentin_type: reanalysis</span></span>
<span id="cb294-56"><a href="#cb294-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         cmems_product_id: BALTICSEA_REANALYSIS_PHY_003_011</span></span>
<span id="cb294-57"><a href="#cb294-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         title: CMEMS V4 Reanalysis: NEMO model 3D fields (monthly means)</span></span>
<span id="cb294-58"><a href="#cb294-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         FROM_ORIGINAL_FILE__easternmost_longitude: 30.2357654571533</span></span>
<span id="cb294-59"><a href="#cb294-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         FROM_ORIGINAL_FILE__northernmost_latitude: 65.8914184570312</span></span>
<span id="cb294-60"><a href="#cb294-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         FROM_ORIGINAL_FILE__westernmost_longitude: 9.01375484466553</span></span>
<span id="cb294-61"><a href="#cb294-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         FROM_ORIGINAL_FILE__southernmost_latitude: 48.49169921875</span></span>
<span id="cb294-62"><a href="#cb294-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         shallowest_depth: 1.50136542320251</span></span>
<span id="cb294-63"><a href="#cb294-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         deepest_depth: 711.059204101562</span></span>
<span id="cb294-64"><a href="#cb294-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         source: SMHI reanalysis run NORDIC-NS2_1d_20201201_20201201</span></span>
<span id="cb294-65"><a href="#cb294-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         file_quality_index: 1</span></span>
<span id="cb294-66"><a href="#cb294-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         creation_date: 2021-11-09 UTC</span></span>
<span id="cb294-67"><a href="#cb294-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         bullentin_date: 20201201</span></span>
<span id="cb294-68"><a href="#cb294-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         start_date: 2020-12-01 UTC</span></span>
<span id="cb294-69"><a href="#cb294-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         stop_date: 2020-12-01 UTC</span></span>
<span id="cb294-70"><a href="#cb294-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         start_time: 00:00 UTC</span></span>
<span id="cb294-71"><a href="#cb294-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         stop_time: 00:00 UTC</span></span>
<span id="cb294-72"><a href="#cb294-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         _CoordSysBuilder: ucar.nc2.dataset.conv.CF1Convention</span></span>
<span id="cb294-73"><a href="#cb294-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-74"><a href="#cb294-74" aria-hidden="true" tabindex="-1"></a><span class="co"># Get longitude and latitude</span></span>
<span id="cb294-75"><a href="#cb294-75" aria-hidden="true" tabindex="-1"></a>lon <span class="ot">&lt;-</span> <span class="fu">ncvar_get</span>(ncin,<span class="st">"longitude"</span>)</span>
<span id="cb294-76"><a href="#cb294-76" aria-hidden="true" tabindex="-1"></a>nlon <span class="ot">&lt;-</span> <span class="fu">dim</span>(lon)</span>
<span id="cb294-77"><a href="#cb294-77" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lon)</span>
<span id="cb294-78"><a href="#cb294-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 11.12484 11.18040 11.23596 11.29151 11.34706 11.40262</span></span>
<span id="cb294-79"><a href="#cb294-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-80"><a href="#cb294-80" aria-hidden="true" tabindex="-1"></a>lat <span class="ot">&lt;-</span> <span class="fu">ncvar_get</span>(ncin,<span class="st">"latitude"</span>)</span>
<span id="cb294-81"><a href="#cb294-81" aria-hidden="true" tabindex="-1"></a>nlat <span class="ot">&lt;-</span> <span class="fu">dim</span>(lat)</span>
<span id="cb294-82"><a href="#cb294-82" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lat)</span>
<span id="cb294-83"><a href="#cb294-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 53.12496 53.15829 53.19162 53.22496 53.25829 53.29162</span></span>
<span id="cb294-84"><a href="#cb294-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-85"><a href="#cb294-85" aria-hidden="true" tabindex="-1"></a><span class="co"># Get time</span></span>
<span id="cb294-86"><a href="#cb294-86" aria-hidden="true" tabindex="-1"></a>time <span class="ot">&lt;-</span> <span class="fu">ncvar_get</span>(ncin,<span class="st">"time"</span>)</span>
<span id="cb294-87"><a href="#cb294-87" aria-hidden="true" tabindex="-1"></a>time</span>
<span id="cb294-88"><a href="#cb294-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1] 15751.0 15780.5 15811.0 15841.5 15872.0 15902.5 15933.5 15964.0 15994.5</span></span>
<span id="cb294-89"><a href="#cb294-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [10] 16025.0 16055.5 16086.5 16116.0 16145.5 16176.0 16206.5 16237.0 16267.5</span></span>
<span id="cb294-90"><a href="#cb294-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [19] 16298.5 16329.0 16359.5 16390.0 16420.5 16451.5 16481.0 16510.5 16541.0</span></span>
<span id="cb294-91"><a href="#cb294-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [28] 16571.5 16602.0 16632.5 16663.5 16694.0 16724.5 16755.0 16785.5 16816.5</span></span>
<span id="cb294-92"><a href="#cb294-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [37] 16846.5 16876.5 16907.0 16937.5 16968.0 16998.5 17029.5 17060.0 17090.5</span></span>
<span id="cb294-93"><a href="#cb294-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [46] 17121.0 17151.5 17182.5 17212.0 17241.5 17272.0 17302.5 17333.0 17363.5</span></span>
<span id="cb294-94"><a href="#cb294-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [55] 17394.5 17425.0 17455.5 17486.0 17516.5 17547.5 17577.0 17606.5 17637.0</span></span>
<span id="cb294-95"><a href="#cb294-95" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [64] 17667.5 17698.0 17728.5 17759.5 17790.0 17820.5 17851.0 17881.5 17912.5</span></span>
<span id="cb294-96"><a href="#cb294-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [73] 17942.0 17971.5 18002.0 18032.5 18063.0 18093.5 18124.5 18155.0 18185.5</span></span>
<span id="cb294-97"><a href="#cb294-97" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [82] 18216.0 18246.5 18277.5 18307.5 18337.5 18368.0 18398.5 18429.0 18459.5</span></span>
<span id="cb294-98"><a href="#cb294-98" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [91] 18490.5 18521.0 18551.5 18582.0 18612.5 18643.5 18673.0 18702.5 18733.0</span></span>
<span id="cb294-99"><a href="#cb294-99" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [100] 18763.5 18794.0 18824.5 18855.5 18886.0 18916.5 18947.0 18977.5 19008.5</span></span>
<span id="cb294-100"><a href="#cb294-100" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [109] 19038.0 19067.5 19098.0 19128.5 19159.0 19189.5 19220.5 19251.0 19281.5</span></span>
<span id="cb294-101"><a href="#cb294-101" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [118] 19312.0 19342.5 19373.5 19403.0 19432.5 19463.0 19493.5 19524.0 19554.5</span></span>
<span id="cb294-102"><a href="#cb294-102" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [127] 19585.5 19616.0 19646.5 19677.0 19707.5 19738.5 19768.5 19798.5 19829.0</span></span>
<span id="cb294-103"><a href="#cb294-103" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [136] 19859.5 19890.0 19920.5 19951.5 19982.0 20012.5 20043.0 20073.5 20104.5</span></span>
<span id="cb294-104"><a href="#cb294-104" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [145] 20134.0 20163.5 20194.0 20224.5 20255.0 20285.5 20316.5 20347.0 20377.5</span></span>
<span id="cb294-105"><a href="#cb294-105" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [154] 20408.0 20438.5 20469.5 20499.0 20528.5 20559.0 20589.5 20620.0 20650.5</span></span>
<span id="cb294-106"><a href="#cb294-106" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [163] 20681.5 20712.0 20742.5 20773.0 20803.5 20834.5 20864.0 20893.5 20924.0</span></span>
<span id="cb294-107"><a href="#cb294-107" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [172] 20954.5 20985.0 21015.5 21046.5 21077.0 21107.5 21138.0 21168.5 21199.5</span></span>
<span id="cb294-108"><a href="#cb294-108" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [181] 21229.5 21259.5 21290.0 21320.5 21351.0 21381.5 21412.5 21443.0 21473.5</span></span>
<span id="cb294-109"><a href="#cb294-109" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [190] 21504.0 21534.5 21565.5 21595.0 21624.5 21655.0 21685.5 21716.0 21746.5</span></span>
<span id="cb294-110"><a href="#cb294-110" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [199] 21777.5 21808.0 21838.5 21869.0 21899.5 21930.5 21960.0 21989.5 22020.0</span></span>
<span id="cb294-111"><a href="#cb294-111" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [208] 22050.5 22081.0 22111.5 22142.5 22173.0 22203.5 22234.0 22264.5 22295.5</span></span>
<span id="cb294-112"><a href="#cb294-112" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [217] 22325.0 22354.5 22385.0 22415.5 22446.0 22476.5 22507.5 22538.0 22568.5</span></span>
<span id="cb294-113"><a href="#cb294-113" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [226] 22599.0 22629.5 22660.5 22690.5 22720.5 22751.0 22781.5 22812.0 22842.5</span></span>
<span id="cb294-114"><a href="#cb294-114" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [235] 22873.5 22904.0 22934.5 22965.0 22995.5 23026.5 23056.0 23085.5 23116.0</span></span>
<span id="cb294-115"><a href="#cb294-115" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [244] 23146.5 23177.0 23207.5 23238.5 23269.0 23299.5 23330.0 23360.5 23391.5</span></span>
<span id="cb294-116"><a href="#cb294-116" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [253] 23421.0 23450.5 23481.0 23511.5 23542.0 23572.5 23603.5 23634.0 23664.5</span></span>
<span id="cb294-117"><a href="#cb294-117" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [262] 23695.0 23725.5 23756.5 23786.0 23815.5 23846.0 23876.5 23907.0 23937.5</span></span>
<span id="cb294-118"><a href="#cb294-118" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [271] 23968.5 23999.0 24029.5 24060.0 24090.5 24121.5 24151.5 24181.5 24212.0</span></span>
<span id="cb294-119"><a href="#cb294-119" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [280] 24242.5 24273.0 24303.5 24334.5 24365.0 24395.5 24426.0 24456.5 24487.5</span></span>
<span id="cb294-120"><a href="#cb294-120" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [289] 24517.0 24546.5 24577.0 24607.5 24638.0 24668.5 24699.5 24730.0 24760.5</span></span>
<span id="cb294-121"><a href="#cb294-121" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [298] 24791.0 24821.5 24852.5 24882.0 24911.5 24942.0 24972.5 25003.0 25033.5</span></span>
<span id="cb294-122"><a href="#cb294-122" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [307] 25064.5 25095.0 25125.5 25156.0 25186.5 25217.5 25247.0 25276.5 25307.0</span></span>
<span id="cb294-123"><a href="#cb294-123" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [316] 25337.5 25368.0 25398.5 25429.5 25460.0 25490.5 25521.0 25551.5 25582.5</span></span>
<span id="cb294-124"><a href="#cb294-124" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [325] 25612.5 25642.5 25673.0 25703.5 25734.0 25764.5 25795.5 25826.0 25856.5</span></span>
<span id="cb294-125"><a href="#cb294-125" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [334] 25887.0 25917.5</span></span>
<span id="cb294-126"><a href="#cb294-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-127"><a href="#cb294-127" aria-hidden="true" tabindex="-1"></a>tunits <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="st">"time"</span>,<span class="st">"units"</span>)</span>
<span id="cb294-128"><a href="#cb294-128" aria-hidden="true" tabindex="-1"></a>nt <span class="ot">&lt;-</span> <span class="fu">dim</span>(time)</span>
<span id="cb294-129"><a href="#cb294-129" aria-hidden="true" tabindex="-1"></a>nt</span>
<span id="cb294-130"><a href="#cb294-130" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 335</span></span>
<span id="cb294-131"><a href="#cb294-131" aria-hidden="true" tabindex="-1"></a>tunits</span>
<span id="cb294-132"><a href="#cb294-132" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $hasatt</span></span>
<span id="cb294-133"><a href="#cb294-133" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb294-134"><a href="#cb294-134" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb294-135"><a href="#cb294-135" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $value</span></span>
<span id="cb294-136"><a href="#cb294-136" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "days since 1950-01-01 00:00:00"</span></span>
<span id="cb294-137"><a href="#cb294-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-138"><a href="#cb294-138" aria-hidden="true" tabindex="-1"></a><span class="co"># Get Salinity</span></span>
<span id="cb294-139"><a href="#cb294-139" aria-hidden="true" tabindex="-1"></a>dname <span class="ot">&lt;-</span> <span class="st">"sob"</span></span>
<span id="cb294-140"><a href="#cb294-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-141"><a href="#cb294-141" aria-hidden="true" tabindex="-1"></a>sal_array <span class="ot">&lt;-</span> <span class="fu">ncvar_get</span>(ncin,dname)</span>
<span id="cb294-142"><a href="#cb294-142" aria-hidden="true" tabindex="-1"></a>dlname <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,dname,<span class="st">"long_name"</span>)</span>
<span id="cb294-143"><a href="#cb294-143" aria-hidden="true" tabindex="-1"></a>dunits <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,dname,<span class="st">"units"</span>)</span>
<span id="cb294-144"><a href="#cb294-144" aria-hidden="true" tabindex="-1"></a>fillvalue <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,dname,<span class="st">"_FillValue"</span>)</span>
<span id="cb294-145"><a href="#cb294-145" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(sal_array)</span>
<span id="cb294-146"><a href="#cb294-146" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 199 187 335</span></span>
<span id="cb294-147"><a href="#cb294-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-148"><a href="#cb294-148" aria-hidden="true" tabindex="-1"></a><span class="co"># Get global attributes</span></span>
<span id="cb294-149"><a href="#cb294-149" aria-hidden="true" tabindex="-1"></a>title <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="dv">0</span>,<span class="st">"title"</span>)</span>
<span id="cb294-150"><a href="#cb294-150" aria-hidden="true" tabindex="-1"></a>institution <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="dv">0</span>,<span class="st">"institution"</span>)</span>
<span id="cb294-151"><a href="#cb294-151" aria-hidden="true" tabindex="-1"></a>datasource <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="dv">0</span>,<span class="st">"source"</span>)</span>
<span id="cb294-152"><a href="#cb294-152" aria-hidden="true" tabindex="-1"></a>references <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="dv">0</span>,<span class="st">"references"</span>)</span>
<span id="cb294-153"><a href="#cb294-153" aria-hidden="true" tabindex="-1"></a>history <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="dv">0</span>,<span class="st">"history"</span>)</span>
<span id="cb294-154"><a href="#cb294-154" aria-hidden="true" tabindex="-1"></a>Conventions <span class="ot">&lt;-</span> <span class="fu">ncatt_get</span>(ncin,<span class="dv">0</span>,<span class="st">"Conventions"</span>)</span>
<span id="cb294-155"><a href="#cb294-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-156"><a href="#cb294-156" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert time: split the time units string into fields</span></span>
<span id="cb294-157"><a href="#cb294-157" aria-hidden="true" tabindex="-1"></a>tustr <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(tunits<span class="sc">$</span>value, <span class="st">" "</span>)</span>
<span id="cb294-158"><a href="#cb294-158" aria-hidden="true" tabindex="-1"></a>tdstr <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(<span class="fu">unlist</span>(tustr)[<span class="dv">3</span>], <span class="st">"-"</span>)</span>
<span id="cb294-159"><a href="#cb294-159" aria-hidden="true" tabindex="-1"></a>tmonth <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="fu">unlist</span>(tdstr)[<span class="dv">2</span>])</span>
<span id="cb294-160"><a href="#cb294-160" aria-hidden="true" tabindex="-1"></a>tday <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="fu">unlist</span>(tdstr)[<span class="dv">3</span>])</span>
<span id="cb294-161"><a href="#cb294-161" aria-hidden="true" tabindex="-1"></a>tyear <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="fu">unlist</span>(tdstr)[<span class="dv">1</span>])</span>
<span id="cb294-162"><a href="#cb294-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-163"><a href="#cb294-163" aria-hidden="true" tabindex="-1"></a><span class="co"># Here I deviate from the guide a little bit. Save this info:</span></span>
<span id="cb294-164"><a href="#cb294-164" aria-hidden="true" tabindex="-1"></a>dates <span class="ot">&lt;-</span> <span class="fu">chron</span>(time, <span class="at">origin =</span> <span class="fu">c</span>(tmonth, tday, tyear))</span>
<span id="cb294-165"><a href="#cb294-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-166"><a href="#cb294-166" aria-hidden="true" tabindex="-1"></a><span class="co"># Crop the date variable</span></span>
<span id="cb294-167"><a href="#cb294-167" aria-hidden="true" tabindex="-1"></a>months <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">substr</span>(dates, <span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb294-168"><a href="#cb294-168" aria-hidden="true" tabindex="-1"></a>years <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">substr</span>(dates, <span class="dv">8</span>, <span class="dv">9</span>))</span>
<span id="cb294-169"><a href="#cb294-169" aria-hidden="true" tabindex="-1"></a>years <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(years <span class="sc">&gt;</span> <span class="dv">90</span>, <span class="dv">1900</span> <span class="sc">+</span> years, <span class="dv">2000</span> <span class="sc">+</span> years)</span>
<span id="cb294-170"><a href="#cb294-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-171"><a href="#cb294-171" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace netCDF fill values with NA's</span></span>
<span id="cb294-172"><a href="#cb294-172" aria-hidden="true" tabindex="-1"></a>sal_array[sal_array <span class="sc">==</span> fillvalue<span class="sc">$</span>value] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb294-173"><a href="#cb294-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-174"><a href="#cb294-174" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through all "dates", put into a list </span></span>
<span id="cb294-175"><a href="#cb294-175" aria-hidden="true" tabindex="-1"></a>dlist <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb294-176"><a href="#cb294-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-177"><a href="#cb294-177" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(months)) {</span>
<span id="cb294-178"><a href="#cb294-178" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb294-179"><a href="#cb294-179" aria-hidden="true" tabindex="-1"></a>  sal_sub <span class="ot">&lt;-</span> sal_array[, , i]</span>
<span id="cb294-180"><a href="#cb294-180" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb294-181"><a href="#cb294-181" aria-hidden="true" tabindex="-1"></a>  dlist[[i]] <span class="ot">&lt;-</span> sal_sub</span>
<span id="cb294-182"><a href="#cb294-182" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb294-183"><a href="#cb294-183" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb294-184"><a href="#cb294-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-185"><a href="#cb294-185" aria-hidden="true" tabindex="-1"></a><span class="co"># Name the list</span></span>
<span id="cb294-186"><a href="#cb294-186" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dlist) <span class="ot">&lt;-</span> <span class="fu">paste</span>(months, years, <span class="at">sep =</span> <span class="st">"_"</span>)</span>
<span id="cb294-187"><a href="#cb294-187" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dlist)</span>
<span id="cb294-188"><a href="#cb294-188" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; List of 335</span></span>
<span id="cb294-189"><a href="#cb294-189" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1993 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-190"><a href="#cb294-190" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1993 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-191"><a href="#cb294-191" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1993 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-192"><a href="#cb294-192" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1993 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-193"><a href="#cb294-193" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1993 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-194"><a href="#cb294-194" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1993 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-195"><a href="#cb294-195" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1993 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-196"><a href="#cb294-196" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1993 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-197"><a href="#cb294-197" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1993: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-198"><a href="#cb294-198" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1993: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-199"><a href="#cb294-199" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1993: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-200"><a href="#cb294-200" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1994 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-201"><a href="#cb294-201" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1994 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-202"><a href="#cb294-202" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1994 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-203"><a href="#cb294-203" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1994 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-204"><a href="#cb294-204" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1994 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-205"><a href="#cb294-205" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1994 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-206"><a href="#cb294-206" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1994 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-207"><a href="#cb294-207" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1994 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-208"><a href="#cb294-208" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1994 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-209"><a href="#cb294-209" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1994: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-210"><a href="#cb294-210" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1994: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-211"><a href="#cb294-211" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1994: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-212"><a href="#cb294-212" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1995 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-213"><a href="#cb294-213" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1995 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-214"><a href="#cb294-214" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1995 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-215"><a href="#cb294-215" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1995 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-216"><a href="#cb294-216" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1995 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-217"><a href="#cb294-217" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1995 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-218"><a href="#cb294-218" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1995 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-219"><a href="#cb294-219" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1995 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-220"><a href="#cb294-220" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1995 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-221"><a href="#cb294-221" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1995: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-222"><a href="#cb294-222" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1995: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-223"><a href="#cb294-223" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1995: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-224"><a href="#cb294-224" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1996 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-225"><a href="#cb294-225" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1996 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-226"><a href="#cb294-226" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1996 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-227"><a href="#cb294-227" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1996 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-228"><a href="#cb294-228" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1996 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-229"><a href="#cb294-229" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1996 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-230"><a href="#cb294-230" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1996 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-231"><a href="#cb294-231" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1996 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-232"><a href="#cb294-232" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1996 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-233"><a href="#cb294-233" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1996: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-234"><a href="#cb294-234" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1996: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-235"><a href="#cb294-235" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1996: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-236"><a href="#cb294-236" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1997 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-237"><a href="#cb294-237" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1997 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-238"><a href="#cb294-238" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1997 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-239"><a href="#cb294-239" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1997 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-240"><a href="#cb294-240" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1997 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-241"><a href="#cb294-241" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1997 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-242"><a href="#cb294-242" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1997 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-243"><a href="#cb294-243" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1997 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-244"><a href="#cb294-244" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1997 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-245"><a href="#cb294-245" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1997: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-246"><a href="#cb294-246" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1997: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-247"><a href="#cb294-247" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1997: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-248"><a href="#cb294-248" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1998 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-249"><a href="#cb294-249" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1998 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-250"><a href="#cb294-250" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1998 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-251"><a href="#cb294-251" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1998 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-252"><a href="#cb294-252" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1998 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-253"><a href="#cb294-253" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1998 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-254"><a href="#cb294-254" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1998 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-255"><a href="#cb294-255" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1998 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-256"><a href="#cb294-256" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1998 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-257"><a href="#cb294-257" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1998: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-258"><a href="#cb294-258" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1998: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-259"><a href="#cb294-259" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1998: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-260"><a href="#cb294-260" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_1999 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-261"><a href="#cb294-261" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_1999 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-262"><a href="#cb294-262" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_1999 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-263"><a href="#cb294-263" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_1999 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-264"><a href="#cb294-264" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_1999 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-265"><a href="#cb294-265" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_1999 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-266"><a href="#cb294-266" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_1999 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-267"><a href="#cb294-267" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_1999 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-268"><a href="#cb294-268" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_1999 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-269"><a href="#cb294-269" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_1999: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-270"><a href="#cb294-270" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_1999: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-271"><a href="#cb294-271" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_1999: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-272"><a href="#cb294-272" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_2000 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-273"><a href="#cb294-273" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_2000 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-274"><a href="#cb294-274" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_2000 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-275"><a href="#cb294-275" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_2000 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-276"><a href="#cb294-276" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 5_2000 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-277"><a href="#cb294-277" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 6_2000 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-278"><a href="#cb294-278" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 7_2000 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-279"><a href="#cb294-279" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 8_2000 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-280"><a href="#cb294-280" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 9_2000 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-281"><a href="#cb294-281" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 10_2000: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-282"><a href="#cb294-282" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 11_2000: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-283"><a href="#cb294-283" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 12_2000: num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-284"><a href="#cb294-284" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 1_2001 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-285"><a href="#cb294-285" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 2_2001 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-286"><a href="#cb294-286" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 3_2001 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-287"><a href="#cb294-287" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ 4_2001 : num [1:199, 1:187] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...</span></span>
<span id="cb294-288"><a href="#cb294-288" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [list output truncated]</span></span>
<span id="cb294-289"><a href="#cb294-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-290"><a href="#cb294-290" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data holding object</span></span>
<span id="cb294-291"><a href="#cb294-291" aria-hidden="true" tabindex="-1"></a>sal_data_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb294-292"><a href="#cb294-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-293"><a href="#cb294-293" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each month_year and extract raster values for the cpue data points</span></span>
<span id="cb294-294"><a href="#cb294-294" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">unique</span>(dat_haul<span class="sc">$</span>month_year)) { <span class="co"># We can use q1 as looping index, doesn't matter!</span></span>
<span id="cb294-295"><a href="#cb294-295" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb294-296"><a href="#cb294-296" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set plot limits</span></span>
<span id="cb294-297"><a href="#cb294-297" aria-hidden="true" tabindex="-1"></a>  ymin <span class="ot">=</span> <span class="dv">54</span>; ymax <span class="ot">=</span> <span class="dv">58</span>; xmin <span class="ot">=</span> <span class="dv">12</span>; xmax <span class="ot">=</span> <span class="dv">22</span></span>
<span id="cb294-298"><a href="#cb294-298" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb294-299"><a href="#cb294-299" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Subset a month-year combination</span></span>
<span id="cb294-300"><a href="#cb294-300" aria-hidden="true" tabindex="-1"></a>  sal_slice <span class="ot">&lt;-</span> dlist[[i]]</span>
<span id="cb294-301"><a href="#cb294-301" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb294-302"><a href="#cb294-302" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create raster for that year (i)</span></span>
<span id="cb294-303"><a href="#cb294-303" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="fu">t</span>(sal_slice), <span class="at">xmn =</span> <span class="fu">min</span>(lon), <span class="at">xmx =</span> <span class="fu">max</span>(lon), <span class="at">ymn =</span> <span class="fu">min</span>(lat), <span class="at">ymx =</span> <span class="fu">max</span>(lat),</span>
<span id="cb294-304"><a href="#cb294-304" aria-hidden="true" tabindex="-1"></a>              <span class="at">crs =</span> <span class="fu">CRS</span>(<span class="st">"+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs+ towgs84=0,0,0"</span>))</span>
<span id="cb294-305"><a href="#cb294-305" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb294-306"><a href="#cb294-306" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Flip...</span></span>
<span id="cb294-307"><a href="#cb294-307" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">&lt;-</span> <span class="fu">flip</span>(r, <span class="at">direction =</span> <span class="st">'y'</span>)</span>
<span id="cb294-308"><a href="#cb294-308" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb294-309"><a href="#cb294-309" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(r, <span class="at">main =</span> <span class="fu">paste</span>(i), <span class="at">ylim =</span> <span class="fu">c</span>(ymin, ymax), <span class="at">xlim =</span> <span class="fu">c</span>(xmin, xmax))</span>
<span id="cb294-310"><a href="#cb294-310" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb294-311"><a href="#cb294-311" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter the same year (i) in the cpue data and select only coordinates</span></span>
<span id="cb294-312"><a href="#cb294-312" aria-hidden="true" tabindex="-1"></a>  d_slice <span class="ot">&lt;-</span> dat_haul <span class="sc">%&gt;%</span> <span class="fu">filter</span>(month_year <span class="sc">==</span> i) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(lon, lat)</span>
<span id="cb294-313"><a href="#cb294-313" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb294-314"><a href="#cb294-314" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make into a SpatialPoints object</span></span>
<span id="cb294-315"><a href="#cb294-315" aria-hidden="true" tabindex="-1"></a>  data_sp <span class="ot">&lt;-</span> <span class="fu">SpatialPoints</span>(d_slice)</span>
<span id="cb294-316"><a href="#cb294-316" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb294-317"><a href="#cb294-317" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract raster value (oxygen)</span></span>
<span id="cb294-318"><a href="#cb294-318" aria-hidden="true" tabindex="-1"></a>  rasValue <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">extract</span>(r, data_sp)</span>
<span id="cb294-319"><a href="#cb294-319" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb294-320"><a href="#cb294-320" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Now we want to plot the results of the raster extractions by plotting the cpue data points over a raster and saving it for each year.</span></span>
<span id="cb294-321"><a href="#cb294-321" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make the SpatialPoints object into a raster again (for plot)</span></span>
<span id="cb294-322"><a href="#cb294-322" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(data_sp)</span>
<span id="cb294-323"><a href="#cb294-323" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb294-324"><a href="#cb294-324" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add in the raster value in the df holding the coordinates for the cpue data</span></span>
<span id="cb294-325"><a href="#cb294-325" aria-hidden="true" tabindex="-1"></a>  d_slice<span class="sc">$</span>sal <span class="ot">&lt;-</span> rasValue</span>
<span id="cb294-326"><a href="#cb294-326" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb294-327"><a href="#cb294-327" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add in which year</span></span>
<span id="cb294-328"><a href="#cb294-328" aria-hidden="true" tabindex="-1"></a>  d_slice<span class="sc">$</span>month_year <span class="ot">&lt;-</span> i</span>
<span id="cb294-329"><a href="#cb294-329" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb294-330"><a href="#cb294-330" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add each years' data in the list</span></span>
<span id="cb294-331"><a href="#cb294-331" aria-hidden="true" tabindex="-1"></a>  sal_data_list[[i]] <span class="ot">&lt;-</span> d_slice</span>
<span id="cb294-332"><a href="#cb294-332" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb294-333"><a href="#cb294-333" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb294-334"><a href="#cb294-334" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; filter: removed 9,312 rows (99%), 61 rows remaining</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,333 rows (&gt;99%), 40 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,355 rows (&gt;99%), 18 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,357 rows (&gt;99%), 16 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,328 rows (&gt;99%), 45 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,310 rows (99%), 63 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-6.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,341 rows (&gt;99%), 32 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-7.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,293 rows (99%), 80 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-8.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,362 rows (&gt;99%), 11 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-9.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,311 rows (99%), 62 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-10.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,256 rows (99%), 117 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-11.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,336 rows (&gt;99%), 37 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-12.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,352 rows (&gt;99%), 21 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-13.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,348 rows (&gt;99%), 25 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-14.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,345 rows (&gt;99%), 28 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-15.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,292 rows (99%), 81 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-16.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,325 rows (99%), 48 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-17.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,319 rows (99%), 54 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-18.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,354 rows (&gt;99%), 19 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-19.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,328 rows (&gt;99%), 45 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-20.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,357 rows (&gt;99%), 16 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-21.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,318 rows (99%), 55 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-22.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,303 rows (99%), 70 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-23.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,284 rows (99%), 89 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-24.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,358 rows (&gt;99%), 15 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-25.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,303 rows (99%), 70 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-26.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,368 rows (&gt;99%), 5 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-27.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,306 rows (99%), 67 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-28.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,265 rows (99%), 108 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-29.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,320 rows (99%), 53 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-30.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,357 rows (&gt;99%), 16 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-31.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,324 rows (99%), 49 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-32.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,354 rows (&gt;99%), 19 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-33.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,264 rows (99%), 109 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-34.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,292 rows (99%), 81 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-35.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,361 rows (&gt;99%), 12 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-36.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,284 rows (99%), 89 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-37.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,368 rows (&gt;99%), 5 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-38.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,309 rows (99%), 64 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-39.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,327 rows (&gt;99%), 46 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-40.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,284 rows (99%), 89 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-41.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,247 rows (99%), 126 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-42.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,291 rows (99%), 82 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-43.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,257 rows (99%), 116 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-44.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,280 rows (99%), 93 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-45.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,321 rows (99%), 52 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-46.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,267 rows (99%), 106 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-47.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,362 rows (&gt;99%), 11 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-48.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,268 rows (99%), 105 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-49.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,317 rows (99%), 56 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-50.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,256 rows (99%), 117 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-51.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,362 rows (&gt;99%), 11 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-52.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,239 rows (99%), 134 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-53.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,300 rows (99%), 73 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-54.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,297 rows (99%), 76 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-55.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,340 rows (&gt;99%), 33 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-56.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,232 rows (98%), 141 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-57.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,296 rows (99%), 77 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-58.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,247 rows (99%), 126 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-59.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,350 rows (&gt;99%), 23 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-60.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,371 rows (&gt;99%), 2 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-61.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,258 rows (99%), 115 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-62.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,300 rows (99%), 73 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-63.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,262 rows (99%), 111 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-64.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,348 rows (&gt;99%), 25 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-65.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,359 rows (&gt;99%), 14 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-66.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,243 rows (99%), 130 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-67.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,268 rows (99%), 105 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-68.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,234 rows (99%), 139 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-69.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,354 rows (&gt;99%), 19 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-70.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,362 rows (&gt;99%), 11 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-71.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,253 rows (99%), 120 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-72.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,271 rows (99%), 102 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-73.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,244 rows (99%), 129 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-74.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,356 rows (&gt;99%), 17 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-75.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,343 rows (&gt;99%), 30 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-76.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,225 rows (98%), 148 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-77.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,262 rows (99%), 111 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-78.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,230 rows (98%), 143 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-79.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,365 rows (&gt;99%), 8 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-80.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,344 rows (&gt;99%), 29 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-81.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,233 rows (99%), 140 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-82.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,273 rows (99%), 100 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-83.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,236 rows (99%), 137 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-84.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,348 rows (&gt;99%), 25 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-85.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,211 rows (98%), 162 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-86.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,292 rows (99%), 81 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-87.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,244 rows (99%), 129 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-88.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,341 rows (&gt;99%), 32 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-89.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,354 rows (&gt;99%), 19 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-90.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,291 rows (99%), 82 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-91.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,231 rows (98%), 142 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-92.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,358 rows (&gt;99%), 15 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-93.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,280 rows (99%), 93 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-94.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,348 rows (&gt;99%), 25 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-95.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,235 rows (99%), 138 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-96.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,243 rows (99%), 130 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-97.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,253 rows (99%), 120 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-98.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,360 rows (&gt;99%), 13 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-99.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,358 rows (&gt;99%), 15 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-100.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,221 rows (98%), 152 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-101.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,317 rows (99%), 56 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-102.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,247 rows (99%), 126 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-103.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,339 rows (&gt;99%), 34 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-104.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,357 rows (&gt;99%), 16 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-105.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,214 rows (98%), 159 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-106.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,295 rows (99%), 78 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-107.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,224 rows (98%), 149 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-108.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,356 rows (&gt;99%), 17 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-109.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,281 rows (99%), 92 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-110.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,233 rows (99%), 140 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-111.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,189 rows (98%), 184 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-112.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,359 rows (&gt;99%), 14 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-113.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,358 rows (&gt;99%), 15 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-114.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,243 rows (99%), 130 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-115.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,258 rows (99%), 115 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-116.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,188 rows (98%), 185 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-117.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,348 rows (&gt;99%), 25 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-118.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,358 rows (&gt;99%), 15 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-119.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,220 rows (98%), 153 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-120.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,270 rows (99%), 103 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-121.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,194 rows (98%), 179 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-122.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,342 rows (&gt;99%), 31 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-123.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,314 rows (99%), 59 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-124.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,314 rows (99%), 59 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-125.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,281 rows (99%), 92 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-126.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,322 rows (99%), 51 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-127.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,298 rows (99%), 75 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-128.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,353 rows (&gt;99%), 20 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-129.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<pre><code>#&gt; filter: removed 9,291 rows (99%), 82 rows remaining</code></pre>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-18-130.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb424"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb424-1"><a href="#cb424-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb424-2"><a href="#cb424-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Now create a data frame from the list of all annual values</span></span>
<span id="cb424-3"><a href="#cb424-3" aria-hidden="true" tabindex="-1"></a>big_dat_sal <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(sal_data_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb425"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb425-1"><a href="#cb425-1" aria-hidden="true" tabindex="-1"></a>env_dat <span class="ot">&lt;-</span> <span class="fu">left_join</span>(big_dat_oxy, big_dat_temp, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"month_year"</span>, <span class="st">"lon"</span>, <span class="st">"lat"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb425-2"><a href="#cb425-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(big_dat_sal, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"month_year"</span>, <span class="st">"lon"</span>, <span class="st">"lat"</span>))</span>
<span id="cb425-3"><a href="#cb425-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; left_join: added one column (temp)</span></span>
<span id="cb425-4"><a href="#cb425-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt; rows only in x       0</span></span>
<span id="cb425-5"><a href="#cb425-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt; rows only in y  (    0)</span></span>
<span id="cb425-6"><a href="#cb425-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt; matched rows     9,437    (includes duplicates)</span></span>
<span id="cb425-7"><a href="#cb425-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt;                 =======</span></span>
<span id="cb425-8"><a href="#cb425-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt; rows total       9,437</span></span>
<span id="cb425-9"><a href="#cb425-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; left_join: added one column (sal)</span></span>
<span id="cb425-10"><a href="#cb425-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt; rows only in x       0</span></span>
<span id="cb425-11"><a href="#cb425-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt; rows only in y  (    0)</span></span>
<span id="cb425-12"><a href="#cb425-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt; matched rows     9,601    (includes duplicates)</span></span>
<span id="cb425-13"><a href="#cb425-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt;                 =======</span></span>
<span id="cb425-14"><a href="#cb425-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt; rows total       9,601</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="depth" class="level4">
<h4 class="anchored" data-anchor-id="depth">Depth</h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb426"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb426-1"><a href="#cb426-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Only use unique locations and then left_join else it will take forever</span></span>
<span id="cb426-2"><a href="#cb426-2" aria-hidden="true" tabindex="-1"></a><span class="co"># https://gis.stackexchange.com/questions/411261/read-multiple-layers-raster-from-ncdf-file-using-terra-package</span></span>
<span id="cb426-3"><a href="#cb426-3" aria-hidden="true" tabindex="-1"></a><span class="co"># https://emodnet.ec.europa.eu/geoviewer/</span></span>
<span id="cb426-4"><a href="#cb426-4" aria-hidden="true" tabindex="-1"></a>dep_raster <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rast</span>(<span class="st">"data/Mean depth natural colour (with land).nc"</span>)</span>
<span id="cb426-5"><a href="#cb426-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb426-6"><a href="#cb426-6" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(dep_raster)</span>
<span id="cb426-7"><a href="#cb426-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "SpatRaster"</span></span>
<span id="cb426-8"><a href="#cb426-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; attr(,"package")</span></span>
<span id="cb426-9"><a href="#cb426-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "terra"</span></span>
<span id="cb426-10"><a href="#cb426-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(dep_raster)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb427"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb427-1"><a href="#cb427-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb427-2"><a href="#cb427-2" aria-hidden="true" tabindex="-1"></a>env_dat<span class="sc">$</span>depth <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">extract</span>(dep_raster, env_dat <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(lon, lat))<span class="sc">$</span>elevation</span>
<span id="cb427-3"><a href="#cb427-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb427-4"><a href="#cb427-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(env_dat, <span class="fu">aes</span>(lon, lat, <span class="at">color =</span> depth<span class="sc">*-</span><span class="dv">1</span>)) <span class="sc">+</span> </span>
<span id="cb427-5"><a href="#cb427-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb427-6"><a href="#cb427-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis</span>(<span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-19-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb428"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb428-1"><a href="#cb428-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb428-2"><a href="#cb428-2" aria-hidden="true" tabindex="-1"></a>env_dat<span class="sc">$</span>depth <span class="ot">&lt;-</span> env_dat<span class="sc">$</span>depth<span class="sc">*-</span><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="substrate" class="level4">
<h4 class="anchored" data-anchor-id="substrate">Substrate</h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb429"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb429-1"><a href="#cb429-1" aria-hidden="true" tabindex="-1"></a>substrate <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rast</span>(<span class="st">"data/substrate_tif/BALANCE_SEABED_SEDIMENT.tif"</span>)</span>
<span id="cb429-2"><a href="#cb429-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb429-3"><a href="#cb429-3" aria-hidden="true" tabindex="-1"></a>newcrs <span class="ot">&lt;-</span> <span class="st">"+proj=longlat +datum=WGS84"</span></span>
<span id="cb429-4"><a href="#cb429-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb429-5"><a href="#cb429-5" aria-hidden="true" tabindex="-1"></a>substrate_longlat <span class="ot">=</span> terra<span class="sc">::</span><span class="fu">project</span>(substrate, newcrs)</span>
<span id="cb429-6"><a href="#cb429-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb429-7"><a href="#cb429-7" aria-hidden="true" tabindex="-1"></a><span class="sc">|---------</span><span class="er">|</span><span class="sc">---------</span><span class="er">|</span><span class="sc">---------</span><span class="er">|</span><span class="sc">---------</span><span class="er">|</span></span>
<span id="cb429-8"><a href="#cb429-8" aria-hidden="true" tabindex="-1"></a><span class="er">=========================================</span></span>
<span id="cb429-9"><a href="#cb429-9" aria-hidden="true" tabindex="-1"></a>                                          </span>
<span id="cb429-10"><a href="#cb429-10" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb429-11"><a href="#cb429-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(substrate_longlat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb430"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb430-1"><a href="#cb430-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb430-2"><a href="#cb430-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Now extract the values from the saduria raster to dat</span></span>
<span id="cb430-3"><a href="#cb430-3" aria-hidden="true" tabindex="-1"></a>env_dat<span class="sc">$</span>substrate <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">extract</span>(substrate_longlat, env_dat <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(lon, lat))<span class="sc">$</span>BALANCE_SEABED_SEDIMENT</span>
<span id="cb430-4"><a href="#cb430-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb430-5"><a href="#cb430-5" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(env_dat<span class="sc">$</span>substrate)</span>
<span id="cb430-6"><a href="#cb430-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1] 3.000000 5.000000 4.607636 4.000000 4.779311 4.359100 1.110664 4.728520</span></span>
<span id="cb430-7"><a href="#cb430-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [9] 5.000000 2.000000 2.470703 4.351443 3.000000 4.864107 3.000000 3.894708</span></span>
<span id="cb430-8"><a href="#cb430-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [17] 5.000000 3.214844 4.707845 4.976345 4.872211 2.723600 3.053204 4.000000</span></span>
<span id="cb430-9"><a href="#cb430-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [25] 4.976247 4.023339 4.944880 1.853271 3.557861 3.641602 1.742188 4.934251</span></span>
<span id="cb430-10"><a href="#cb430-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [33] 3.504555 4.148682 2.459351 3.491168 4.043431 4.264687 2.022461 4.526637</span></span>
<span id="cb430-11"><a href="#cb430-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [41] 3.518188 4.215216 3.563724 4.019463 4.148218 4.796279 4.092285 4.233887</span></span>
<span id="cb430-12"><a href="#cb430-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [49] 4.034148 4.524918 3.006960 1.000000 3.984532 4.779660 3.556641 3.883789</span></span>
<span id="cb430-13"><a href="#cb430-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [57] 3.368164 4.366821 3.789307 2.204068 4.218385 4.764853 3.910774 4.375366</span></span>
<span id="cb430-14"><a href="#cb430-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [65] 3.954736 4.810412 3.248259 3.000990 3.828052 4.145152 3.182086 4.372962</span></span>
<span id="cb430-15"><a href="#cb430-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [73] 4.393266 4.510828 4.407255 4.060577 4.591309 4.515137 2.012702 4.804206</span></span>
<span id="cb430-16"><a href="#cb430-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [81] 4.486376 2.143023 4.662720 4.989411 3.129375 3.905518 4.866142 2.066101</span></span>
<span id="cb430-17"><a href="#cb430-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [89] 4.994213 4.700178 3.146973 3.767395 4.574670 2.643799 3.198730 3.056846</span></span>
<span id="cb430-18"><a href="#cb430-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [97] 4.027684 2.301880 3.068066 3.824422 3.394202 4.254517 3.237824 3.459106</span></span>
<span id="cb430-19"><a href="#cb430-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [105] 3.871704 4.610733 2.901898 3.250610 3.200195 4.122253 4.936279 4.024536</span></span>
<span id="cb430-20"><a href="#cb430-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [113] 4.425537 3.823486 3.871968 3.274966 4.015574 2.624084 4.437500 3.615677</span></span>
<span id="cb430-21"><a href="#cb430-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [121] 2.860229 4.183366 3.651196 4.161257 2.682129 3.646223 4.273810 4.752747</span></span>
<span id="cb430-22"><a href="#cb430-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [129] 3.509888 2.802612 2.922119 3.007468 2.654419 4.850040 4.795102 3.044122</span></span>
<span id="cb430-23"><a href="#cb430-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [137] 3.306580 3.204886 3.724289 2.485703 3.905762 4.006656 3.715088 4.724897</span></span>
<span id="cb430-24"><a href="#cb430-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [145] 2.797852 4.000583 4.405457 3.577386 2.957503 3.102914 4.783569 4.237061</span></span>
<span id="cb430-25"><a href="#cb430-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [153] 4.263243 4.981248 2.809082 3.253357 2.681559 4.828800 2.000211 2.161987</span></span>
<span id="cb430-26"><a href="#cb430-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [161] 3.538526 3.427787 3.894775 4.102916 4.715175 4.379732 4.792236 3.262914</span></span>
<span id="cb430-27"><a href="#cb430-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [169] 3.963135 3.423243 3.989368 2.520423 4.522637 3.367528 4.985679 3.662964</span></span>
<span id="cb430-28"><a href="#cb430-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [177] 4.541504 3.825715 2.859985 4.154485 2.933125 2.376878 4.817139 2.986707</span></span>
<span id="cb430-29"><a href="#cb430-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [185] 2.224887 3.089713 3.643951 4.754215 4.354980 4.196102 3.126221 4.084546</span></span>
<span id="cb430-30"><a href="#cb430-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [193] 4.636963 3.747553 4.144173 4.733932 4.726685 4.707332 4.076108 3.766113</span></span>
<span id="cb430-31"><a href="#cb430-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [201] 2.564980 4.755586 3.564939 3.974121 4.763381 2.087940 4.995117 3.902588</span></span>
<span id="cb430-32"><a href="#cb430-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [209] 3.892326 3.376036 3.117357</span></span>
<span id="cb430-33"><a href="#cb430-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb430-34"><a href="#cb430-34" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(<span class="fu">sort</span>(<span class="fu">unique</span>(<span class="fu">round</span>(env_dat<span class="sc">$</span>substrate))))</span>
<span id="cb430-35"><a href="#cb430-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 4 5</span></span>
<span id="cb430-36"><a href="#cb430-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: 1 2 3 4 5</span></span>
<span id="cb430-37"><a href="#cb430-37" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb430-38"><a href="#cb430-38" aria-hidden="true" tabindex="-1"></a>env_dat<span class="sc">$</span>substrate <span class="ot">&lt;-</span> <span class="fu">round</span>(env_dat<span class="sc">$</span>substrate)</span>
<span id="cb430-39"><a href="#cb430-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb430-40"><a href="#cb430-40" aria-hidden="true" tabindex="-1"></a>env_dat <span class="ot">&lt;-</span> env_dat <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">substrate =</span> <span class="fu">ifelse</span>(substrate <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"bedrock"</span>, substrate),</span>
<span id="cb430-41"><a href="#cb430-41" aria-hidden="true" tabindex="-1"></a>                              <span class="at">substrate =</span> <span class="fu">ifelse</span>(substrate <span class="sc">==</span> <span class="dv">2</span>, <span class="st">"hard-bottom complex"</span>,</span>
<span id="cb430-42"><a href="#cb430-42" aria-hidden="true" tabindex="-1"></a>                                                 substrate),</span>
<span id="cb430-43"><a href="#cb430-43" aria-hidden="true" tabindex="-1"></a>                              <span class="at">substrate =</span> <span class="fu">ifelse</span>(substrate <span class="sc">==</span> <span class="dv">3</span>, <span class="st">"sand"</span>, substrate),</span>
<span id="cb430-44"><a href="#cb430-44" aria-hidden="true" tabindex="-1"></a>                              <span class="at">substrate =</span> <span class="fu">ifelse</span>(substrate <span class="sc">==</span> <span class="dv">4</span>, <span class="st">"hard clay"</span>, substrate),</span>
<span id="cb430-45"><a href="#cb430-45" aria-hidden="true" tabindex="-1"></a>                              <span class="at">substrate =</span> <span class="fu">ifelse</span>(substrate <span class="sc">==</span> <span class="dv">5</span>, <span class="st">"mud"</span>, substrate))</span>
<span id="cb430-46"><a href="#cb430-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; mutate: converted 'substrate' from double to character (0 new NA)</span></span>
<span id="cb430-47"><a href="#cb430-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb430-48"><a href="#cb430-48" aria-hidden="true" tabindex="-1"></a><span class="co"># I. Bedrock.</span></span>
<span id="cb430-49"><a href="#cb430-49" aria-hidden="true" tabindex="-1"></a><span class="co"># II. Hard bottom complex, includes patchy hard surfaces and coarse sand (sometimes also clay) to boulders.</span></span>
<span id="cb430-50"><a href="#cb430-50" aria-hidden="true" tabindex="-1"></a><span class="co"># III. Sand including fine to coarse sand (with gravel exposures).</span></span>
<span id="cb430-51"><a href="#cb430-51" aria-hidden="true" tabindex="-1"></a><span class="co"># IV. Hard clay sometimes/often/possibly exposed or covered with a thin layer of sand/gravel.</span></span>
<span id="cb430-52"><a href="#cb430-52" aria-hidden="true" tabindex="-1"></a><span class="co"># V. Mud including gyttja-clay to gyttja-silt.</span></span>
<span id="cb430-53"><a href="#cb430-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb430-54"><a href="#cb430-54" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb430-55"><a href="#cb430-55" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(env_dat, <span class="fu">aes</span>(lon, lat, <span class="at">color =</span> substrate)) <span class="sc">+</span></span>
<span id="cb430-56"><a href="#cb430-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-collate-cpue-data-exchange_files/figure-html/unnamed-chunk-20-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb431"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb431-1"><a href="#cb431-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Now join these data with the full_dat</span></span>
<span id="cb431-2"><a href="#cb431-2" aria-hidden="true" tabindex="-1"></a>dat_full <span class="ot">&lt;-</span> <span class="fu">left_join</span>(dat, env_dat, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"month_year"</span>, <span class="st">"lon"</span>, <span class="st">"lat"</span>))</span>
<span id="cb431-3"><a href="#cb431-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; left_join: added 5 columns (oxy, temp, sal, depth, substrate)</span></span>
<span id="cb431-4"><a href="#cb431-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt; rows only in x           0</span></span>
<span id="cb431-5"><a href="#cb431-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt; rows only in y  (        0)</span></span>
<span id="cb431-6"><a href="#cb431-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt; matched rows     1,287,808    (includes duplicates)</span></span>
<span id="cb431-7"><a href="#cb431-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt;                 ===========</span></span>
<span id="cb431-8"><a href="#cb431-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            &gt; rows total       1,287,808</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="add-utm-coords" class="level2">
<h2 class="anchored" data-anchor-id="add-utm-coords">Add UTM coords</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb432"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb432-1"><a href="#cb432-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add UTM coords</span></span>
<span id="cb432-2"><a href="#cb432-2" aria-hidden="true" tabindex="-1"></a>utm_coords <span class="ot">&lt;-</span> <span class="fu">LongLatToUTM</span>(dat_full<span class="sc">$</span>lon, dat_full<span class="sc">$</span>lat, <span class="at">zone =</span> <span class="dv">33</span>)</span>
<span id="cb432-3"><a href="#cb432-3" aria-hidden="true" tabindex="-1"></a>dat_full<span class="sc">$</span>X <span class="ot">&lt;-</span> utm_coords<span class="sc">$</span>X<span class="sc">/</span><span class="dv">1000</span> <span class="co"># for computational reasons we do it in km</span></span>
<span id="cb432-4"><a href="#cb432-4" aria-hidden="true" tabindex="-1"></a>dat_full<span class="sc">$</span>Y <span class="ot">&lt;-</span> utm_coords<span class="sc">$</span>Y<span class="sc">/</span><span class="dv">1000</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="save-data" class="level2">
<h2 class="anchored" data-anchor-id="save-data">Save data</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb433"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb433-1"><a href="#cb433-1" aria-hidden="true" tabindex="-1"></a>dat_full_save <span class="ot">&lt;-</span> dat_full <span class="sc">|&gt;</span></span>
<span id="cb433-2"><a href="#cb433-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>IDx, <span class="sc">-</span>haul.id.size) <span class="sc">|&gt;</span> </span>
<span id="cb433-3"><a href="#cb433-3" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span>
<span id="cb433-4"><a href="#cb433-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb433-5"><a href="#cb433-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(dat_full_save, <span class="at">file =</span> <span class="st">"data/clean/catch_by_length.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="compare-cod-data-with-orio-et-al-2017" class="level4">
<h4 class="anchored" data-anchor-id="compare-cod-data-with-orio-et-al-2017">Compare cod data with Orio et al (2017)</h4>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb434"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb434-1"><a href="#cb434-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">knit_exit</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>